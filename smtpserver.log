2018-02-15 19:33:59,952 DEBUG smtpserver get_localized_metric() Localized metric: guestfilesystem|percentage_total => 게스트 파일 시스템 통계|총 게스트 파일 시스템 사용량
2018-02-15 19:34:00,001 DEBUG smtpserver get_localized_metric() statkey: guestfilesystem|percentage_total
2018-02-15 19:34:00,008 DEBUG smtpserver get_localized_metric() Localized metric: guestfilesystem:D:\|percentage => 게스트 파일 시스템 통계|D:\|게스트 파일 시스템 사용량 (%)
2018-02-15 19:34:00,009 DEBUG smtpserver get_localized_metric() statkey: guestfilesystem:D:\|percentage
2018-02-15 19:34:00,010 DEBUG smtpserver Parsed Alert:
ALERT_STATUS: Updated
ALERT_IMPACT: health
ALERT_CRITICALITY: Immediate
ALERT_DEFINITION_NAME: KCC - 하나 이상의 가상 시스템 게스트 파일 시스템의 디스크 공간이 부족합니다.
ALERT_ID: 842b3473-482a-4eb1-9fbb-8428fad1d41a
ALERT_OWNER: Unable to retrieve value
ALERT_DEFINITION_DESC: 가상 시스템에서 하나 이상의 게스트 파일 시스템의 디스크 공간이 부족합니다. 증상 세부 정보를 확인하여 영향을 받는 게스트 파일 시스템을 식별하십시오.
AFFECTED_RESOURCE_NAME: JBOSS
AFFECTED_RESOURCE_KIND: VirtualMachine
ALERT_GENERATE_TIME: Wed Feb 14 20:08:46 KST 2018
ALERT_UPDATE_TIME: Wed Feb 14 20:08:46 KST 2018
ALERT_CANCEL_TIME: 
ANOMALIES: <span>ANOMALIES: SYMPTOM SET - self<br/><table border="1"><th>Symptom Name</th><th>Object Name</th><th>Object ID</th><th>Metric</th><th>Message Info</th><tr><td>게스트 파일 시스템 공간 사용량이 DT보다 높음</td><td>JBOSS</td><td>1aa557e3-e53e-4e48-89ff-b2def3e771c4</td><td>guestfilesystem|percentage_total</td><td>55.14 above 54.92210006713867</td></tr></table>SYMPTOM SET - self<br/><table border="1"><th>Symptom Name</th><th>Object Name</th><th>Object ID</th><th>Metric</th><th>Message Info</th><tr><td>게스트 파일 시스템 공간 사용량이 즉시 수준임</td><td>JBOSS</td><td>1aa557e3-e53e-4e48-89ff-b2def3e771c4</td><td>guestfilesystem:D:\|percentage</td><td>90.6 &gt; 90.0</td></tr></table></span>
ALERT_TYPE: Virtualization Problem
ALERT_SUBTYPE: Capacity Problem
CHILDREN_HEALTH: 
PARENT_HEALTH: 
FILTER_RULE_NAME: Dev SMTP (전체)
FILTER_RULE_DESC: 
ALERT_SUMMARY_LINK: https://70.11.11.217/ui/index.action#/object/1aa557e3-e53e-4e48-89ff-b2def3e771c4/alertsAndSymptoms/alerts/842b3473-482a-4eb1-9fbb-8428fad1d41a
ALERT_RECOMMENDATION: <span>ALERT_RECOMMENDATION: <br/>- 새 가상 하드 디스크를 추가하거나 가상 시스템의 기존 디스크를 확장합니다. 기존 디스크를 확장하려면 먼저 모든 스냅샷을 제거해야 합니다. 이 작업을 수행한 후에는 게스트 OS 관련 절차를 사용하여 새 디스크 또는 확장된 디스크에서 파일 시스템을 확장합니다.</span>
RESOURCE_HEALTH_STATE: 0.0
RESOURCE_RISK_STATE: 0.0
RESOURCE_EFFICIENCY_STATE: 0.0
ALERT_STATUS_TR: 경고 업데이트
ALERT_IMPACT_TR: 상태
ALERT_CRITICALITY_TR: 즉시
ALERT_OWNER_TR: 할당되지 않음
AFFECTED_RESOURCE_KIND_TR: 가상 시스템
ALERT_GENERATE_TIME_TR: 02-14 20:08 대한민국 표준시
ALERT_UPDATE_TIME_TR: 02-14 20:08 대한민국 표준시
ALERT_CANCEL_TIME_TR: -
ALERT_TYPE_TR: 가상화·하이퍼바이저
ALERT_SUBTYPE_TR: 용량
RESOURCE_HEALTH_STATE_TR: 없음
RESOURCE_RISK_STATE_TR: 없음
RESOURCE_EFFICIENCY_STATE_TR: 없음
ANOMALIES_TR: [{'Relation': 'self', 'Symptom Index': '1-1', 'Symptom Name': '게스트 파일 시스템 공간 사용량이 DT보다 높음', 'Object Name': 'JBOSS', 'Object ID': '1aa557e3-e53e-4e48-89ff-b2def3e771c4', 'Metric': '게스트 파일 시스템 통계|총 게스트 파일 시스템 사용량', 'Message Info': '55.14 above 54.92210006713867', 'Criticality': 'Warning', 'StatKey': 'guestfilesystem|percentage_total'}, {'Relation': 'self', 'Symptom Index': '2-1', 'Symptom Name': '게스트 파일 시스템 공간 사용량이 즉시 수준임', 'Object Name': 'JBOSS', 'Object ID': '1aa557e3-e53e-4e48-89ff-b2def3e771c4', 'Metric': '게스트 파일 시스템 통계|D:\\|게스트 파일 시스템 사용량 (%)', 'Message Info': '90.6 > 90.0', 'Criticality': 'Immediate', 'StatKey': 'guestfilesystem:D:\\|percentage'}]
ALERT_RECOMMENDATION_TR: ['새 가상 하드 디스크를 추가하거나 가상 시스템의 기존 디스크를 확장합니다. 기존 디스크를 확장하려면 먼저 모든 스냅샷을 제거해야 합니다. 이 작업을 수행한 후에는 게스트 OS 관련 절차를 사용하여 새 디스크 또는 확장된 디스크에서 파일 시스템을 확장합니다.']


2018-02-15 19:34:02,379 INFO smtpserver Message Dropped: OUTBOUND_ALERT_RULE does not match
2018-02-15 19:34:06,733 INFO smtpserver SMTPServer configuration file loaded: smtpserver.cfg
2018-02-15 19:34:06,741 INFO smtpserver Localization configuration file loaded: translation.cfg
2018-02-15 19:34:06,742 DEBUG smtpserver get_vrops_auth_token() Getting vROps authorization token from: https://vrops.kccworld.co.kr/suite-api/api/auth/token/acquire
2018-02-15 19:34:07,103 DEBUG smtpserver get_vrops_auth_token() Authorization token: {'token': '847c3541-ede4-4a34-b762-f8bfe360ec21::d077673e-f2f7-4bc2-98cc-79cdcd9de78a', 'validity': 1518712447115, 'expiresAt': '2018년 2월 16일 금요일 오전 1시 34분 07초 KST', 'roles': []}
2018-02-15 19:34:07,113 INFO smtpserver Listening vROps alert messages on 0.0.0.0:8668
2018-02-15 19:34:41,964 DEBUG smtpserver Email Message (RAW):
From: vRealize Operations <vRealizeOps-admin@example.com>
To: admin@vrops.kccworld.co.kr
Message-ID: <1293234653.4062.1518690882003.JavaMail.admin@vrops.kccworld.co.kr>
Subject: =?UTF-8?Q?[vRealize_Operations_Manager]_(Canceled)_?=
 =?UTF-8?Q?vRealize_Operations_Manager_Analytics-vRea?=
 =?UTF-8?Q?lize_Cluster_Node_-_=EC=95=84?=
 =?UTF-8?Q?=EC=9B=83=EB=B0=94=EC=9A=B4=EB=93=9C_?=
 =?UTF-8?Q?=EA=B2=BD=EA=B3=A0_=EC=95=8C=EB=A6=BC?=
 =?UTF-8?Q?=EC=9D=84_=EB=B3=B4=EB=82=B4=EC=A7=80?=
 =?UTF-8?Q?_=EB=AA=BB=ED=96=88=EC=8A=B5=EB=8B=88=EB=8B=A4?=
 =?UTF-8?Q?._=EC=95=84=EC=9B=83=EB=B0=94?=
 =?UTF-8?Q?=EC=9A=B4=EB=93=9C_=EC=95=8C=EB=A6=BC?=
 =?UTF-8?Q?=EC=9D=B4_=EC=9E=98=EB=AA=BB_?=
 =?UTF-8?Q?=EA=B5=AC=EC=84=B1=EB=90=98=EC=97=88=EA=B1=B0=EB=82=98?=
 =?UTF-8?Q?_=EB=84=88=EB=AC=B4_=EB=A7=8E?=
 =?UTF-8?Q?=EC=9D=80_=EC=95=8C=EB=A6=BC=EC=9D=B4?=
 =?UTF-8?Q?_=EC=9E=88=EC=9D=84_=EC=88=98?=
 =?UTF-8?Q?_=EC=9E=88=EC=8A=B5=EB=8B=88=EB=8B=A4.?=
MIME-Version: 1.0
Content-Type: text/html; charset=utf-8
Content-Transfer-Encoding: quoted-printable

<html><span>ALERT_STATUS: Canceled</span><span>ALERT_IMPACT: health</span><=
span>ALERT_CRITICALITY: AlertLevel: Warning</span><span>ALERT_DEFINITION_NA=
ME: =EC=95=84=EC=9B=83=EB=B0=94=EC=9A=B4=EB=93=9C =EA=B2=BD=EA=B3=A0 =EC=95=
=8C=EB=A6=BC=EC=9D=84 =EB=B3=B4=EB=82=B4=EC=A7=80 =EB=AA=BB=ED=96=88=EC=8A=
=B5=EB=8B=88=EB=8B=A4. =EC=95=84=EC=9B=83=EB=B0=94=EC=9A=B4=EB=93=9C =EC=95=
=8C=EB=A6=BC=EC=9D=B4 =EC=9E=98=EB=AA=BB =EA=B5=AC=EC=84=B1=EB=90=98=EC=97=
=88=EA=B1=B0=EB=82=98 =EB=84=88=EB=AC=B4 =EB=A7=8E=EC=9D=80 =EC=95=8C=EB=A6=
=BC=EC=9D=B4 =EC=9E=88=EC=9D=84 =EC=88=98 =EC=9E=88=EC=8A=B5=EB=8B=88=EB=8B=
=A4.</span><span>ALERT_ID: a06a2f41-83e4-4f0a-9668-91c391829beb</span><span=
>ALERT_OWNER: Unable to retrieve value</span><span>ALERT_DEFINITION_DESC: =
=EC=95=84=EC=9B=83=EB=B0=94=EC=9A=B4=EB=93=9C =EA=B2=BD=EA=B3=A0 =EC=95=8C=
=EB=A6=BC=EC=9D=84 =EB=B3=B4=EB=82=B4=EC=A7=80 =EB=AA=BB=ED=96=88=EC=8A=B5=
=EB=8B=88=EB=8B=A4. =EC=95=84=EC=9B=83=EB=B0=94=EC=9A=B4=EB=93=9C =EC=95=8C=
=EB=A6=BC=EC=9D=B4 =EC=9E=98=EB=AA=BB =EA=B5=AC=EC=84=B1=EB=90=98=EC=97=88=
=EA=B1=B0=EB=82=98 =EB=84=88=EB=AC=B4 =EB=A7=8E=EC=9D=80 =EC=95=8C=EB=A6=BC=
=EC=9D=B4 =EC=9E=88=EC=9D=84 =EC=88=98 =EC=9E=88=EC=8A=B5=EB=8B=88=EB=8B=A4=
.</span><span>AFFECTED_RESOURCE_NAME: vRealize Operations Manager Analytics=
-vRealize Cluster Node</span><span>AFFECTED_RESOURCE_KIND: vC-Ops-Analytics=
</span><span>ALERT_GENERATE_TIME: Thu Feb 15 18:38:48 KST 2018</span><span>=
ALERT_UPDATE_TIME: Thu Feb 15 18:38:48 KST 2018</span><span>ALERT_CANCEL_TI=
ME: Thu Feb 15 19:33:48 KST 2018</span><span>ANOMALIES: SYMPTOM SET - self<=
br><table border=3D'1'><th>Symptom Name</th><th>Object Name</th><th>Object =
ID</th><th>Metric</th><th>Message Info</th><tr><td>=EB=B6=84=EC=84=9D=EC=97=
=90=EC=84=9C =EA=B2=BD=EA=B3=A0 =EC=95=8C=EB=A6=BC=EC=9D=84 =EB=B3=B4=EB=82=
=B4=EC=A7=80 =EB=AA=BB=ED=96=88=EC=8A=B5=EB=8B=88=EB=8B=A4.</td><td>vRealiz=
e Operations Manager Analytics-vRealize Cluster Node</td><td>983ecbb8-ab11-=
4a32-bc91-66dbd86a5cb3</td><td></td><td>Outbound Alert Send Failed for  ins=
tanceId =3D 44d5e9cd-ddf7-4ef5-8cd1-b5cb43dd3dac, plugin key =3D Dev SMTP 1=
123</td></tr></table></span><span>ALERT_TYPE: Application Problem</span><sp=
an>ALERT_SUBTYPE: Performance Problem</span><span>CHILDREN_HEALTH: </span><=
span>PARENT_HEALTH: </span><span>FILTER_RULE_NAME: Dev SMTP (=EC=A0=84=EC=
=B2=B4)</span><span>FILTER_RULE_DESC: </span><span>ALERT_SUMMARY_LINK: http=
s://70.11.11.217/ui/index.action#/object/983ecbb8-ab11-4a32-bc91-66dbd86a5c=
b3/alertsAndSymptoms/alerts/a06a2f41-83e4-4f0a-9668-91c391829beb</span><spa=
n>ALERT_RECOMMENDATION: <br>- =EC=95=8C=EB=A6=BC =EC=84=A4=EC=A0=95=EC=9D=
=84 =EA=B2=80=ED=86=A0=ED=95=98=EA=B3=A0 =EC=95=8C=EB=A6=BC =EC=88=98=EB=A5=
=BC =EC=A4=84=EC=9D=BC =EC=88=98 =EC=9E=88=EB=8F=84=EB=A1=9D =EC=84=A4=EC=
=A0=95=EC=9D=84 =EC=88=98=EC=A0=95=ED=95=A0 =EC=88=98 =EC=9E=88=EB=8A=94=EC=
=A7=80 =EC=97=AC=EB=B6=80=EB=A5=BC =ED=99=95=EC=9D=B8=ED=95=A9=EB=8B=88=EB=
=8B=A4.</span><span>RESOURCE_HEALTH_STATE: 2.0</span><span>RESOURCE_RISK_ST=
ATE: 1.0</span><span>RESOURCE_EFFICIENCY_STATE: 1.0</span><BR></html>

2018-02-15 19:34:41,980 DEBUG smtpserver Email Content (Decoded):
<html><span>ALERT_STATUS: Canceled</span><span>ALERT_IMPACT: health</span><span>ALERT_CRITICALITY: AlertLevel: Warning</span><span>ALERT_DEFINITION_NAME: 아웃바운드 경고 알림을 보내지 못했습니다. 아웃바운드 알림이 잘못 구성되었거나 너무 많은 알림이 있을 수 있습니다.</span><span>ALERT_ID: a06a2f41-83e4-4f0a-9668-91c391829beb</span><span>ALERT_OWNER: Unable to retrieve value</span><span>ALERT_DEFINITION_DESC: 아웃바운드 경고 알림을 보내지 못했습니다. 아웃바운드 알림이 잘못 구성되었거나 너무 많은 알림이 있을 수 있습니다.</span><span>AFFECTED_RESOURCE_NAME: vRealize Operations Manager Analytics-vRealize Cluster Node</span><span>AFFECTED_RESOURCE_KIND: vC-Ops-Analytics</span><span>ALERT_GENERATE_TIME: Thu Feb 15 18:38:48 KST 2018</span><span>ALERT_UPDATE_TIME: Thu Feb 15 18:38:48 KST 2018</span><span>ALERT_CANCEL_TIME: Thu Feb 15 19:33:48 KST 2018</span><span>ANOMALIES: SYMPTOM SET - self<br><table border='1'><th>Symptom Name</th><th>Object Name</th><th>Object ID</th><th>Metric</th><th>Message Info</th><tr><td>분석에서 경고 알림을 보내지 못했습니다.</td><td>vRealize Operations Manager Analytics-vRealize Cluster Node</td><td>983ecbb8-ab11-4a32-bc91-66dbd86a5cb3</td><td></td><td>Outbound Alert Send Failed for  instanceId = 44d5e9cd-ddf7-4ef5-8cd1-b5cb43dd3dac, plugin key = Dev SMTP 1123</td></tr></table></span><span>ALERT_TYPE: Application Problem</span><span>ALERT_SUBTYPE: Performance Problem</span><span>CHILDREN_HEALTH: </span><span>PARENT_HEALTH: </span><span>FILTER_RULE_NAME: Dev SMTP (전체)</span><span>FILTER_RULE_DESC: </span><span>ALERT_SUMMARY_LINK: https://70.11.11.217/ui/index.action#/object/983ecbb8-ab11-4a32-bc91-66dbd86a5cb3/alertsAndSymptoms/alerts/a06a2f41-83e4-4f0a-9668-91c391829beb</span><span>ALERT_RECOMMENDATION: <br>- 알림 설정을 검토하고 알림 수를 줄일 수 있도록 설정을 수정할 수 있는지 여부를 확인합니다.</span><span>RESOURCE_HEALTH_STATE: 2.0</span><span>RESOURCE_RISK_STATE: 1.0</span><span>RESOURCE_EFFICIENCY_STATE: 1.0</span><BR></html>

2018-02-15 19:34:41,980 DEBUG smtpserver Anomalies:
[{'Relation': 'self', 'Symptom Index': '1-1', 'Symptom Name': '분석에서 경고 알림을 보내지 못했습니다.', 'Object Name': 'vRealize Operations Manager Analytics-vRealize Cluster Node', 'Object ID': '983ecbb8-ab11-4a32-bc91-66dbd86a5cb3', 'Metric': None, 'Message Info': 'Outbound Alert Send Failed for  instanceId = 44d5e9cd-ddf7-4ef5-8cd1-b5cb43dd3dac, plugin key = Dev SMTP 1123'}]

2018-02-15 19:34:41,980 DEBUG smtpserver get_symptom_definition_summary() Fetching alert detail from: https://vrops.kccworld.co.kr/suite-api/api/alerts/a06a2f41-83e4-4f0a-9668-91c391829beb
2018-02-15 19:34:42,071 DEBUG smtpserver get_symptom_definition_summary() alert_definition_id: AlertDefinition-vCenter Operations Adapter-OutboundAlertFailedAlert
2018-02-15 19:34:42,072 DEBUG smtpserver get_symptom_definition_summary() Fetching alert definition from: https://vrops.kccworld.co.kr/suite-api/api/alertdefinitions/AlertDefinition-vCenter Operations Adapter-OutboundAlertFailedAlert
2018-02-15 19:34:42,158 DEBUG smtpserver get_symptom_definition_summary() alert_definition:
{'id': 'AlertDefinition-vCenter Operations Adapter-OutboundAlertFailedAlert', 'name': '아웃바운드 경고 알림을 보내지 못했습니다. 아웃바운드 알림이 잘못 구성되었거나 너무 많은 알림이 있을 수 있습니다.', 'description': '아웃바운드 경고 알림을 보내지 못했습니다. 아웃바운드 알림이 잘못 구성되었거나 너무 많은 알림이 있을 수 있습니다.', 'adapterKindKey': 'vCenter Operations Adapter', 'resourceKindKey': 'vC-Ops-Analytics', 'waitCycles': 1, 'cancelCycles': 1, 'type': 15, 'subType': 19, 'states': [{'severity': 'AUTO', 'base-symptom-set': {'type': 'SYMPTOM_SET', 'relation': 'SELF', 'aggregation': 'ANY', 'symptomSetOperator': 'OR', 'symptomDefinitionIds': ['SymptomDefinition-vCenter Operations Adapter-OutboundAlertFailedSymptom']}, 'impact': {'impactType': 'BADGE', 'detail': 'health'}, 'recommendationPriorityMap': {'Recommendation-df-vCenter Operations Adapter-ReviewOutboundAlertConfig': 1}}]}

2018-02-15 19:34:42,158 DEBUG smtpserver get_symptom_definition_summary() symptom_sets:
[{'type': 'SYMPTOM_SET', 'relation': 'SELF', 'aggregation': 'ANY', 'symptomSetOperator': 'OR', 'symptomDefinitionIds': ['SymptomDefinition-vCenter Operations Adapter-OutboundAlertFailedSymptom']}]

2018-02-15 19:34:42,158 DEBUG smtpserver get_symptom_definition_summary() symptom_definition_ids:
['SymptomDefinition-vCenter Operations Adapter-OutboundAlertFailedSymptom']

2018-02-15 19:34:42,789 DEBUG smtpserver get_symptom_definition_summary() symptom_definitions:
[{'id': 'SymptomDefinition-vCenter Operations Adapter-OutboundAlertFailedSymptom', 'name': '분석에서 경고 알림을 보내지 못했습니다.', 'adapterKindKey': 'vCenter Operations Adapter', 'resourceKindKey': 'vC-Ops-Analytics', 'waitCycles': 1, 'cancelCycles': 1, 'state': {'severity': 'WARNING', 'condition': {'type': 'CONDITION_MESSAGE_EVENT', 'eventType': 'SYSTEM_DEGRADATION', 'message': 'Outbound Alert Send Failed', 'operator': 'CONTAINS'}}}]

2018-02-15 19:34:42,789 DEBUG smtpserver get_symptom_definition_summary() symptom_definition_summary:
[{'name': '분석에서 경고 알림을 보내지 못했습니다.', 'adapterKindKey': 'vCenter Operations Adapter', 'resourceKindKey': 'vC-Ops-Analytics', 'severity': 'WARNING', 'type': 'CONDITION_MESSAGE_EVENT', 'key': None, 'instanced': None}]

2018-02-15 19:34:42,789 DEBUG smtpserver get_localized_metric() Localized metric: None => 메트릭 증상이 아님
2018-02-15 19:34:42,789 DEBUG smtpserver get_localized_metric() statkey: None
2018-02-15 19:34:42,789 DEBUG smtpserver Parsed Alert:
ALERT_STATUS: Canceled
ALERT_IMPACT: health
ALERT_CRITICALITY: Warning
ALERT_DEFINITION_NAME: 아웃바운드 경고 알림을 보내지 못했습니다. 아웃바운드 알림이 잘못 구성되었거나 너무 많은 알림이 있을 수 있습니다.
ALERT_ID: a06a2f41-83e4-4f0a-9668-91c391829beb
ALERT_OWNER: Unable to retrieve value
ALERT_DEFINITION_DESC: 아웃바운드 경고 알림을 보내지 못했습니다. 아웃바운드 알림이 잘못 구성되었거나 너무 많은 알림이 있을 수 있습니다.
AFFECTED_RESOURCE_NAME: vRealize Operations Manager Analytics-vRealize Cluster Node
AFFECTED_RESOURCE_KIND: vC-Ops-Analytics
ALERT_GENERATE_TIME: Thu Feb 15 18:38:48 KST 2018
ALERT_UPDATE_TIME: Thu Feb 15 18:38:48 KST 2018
ALERT_CANCEL_TIME: Thu Feb 15 19:33:48 KST 2018
ANOMALIES: <span>ANOMALIES: SYMPTOM SET - self<br/><table border="1"><th>Symptom Name</th><th>Object Name</th><th>Object ID</th><th>Metric</th><th>Message Info</th><tr><td>분석에서 경고 알림을 보내지 못했습니다.</td><td>vRealize Operations Manager Analytics-vRealize Cluster Node</td><td>983ecbb8-ab11-4a32-bc91-66dbd86a5cb3</td><td></td><td>Outbound Alert Send Failed for  instanceId = 44d5e9cd-ddf7-4ef5-8cd1-b5cb43dd3dac, plugin key = Dev SMTP 1123</td></tr></table></span>
ALERT_TYPE: Application Problem
ALERT_SUBTYPE: Performance Problem
CHILDREN_HEALTH: 
PARENT_HEALTH: 
FILTER_RULE_NAME: Dev SMTP (전체)
FILTER_RULE_DESC: 
ALERT_SUMMARY_LINK: https://70.11.11.217/ui/index.action#/object/983ecbb8-ab11-4a32-bc91-66dbd86a5cb3/alertsAndSymptoms/alerts/a06a2f41-83e4-4f0a-9668-91c391829beb
ALERT_RECOMMENDATION: <span>ALERT_RECOMMENDATION: <br/>- 알림 설정을 검토하고 알림 수를 줄일 수 있도록 설정을 수정할 수 있는지 여부를 확인합니다.</span>
RESOURCE_HEALTH_STATE: 2.0
RESOURCE_RISK_STATE: 1.0
RESOURCE_EFFICIENCY_STATE: 1.0
ALERT_STATUS_TR: 경고 취소
ALERT_IMPACT_TR: 상태
ALERT_CRITICALITY_TR: 주의
ALERT_OWNER_TR: 할당되지 않음
AFFECTED_RESOURCE_KIND_TR: vRealize Operations 분석
ALERT_GENERATE_TIME_TR: 02-15 18:38 대한민국 표준시
ALERT_UPDATE_TIME_TR: -
ALERT_CANCEL_TIME_TR: 02-15 19:33 대한민국 표준시
ALERT_TYPE_TR: 애플리케이션
ALERT_SUBTYPE_TR: 성능
RESOURCE_HEALTH_STATE_TR: 주의
RESOURCE_RISK_STATE_TR: 정보
RESOURCE_EFFICIENCY_STATE_TR: 정보
ANOMALIES_TR: [{'Relation': 'self', 'Symptom Index': '1-1', 'Symptom Name': '분석에서 경고 알림을 보내지 못했습니다.', 'Object Name': 'vRealize Operations Manager Analytics-vRealize Cluster Node', 'Object ID': '983ecbb8-ab11-4a32-bc91-66dbd86a5cb3', 'Metric': '메트릭 증상이 아님', 'Message Info': 'Outbound Alert Send Failed for  instanceId = 44d5e9cd-ddf7-4ef5-8cd1-b5cb43dd3dac, plugin key = Dev SMTP 1123', 'StatKey': None, 'Criticality': 'Warning'}]
ALERT_RECOMMENDATION_TR: ['알림 설정을 검토하고 알림 수를 줄일 수 있도록 설정을 수정할 수 있는지 여부를 확인합니다.']


2018-02-15 19:34:45,000 DEBUG smtpserver Email Message (RAW):
From: vRealize Operations <vRealizeOps-admin@example.com>
To: admin@vrops.kccworld.co.kr
Message-ID: <1119346931.4063.1518690885047.JavaMail.admin@vrops.kccworld.co.kr>
Subject: =?UTF-8?Q?[vRealize_Operations_Manager]_(Update?=
 =?UTF-8?Q?d)_ICMP_-_OCRSRV01?=
 =?UTF-8?Q?_-_KCC_-_Ping_=EC=B2=B4=ED=81=AC_=EC=8B=A4=ED=8C=A8?=
MIME-Version: 1.0
Content-Type: text/html; charset=utf-8
Content-Transfer-Encoding: quoted-printable

<html><span>ALERT_STATUS: Updated</span><span>ALERT_IMPACT: health</span><s=
pan>ALERT_CRITICALITY: AlertLevel: Critical</span><span>ALERT_DEFINITION_NA=
ME: KCC - Ping =EC=B2=B4=ED=81=AC =EC=8B=A4=ED=8C=A8</span><span>ALERT_ID: =
ff94c16d-bcbf-4b45-b079-7253d6ea3af3</span><span>ALERT_OWNER: Unable to ret=
rieve value</span><span>ALERT_DEFINITION_DESC: =EC=9B=90=EA=B2=A9 ICMP =EC=
=B2=B4=ED=81=AC=EC=97=90 =EC=8B=A4=ED=8C=A8=ED=95=98=EC=98=80=EC=8A=B5=EB=
=8B=88=EB=8B=A4.</span><span>AFFECTED_RESOURCE_NAME: ICMP - OCRSRV01</span>=
<span>AFFECTED_RESOURCE_KIND: ICMP Check</span><span>ALERT_GENERATE_TIME: M=
on Dec 04 09:18:00 KST 2017</span><span>ALERT_UPDATE_TIME: Mon Dec 04 09:18=
:00 KST 2017</span><span>ALERT_CANCEL_TIME: </span><span>ANOMALIES: SYMPTOM=
 SET - self<br><table border=3D'1'><th>Symptom Name</th><th>Object Name</th=
><th>Object ID</th><th>Metric</th><th>Message Info</th><tr><td>=EA=B0=9C=EC=
=B2=B4=EB=A5=BC =EC=82=AC=EC=9A=A9=ED=95=A0 =EC=88=98 =EC=97=86=EC=9D=8C</t=
d><td>ICMP - OCRSRV01</td><td>4d262f95-fc60-455e-b63f-2404664b5fb8</td><td>=
AVAILABILITY|ResourceAvailability</td><td>0.0 =3D 0.0</td></tr></table></sp=
an><span>ALERT_TYPE: Application Problem</span><span>ALERT_SUBTYPE: Availab=
ility Problem</span><span>CHILDREN_HEALTH: </span><span>PARENT_HEALTH: </sp=
an><span>FILTER_RULE_NAME: Dev SMTP (=EC=A0=84=EC=B2=B4)</span><span>FILTER=
_RULE_DESC: </span><span>ALERT_SUMMARY_LINK: https://70.11.11.217/ui/index.=
action#/object/4d262f95-fc60-455e-b63f-2404664b5fb8/alertsAndSymptoms/alert=
s/ff94c16d-bcbf-4b45-b079-7253d6ea3af3</span><span>ALERT_RECOMMENDATION: <b=
r>- =EB=A6=AC=EC=86=8C=EC=8A=A4=EB=A5=BC =EC=82=AC=EC=9A=A9=ED=95=A0 =EC=88=
=98 =EC=9E=88=EB=8A=94=EC=A7=80 =ED=99=95=EC=9D=B8=ED=95=98=EC=8B=AD=EC=8B=
=9C=EC=98=A4. =EC=82=AC=EC=9A=A9=ED=95=A0 =EC=88=98 =EC=97=86=EB=8A=94 =EA=
=B2=BD=EC=9A=B0 =EB=A6=AC=EC=86=8C=EC=8A=A4=EB=A5=BC =EB=8B=A4=EC=8B=9C =EC=
=8B=9C=EC=9E=91=ED=95=98=EA=B3=A0, =EC=82=AC=EC=9A=A9=ED=95=A0 =EC=88=98 =
=EC=9E=88=EB=8A=94 =EA=B2=BD=EC=9A=B0 =EC=9B=90=EA=B2=A9 =ED=99=95=EC=9D=B8=
=EA=B3=BC =EB=A6=AC=EC=86=8C=EC=8A=A4 =EA=B0=84=EC=9D=98 =EB=84=A4=ED=8A=B8=
=EC=9B=8C=ED=81=AC =EC=97=B0=EA=B2=B0=EC=9D=84 =ED=99=95=EC=9D=B8=ED=95=98=
=EC=8B=AD=EC=8B=9C=EC=98=A4.</span><span>RESOURCE_HEALTH_STATE: 0.0</span><=
span>RESOURCE_RISK_STATE: 0.0</span><span>RESOURCE_EFFICIENCY_STATE: 0.0</s=
pan><BR></html>

2018-02-15 19:34:45,000 DEBUG smtpserver Email Content (Decoded):
<html><span>ALERT_STATUS: Updated</span><span>ALERT_IMPACT: health</span><span>ALERT_CRITICALITY: AlertLevel: Critical</span><span>ALERT_DEFINITION_NAME: KCC - Ping 체크 실패</span><span>ALERT_ID: ff94c16d-bcbf-4b45-b079-7253d6ea3af3</span><span>ALERT_OWNER: Unable to retrieve value</span><span>ALERT_DEFINITION_DESC: 원격 ICMP 체크에 실패하였습니다.</span><span>AFFECTED_RESOURCE_NAME: ICMP - OCRSRV01</span><span>AFFECTED_RESOURCE_KIND: ICMP Check</span><span>ALERT_GENERATE_TIME: Mon Dec 04 09:18:00 KST 2017</span><span>ALERT_UPDATE_TIME: Mon Dec 04 09:18:00 KST 2017</span><span>ALERT_CANCEL_TIME: </span><span>ANOMALIES: SYMPTOM SET - self<br><table border='1'><th>Symptom Name</th><th>Object Name</th><th>Object ID</th><th>Metric</th><th>Message Info</th><tr><td>개체를 사용할 수 없음</td><td>ICMP - OCRSRV01</td><td>4d262f95-fc60-455e-b63f-2404664b5fb8</td><td>AVAILABILITY|ResourceAvailability</td><td>0.0 = 0.0</td></tr></table></span><span>ALERT_TYPE: Application Problem</span><span>ALERT_SUBTYPE: Availability Problem</span><span>CHILDREN_HEALTH: </span><span>PARENT_HEALTH: </span><span>FILTER_RULE_NAME: Dev SMTP (전체)</span><span>FILTER_RULE_DESC: </span><span>ALERT_SUMMARY_LINK: https://70.11.11.217/ui/index.action#/object/4d262f95-fc60-455e-b63f-2404664b5fb8/alertsAndSymptoms/alerts/ff94c16d-bcbf-4b45-b079-7253d6ea3af3</span><span>ALERT_RECOMMENDATION: <br>- 리소스를 사용할 수 있는지 확인하십시오. 사용할 수 없는 경우 리소스를 다시 시작하고, 사용할 수 있는 경우 원격 확인과 리소스 간의 네트워크 연결을 확인하십시오.</span><span>RESOURCE_HEALTH_STATE: 0.0</span><span>RESOURCE_RISK_STATE: 0.0</span><span>RESOURCE_EFFICIENCY_STATE: 0.0</span><BR></html>

2018-02-15 19:34:45,015 DEBUG smtpserver get_localized_str() configparser.NoOptionError in get_localized_str: No option 'icmp check' in section: 'AFFECTED_RESOURCE_KIND'
2018-02-15 19:34:45,015 DEBUG smtpserver Anomalies:
[{'Relation': 'self', 'Symptom Index': '1-1', 'Symptom Name': '개체를 사용할 수 없음', 'Object Name': 'ICMP - OCRSRV01', 'Object ID': '4d262f95-fc60-455e-b63f-2404664b5fb8', 'Metric': 'AVAILABILITY|ResourceAvailability', 'Message Info': '0.0 = 0.0'}]

2018-02-15 19:34:45,015 DEBUG smtpserver get_symptom_definition_summary() Fetching alert detail from: https://vrops.kccworld.co.kr/suite-api/api/alerts/ff94c16d-bcbf-4b45-b079-7253d6ea3af3
2018-02-15 19:34:45,093 DEBUG smtpserver get_symptom_definition_summary() alert_definition_id: AlertDefinition-74f10927-2698-4665-83e6-4ad9e03f830d
2018-02-15 19:34:45,093 DEBUG smtpserver get_symptom_definition_summary() Fetching alert definition from: https://vrops.kccworld.co.kr/suite-api/api/alertdefinitions/AlertDefinition-74f10927-2698-4665-83e6-4ad9e03f830d
2018-02-15 19:34:45,193 DEBUG smtpserver get_symptom_definition_summary() alert_definition:
{'id': 'AlertDefinition-74f10927-2698-4665-83e6-4ad9e03f830d', 'name': 'KCC - Ping 체크 실패', 'description': '원격 ICMP 체크에 실패하였습니다.', 'adapterKindKey': 'EP Ops Adapter', 'resourceKindKey': 'ICMP Check', 'waitCycles': 1, 'cancelCycles': 1, 'type': 15, 'subType': 18, 'states': [{'severity': 'CRITICAL', 'base-symptom-set': {'type': 'SYMPTOM_SET', 'relation': 'SELF', 'symptomSetOperator': 'OR', 'symptomDefinitionIds': ['SymptomDefinition-7124386f-7c59-4036-907b-4f55d81defa8']}, 'impact': {'impactType': 'BADGE', 'detail': 'health'}, 'recommendationPriorityMap': {'Recommendation-df-EP Ops Adapter-r1': 1}}]}

2018-02-15 19:34:45,196 DEBUG smtpserver get_symptom_definition_summary() symptom_sets:
[{'type': 'SYMPTOM_SET', 'relation': 'SELF', 'symptomSetOperator': 'OR', 'symptomDefinitionIds': ['SymptomDefinition-7124386f-7c59-4036-907b-4f55d81defa8']}]

2018-02-15 19:34:45,197 DEBUG smtpserver get_symptom_definition_summary() symptom_definition_ids:
['SymptomDefinition-7124386f-7c59-4036-907b-4f55d81defa8']

2018-02-15 19:34:45,834 DEBUG smtpserver get_symptom_definition_summary() symptom_definitions:
[{'id': 'SymptomDefinition-7124386f-7c59-4036-907b-4f55d81defa8', 'name': 'KCC - ICMP Check Availability', 'adapterKindKey': 'EP Ops Adapter', 'resourceKindKey': 'ICMP Check', 'waitCycles': 1, 'cancelCycles': 1, 'state': {'severity': 'CRITICAL', 'condition': {'type': 'CONDITION_HT', 'key': 'AVAILABILITY|ResourceAvailability', 'operator': 'NOT_EQ', 'value': '100.0', 'valueType': 'NUMERIC', 'instanced': False, 'thresholdType': 'STATIC'}}}]

2018-02-15 19:34:45,838 DEBUG smtpserver get_symptom_definition_summary() symptom_definition_summary:
[{'name': 'KCC - ICMP Check Availability', 'adapterKindKey': 'EP Ops Adapter', 'resourceKindKey': 'ICMP Check', 'severity': 'CRITICAL', 'type': 'CONDITION_HT', 'key': 'AVAILABILITY|ResourceAvailability', 'instanced': False}]

2018-02-15 19:34:45,839 DEBUG smtpserver Parsed Alert:
ALERT_STATUS: Updated
ALERT_IMPACT: health
ALERT_CRITICALITY: Critical
ALERT_DEFINITION_NAME: KCC - Ping 체크 실패
ALERT_ID: ff94c16d-bcbf-4b45-b079-7253d6ea3af3
ALERT_OWNER: Unable to retrieve value
ALERT_DEFINITION_DESC: 원격 ICMP 체크에 실패하였습니다.
AFFECTED_RESOURCE_NAME: ICMP - OCRSRV01
AFFECTED_RESOURCE_KIND: ICMP Check
ALERT_GENERATE_TIME: Mon Dec 04 09:18:00 KST 2017
ALERT_UPDATE_TIME: Mon Dec 04 09:18:00 KST 2017
ALERT_CANCEL_TIME: 
ANOMALIES: <span>ANOMALIES: SYMPTOM SET - self<br/><table border="1"><th>Symptom Name</th><th>Object Name</th><th>Object ID</th><th>Metric</th><th>Message Info</th><tr><td>개체를 사용할 수 없음</td><td>ICMP - OCRSRV01</td><td>4d262f95-fc60-455e-b63f-2404664b5fb8</td><td>AVAILABILITY|ResourceAvailability</td><td>0.0 = 0.0</td></tr></table></span>
ALERT_TYPE: Application Problem
ALERT_SUBTYPE: Availability Problem
CHILDREN_HEALTH: 
PARENT_HEALTH: 
FILTER_RULE_NAME: Dev SMTP (전체)
FILTER_RULE_DESC: 
ALERT_SUMMARY_LINK: https://70.11.11.217/ui/index.action#/object/4d262f95-fc60-455e-b63f-2404664b5fb8/alertsAndSymptoms/alerts/ff94c16d-bcbf-4b45-b079-7253d6ea3af3
ALERT_RECOMMENDATION: <span>ALERT_RECOMMENDATION: <br/>- 리소스를 사용할 수 있는지 확인하십시오. 사용할 수 없는 경우 리소스를 다시 시작하고, 사용할 수 있는 경우 원격 확인과 리소스 간의 네트워크 연결을 확인하십시오.</span>
RESOURCE_HEALTH_STATE: 0.0
RESOURCE_RISK_STATE: 0.0
RESOURCE_EFFICIENCY_STATE: 0.0
ALERT_STATUS_TR: 경고 업데이트
ALERT_IMPACT_TR: 상태
ALERT_CRITICALITY_TR: 위험
ALERT_OWNER_TR: 할당되지 않음
AFFECTED_RESOURCE_KIND_TR: ICMP Check
ALERT_GENERATE_TIME_TR: 12-04 09:18 대한민국 표준시
ALERT_UPDATE_TIME_TR: 12-04 09:18 대한민국 표준시
ALERT_CANCEL_TIME_TR: -
ALERT_TYPE_TR: 애플리케이션
ALERT_SUBTYPE_TR: 가용성
RESOURCE_HEALTH_STATE_TR: 없음
RESOURCE_RISK_STATE_TR: 없음
RESOURCE_EFFICIENCY_STATE_TR: 없음
ANOMALIES_TR: [{'Relation': 'self', 'Symptom Index': '1-1', 'Symptom Name': '개체를 사용할 수 없음', 'Object Name': 'ICMP - OCRSRV01', 'Object ID': '4d262f95-fc60-455e-b63f-2404664b5fb8', 'Metric': '가용성|자원 가용성 (%)', 'Message Info': '0.0 = 0.0', 'StatKey': 'AVAILABILITY|ResourceAvailability', 'Criticality': 'Critical'}]
ALERT_RECOMMENDATION_TR: ['리소스를 사용할 수 있는지 확인하십시오. 사용할 수 없는 경우 리소스를 다시 시작하고, 사용할 수 있는 경우 원격 확인과 리소스 간의 네트워크 연결을 확인하십시오.']


2018-02-15 19:34:48,102 INFO smtpserver Message Dropped: OUTBOUND_ALERT_RULE does not match
2018-02-15 19:39:58,197 INFO smtpserver Message Dropped: OUTBOUND_ALERT_RULE does not match
2018-02-15 19:39:58,456 DEBUG smtpserver Email Message (RAW):
From: vRealize Operations <vRealizeOps-admin@example.com>
To: admin@vrops.kccworld.co.kr
Message-ID: <1936381690.4066.1518691198496.JavaMail.admin@vrops.kccworld.co.kr>
Subject: =?UTF-8?Q?[vRealize_Operations_Manager]_(Update?=
 =?UTF-8?Q?d)_ICMP_-_OCRSRV01?=
 =?UTF-8?Q?_-_KCC_-_Ping_=EC=B2=B4=ED=81=AC_=EC=8B=A4=ED=8C=A8?=
MIME-Version: 1.0
Content-Type: text/html; charset=utf-8
Content-Transfer-Encoding: quoted-printable

<html><span>ALERT_STATUS: Updated</span><span>ALERT_IMPACT: health</span><s=
pan>ALERT_CRITICALITY: AlertLevel: Critical</span><span>ALERT_DEFINITION_NA=
ME: KCC - Ping =EC=B2=B4=ED=81=AC =EC=8B=A4=ED=8C=A8</span><span>ALERT_ID: =
ff94c16d-bcbf-4b45-b079-7253d6ea3af3</span><span>ALERT_OWNER: Unable to ret=
rieve value</span><span>ALERT_DEFINITION_DESC: =EC=9B=90=EA=B2=A9 ICMP =EC=
=B2=B4=ED=81=AC=EC=97=90 =EC=8B=A4=ED=8C=A8=ED=95=98=EC=98=80=EC=8A=B5=EB=
=8B=88=EB=8B=A4.</span><span>AFFECTED_RESOURCE_NAME: ICMP - OCRSRV01</span>=
<span>AFFECTED_RESOURCE_KIND: ICMP Check</span><span>ALERT_GENERATE_TIME: M=
on Dec 04 09:18:00 KST 2017</span><span>ALERT_UPDATE_TIME: Mon Dec 04 09:18=
:00 KST 2017</span><span>ALERT_CANCEL_TIME: </span><span>ANOMALIES: SYMPTOM=
 SET - self<br><table border=3D'1'><th>Symptom Name</th><th>Object Name</th=
><th>Object ID</th><th>Metric</th><th>Message Info</th><tr><td>=EA=B0=9C=EC=
=B2=B4=EB=A5=BC =EC=82=AC=EC=9A=A9=ED=95=A0 =EC=88=98 =EC=97=86=EC=9D=8C</t=
d><td>ICMP - OCRSRV01</td><td>4d262f95-fc60-455e-b63f-2404664b5fb8</td><td>=
AVAILABILITY|Resource Availability</td><td>0.0 =3D 0.0</td></tr></table></s=
pan><span>ALERT_TYPE: Application Problem</span><span>ALERT_SUBTYPE: Availa=
bility Problem</span><span>CHILDREN_HEALTH: </span><span>PARENT_HEALTH: </s=
pan><span>FILTER_RULE_NAME: Dev SMTP (=EC=A0=84=EC=B2=B4)</span><span>FILTE=
R_RULE_DESC: </span><span>ALERT_SUMMARY_LINK: https://70.11.11.217/ui/index=
.action#/object/4d262f95-fc60-455e-b63f-2404664b5fb8/alertsAndSymptoms/aler=
ts/ff94c16d-bcbf-4b45-b079-7253d6ea3af3</span><span>ALERT_RECOMMENDATION: <=
br>- =EB=A6=AC=EC=86=8C=EC=8A=A4=EB=A5=BC =EC=82=AC=EC=9A=A9=ED=95=A0 =EC=
=88=98 =EC=9E=88=EB=8A=94=EC=A7=80 =ED=99=95=EC=9D=B8=ED=95=98=EC=8B=AD=EC=
=8B=9C=EC=98=A4. =EC=82=AC=EC=9A=A9=ED=95=A0 =EC=88=98 =EC=97=86=EB=8A=94 =
=EA=B2=BD=EC=9A=B0 =EB=A6=AC=EC=86=8C=EC=8A=A4=EB=A5=BC =EB=8B=A4=EC=8B=9C =
=EC=8B=9C=EC=9E=91=ED=95=98=EA=B3=A0, =EC=82=AC=EC=9A=A9=ED=95=A0 =EC=88=98=
 =EC=9E=88=EB=8A=94 =EA=B2=BD=EC=9A=B0 =EC=9B=90=EA=B2=A9 =ED=99=95=EC=9D=
=B8=EA=B3=BC =EB=A6=AC=EC=86=8C=EC=8A=A4 =EA=B0=84=EC=9D=98 =EB=84=A4=ED=8A=
=B8=EC=9B=8C=ED=81=AC =EC=97=B0=EA=B2=B0=EC=9D=84 =ED=99=95=EC=9D=B8=ED=95=
=98=EC=8B=AD=EC=8B=9C=EC=98=A4.</span><span>RESOURCE_HEALTH_STATE: 0.0</spa=
n><span>RESOURCE_RISK_STATE: 0.0</span><span>RESOURCE_EFFICIENCY_STATE: 0.0=
</span><BR></html>

2018-02-15 19:39:58,464 DEBUG smtpserver Email Content (Decoded):
<html><span>ALERT_STATUS: Updated</span><span>ALERT_IMPACT: health</span><span>ALERT_CRITICALITY: AlertLevel: Critical</span><span>ALERT_DEFINITION_NAME: KCC - Ping 체크 실패</span><span>ALERT_ID: ff94c16d-bcbf-4b45-b079-7253d6ea3af3</span><span>ALERT_OWNER: Unable to retrieve value</span><span>ALERT_DEFINITION_DESC: 원격 ICMP 체크에 실패하였습니다.</span><span>AFFECTED_RESOURCE_NAME: ICMP - OCRSRV01</span><span>AFFECTED_RESOURCE_KIND: ICMP Check</span><span>ALERT_GENERATE_TIME: Mon Dec 04 09:18:00 KST 2017</span><span>ALERT_UPDATE_TIME: Mon Dec 04 09:18:00 KST 2017</span><span>ALERT_CANCEL_TIME: </span><span>ANOMALIES: SYMPTOM SET - self<br><table border='1'><th>Symptom Name</th><th>Object Name</th><th>Object ID</th><th>Metric</th><th>Message Info</th><tr><td>개체를 사용할 수 없음</td><td>ICMP - OCRSRV01</td><td>4d262f95-fc60-455e-b63f-2404664b5fb8</td><td>AVAILABILITY|Resource Availability</td><td>0.0 = 0.0</td></tr></table></span><span>ALERT_TYPE: Application Problem</span><span>ALERT_SUBTYPE: Availability Problem</span><span>CHILDREN_HEALTH: </span><span>PARENT_HEALTH: </span><span>FILTER_RULE_NAME: Dev SMTP (전체)</span><span>FILTER_RULE_DESC: </span><span>ALERT_SUMMARY_LINK: https://70.11.11.217/ui/index.action#/object/4d262f95-fc60-455e-b63f-2404664b5fb8/alertsAndSymptoms/alerts/ff94c16d-bcbf-4b45-b079-7253d6ea3af3</span><span>ALERT_RECOMMENDATION: <br>- 리소스를 사용할 수 있는지 확인하십시오. 사용할 수 없는 경우 리소스를 다시 시작하고, 사용할 수 있는 경우 원격 확인과 리소스 간의 네트워크 연결을 확인하십시오.</span><span>RESOURCE_HEALTH_STATE: 0.0</span><span>RESOURCE_RISK_STATE: 0.0</span><span>RESOURCE_EFFICIENCY_STATE: 0.0</span><BR></html>

2018-02-15 19:39:58,466 DEBUG smtpserver get_localized_str() configparser.NoOptionError in get_localized_str: No option 'icmp check' in section: 'AFFECTED_RESOURCE_KIND'
2018-02-15 19:39:58,467 DEBUG smtpserver Anomalies:
[{'Relation': 'self', 'Symptom Index': '1-1', 'Symptom Name': '개체를 사용할 수 없음', 'Object Name': 'ICMP - OCRSRV01', 'Object ID': '4d262f95-fc60-455e-b63f-2404664b5fb8', 'Metric': 'AVAILABILITY|Resource Availability', 'Message Info': '0.0 = 0.0'}]

2018-02-15 19:39:58,468 DEBUG smtpserver get_symptom_definition_summary() Fetching alert detail from: https://vrops.kccworld.co.kr/suite-api/api/alerts/ff94c16d-bcbf-4b45-b079-7253d6ea3af3
2018-02-15 19:39:58,553 DEBUG smtpserver get_symptom_definition_summary() alert_definition_id: AlertDefinition-74f10927-2698-4665-83e6-4ad9e03f830d
2018-02-15 19:39:58,553 DEBUG smtpserver get_symptom_definition_summary() Fetching alert definition from: https://vrops.kccworld.co.kr/suite-api/api/alertdefinitions/AlertDefinition-74f10927-2698-4665-83e6-4ad9e03f830d
2018-02-15 19:39:58,641 DEBUG smtpserver get_symptom_definition_summary() alert_definition:
{'id': 'AlertDefinition-74f10927-2698-4665-83e6-4ad9e03f830d', 'name': 'KCC - Ping 체크 실패', 'description': '원격 ICMP 체크에 실패하였습니다.', 'adapterKindKey': 'EP Ops Adapter', 'resourceKindKey': 'ICMP Check', 'waitCycles': 1, 'cancelCycles': 1, 'type': 15, 'subType': 18, 'states': [{'severity': 'CRITICAL', 'base-symptom-set': {'type': 'SYMPTOM_SET', 'relation': 'SELF', 'symptomSetOperator': 'OR', 'symptomDefinitionIds': ['SymptomDefinition-7124386f-7c59-4036-907b-4f55d81defa8']}, 'impact': {'impactType': 'BADGE', 'detail': 'health'}, 'recommendationPriorityMap': {'Recommendation-df-EP Ops Adapter-r1': 1}}]}

2018-02-15 19:39:58,644 DEBUG smtpserver get_symptom_definition_summary() symptom_sets:
[{'type': 'SYMPTOM_SET', 'relation': 'SELF', 'symptomSetOperator': 'OR', 'symptomDefinitionIds': ['SymptomDefinition-7124386f-7c59-4036-907b-4f55d81defa8']}]

2018-02-15 19:39:58,644 DEBUG smtpserver get_symptom_definition_summary() symptom_definition_ids:
['SymptomDefinition-7124386f-7c59-4036-907b-4f55d81defa8']

2018-02-15 19:39:59,251 DEBUG smtpserver get_symptom_definition_summary() symptom_definitions:
[{'id': 'SymptomDefinition-7124386f-7c59-4036-907b-4f55d81defa8', 'name': 'KCC - ICMP Check Availability', 'adapterKindKey': 'EP Ops Adapter', 'resourceKindKey': 'ICMP Check', 'waitCycles': 1, 'cancelCycles': 1, 'state': {'severity': 'CRITICAL', 'condition': {'type': 'CONDITION_HT', 'key': 'AVAILABILITY|ResourceAvailability', 'operator': 'NOT_EQ', 'value': '100.0', 'valueType': 'NUMERIC', 'instanced': False, 'thresholdType': 'STATIC'}}}]

2018-02-15 19:39:59,258 DEBUG smtpserver get_symptom_definition_summary() symptom_definition_summary:
[{'name': 'KCC - ICMP Check Availability', 'adapterKindKey': 'EP Ops Adapter', 'resourceKindKey': 'ICMP Check', 'severity': 'CRITICAL', 'type': 'CONDITION_HT', 'key': 'AVAILABILITY|ResourceAvailability', 'instanced': False}]

2018-02-15 19:39:59,258 DEBUG smtpserver Parsed Alert:
ALERT_STATUS: Updated
ALERT_IMPACT: health
ALERT_CRITICALITY: Critical
ALERT_DEFINITION_NAME: KCC - Ping 체크 실패
ALERT_ID: ff94c16d-bcbf-4b45-b079-7253d6ea3af3
ALERT_OWNER: Unable to retrieve value
ALERT_DEFINITION_DESC: 원격 ICMP 체크에 실패하였습니다.
AFFECTED_RESOURCE_NAME: ICMP - OCRSRV01
AFFECTED_RESOURCE_KIND: ICMP Check
ALERT_GENERATE_TIME: Mon Dec 04 09:18:00 KST 2017
ALERT_UPDATE_TIME: Mon Dec 04 09:18:00 KST 2017
ALERT_CANCEL_TIME: 
ANOMALIES: <span>ANOMALIES: SYMPTOM SET - self<br/><table border="1"><th>Symptom Name</th><th>Object Name</th><th>Object ID</th><th>Metric</th><th>Message Info</th><tr><td>개체를 사용할 수 없음</td><td>ICMP - OCRSRV01</td><td>4d262f95-fc60-455e-b63f-2404664b5fb8</td><td>AVAILABILITY|Resource Availability</td><td>0.0 = 0.0</td></tr></table></span>
ALERT_TYPE: Application Problem
ALERT_SUBTYPE: Availability Problem
CHILDREN_HEALTH: 
PARENT_HEALTH: 
FILTER_RULE_NAME: Dev SMTP (전체)
FILTER_RULE_DESC: 
ALERT_SUMMARY_LINK: https://70.11.11.217/ui/index.action#/object/4d262f95-fc60-455e-b63f-2404664b5fb8/alertsAndSymptoms/alerts/ff94c16d-bcbf-4b45-b079-7253d6ea3af3
ALERT_RECOMMENDATION: <span>ALERT_RECOMMENDATION: <br/>- 리소스를 사용할 수 있는지 확인하십시오. 사용할 수 없는 경우 리소스를 다시 시작하고, 사용할 수 있는 경우 원격 확인과 리소스 간의 네트워크 연결을 확인하십시오.</span>
RESOURCE_HEALTH_STATE: 0.0
RESOURCE_RISK_STATE: 0.0
RESOURCE_EFFICIENCY_STATE: 0.0
ALERT_STATUS_TR: 경고 업데이트
ALERT_IMPACT_TR: 상태
ALERT_CRITICALITY_TR: 위험
ALERT_OWNER_TR: 할당되지 않음
AFFECTED_RESOURCE_KIND_TR: ICMP Check
ALERT_GENERATE_TIME_TR: 12-04 09:18 대한민국 표준시
ALERT_UPDATE_TIME_TR: 12-04 09:18 대한민국 표준시
ALERT_CANCEL_TIME_TR: -
ALERT_TYPE_TR: 애플리케이션
ALERT_SUBTYPE_TR: 가용성
RESOURCE_HEALTH_STATE_TR: 없음
RESOURCE_RISK_STATE_TR: 없음
RESOURCE_EFFICIENCY_STATE_TR: 없음
ANOMALIES_TR: [{'Relation': 'self', 'Symptom Index': '1-1', 'Symptom Name': '개체를 사용할 수 없음', 'Object Name': 'ICMP - OCRSRV01', 'Object ID': '4d262f95-fc60-455e-b63f-2404664b5fb8', 'Metric': '가용성|자원 가용성 (%)', 'Message Info': '0.0 = 0.0', 'StatKey': 'AVAILABILITY|Resource Availability', 'Criticality': 'Critical'}]
ALERT_RECOMMENDATION_TR: ['리소스를 사용할 수 있는지 확인하십시오. 사용할 수 없는 경우 리소스를 다시 시작하고, 사용할 수 있는 경우 원격 확인과 리소스 간의 네트워크 연결을 확인하십시오.']


2018-02-17 19:38:05,523 INFO smtpserver SMTPServer configuration file loaded: smtpserver.cfg
2018-02-17 19:38:05,523 INFO smtpserver Localization resource file loaded: resource_ko.cfg
2018-02-17 19:38:05,523 DEBUG smtpserver get_vrops_auth_token() Getting vROps authorization token from: https://vrops.kccworld.co.kr/suite-api/api/auth/token/acquire
2018-02-17 19:38:05,916 DEBUG smtpserver get_vrops_auth_token() Authorization token: {'token': '847c3541-ede4-4a34-b762-f8bfe360ec21::de7a5078-164b-475c-b2fd-c0dae24d4ad1', 'validity': 1518885485923, 'expiresAt': '2018년 2월 18일 일요일 오전 1시 38분 05초 KST', 'roles': []}
2018-02-17 19:38:05,931 INFO smtpserver Listening vROps alert messages on 0.0.0.0:8668
2018-02-17 19:39:41,069 DEBUG smtpserver Email Message (RAW):
From: vRealize Operations <vRealizeOps-admin@example.com>
To: admin@vrops.kccworld.co.kr
Message-ID: <685777724.4079.1518863981097.JavaMail.admin@vrops.kccworld.co.kr>
Subject: =?UTF-8?Q?[vRealize_Operations_Manager]?=
 =?UTF-8?Q?_(Updated)_SQL?= =?UTF-8?Q?MGNT_-_?=
 =?UTF-8?Q?=EA=B0=80=EC=83=81_=EC=8B=9C?=
 =?UTF-8?Q?=EC=8A=A4=ED=85=9C=EC=97=90=EC=84=9C?=
 =?UTF-8?Q?_=EC=A7=80=EB=82=98=EC=B9=98=EA=B2=8C_=EB=A7=8E?=
 =?UTF-8?Q?=EC=9D=80_vCPU=EB=A1=9C?=
 =?UTF-8?Q?_=EC=9D=B8=ED=95=B4_=EB=B0=9C=EC=83=9D=ED=95=9C?=
 =?UTF-8?Q?_=EB=8B=A4=EC=A4=91_vCPU?=
 =?UTF-8?Q?_=EC=8A=A4=EC=BC=80=EC=A4=84_=EB=AC=B8=EC=A0=9C?=
 =?UTF-8?Q?(=EA=B3=B5=EB=8F=99_=EC=A4=91=EC=A7=80)=EB=A1=9C?=
 =?UTF-8?Q?_=EC=9D=B8=ED=95=B4_CPU?=
 =?UTF-8?Q?_=EA=B2=BD=ED=95=A9=EC=9D=B4_=EB=B0=9C=EC=83=9D=ED=95=A8?=
MIME-Version: 1.0
Content-Type: text/html; charset=utf-8
Content-Transfer-Encoding: quoted-printable

<html><span>ALERT_STATUS: Updated</span><span>ALERT_IMPACT: risk</span><spa=
n>ALERT_CRITICALITY: AlertLevel: Warning</span><span>ALERT_DEFINITION_NAME:=
 =EA=B0=80=EC=83=81 =EC=8B=9C=EC=8A=A4=ED=85=9C=EC=97=90=EC=84=9C =EC=A7=80=
=EB=82=98=EC=B9=98=EA=B2=8C =EB=A7=8E=EC=9D=80 vCPU=EB=A1=9C =EC=9D=B8=ED=
=95=B4 =EB=B0=9C=EC=83=9D=ED=95=9C =EB=8B=A4=EC=A4=91 vCPU =EC=8A=A4=EC=BC=
=80=EC=A4=84 =EB=AC=B8=EC=A0=9C(=EA=B3=B5=EB=8F=99 =EC=A4=91=EC=A7=80)=EB=
=A1=9C =EC=9D=B8=ED=95=B4 CPU =EA=B2=BD=ED=95=A9=EC=9D=B4 =EB=B0=9C=EC=83=
=9D=ED=95=A8</span><span>ALERT_ID: e8ab27cf-a473-4a53-a4cf-d097c0d66e13</sp=
an><span>ALERT_OWNER: Unable to retrieve value</span><span>ALERT_DEFINITION=
_DESC: =EA=B0=80=EC=83=81 =EC=8B=9C=EC=8A=A4=ED=85=9C=EC=9D=98 =EA=B3=B5=EB=
=8F=99 =EC=A4=91=EC=A7=80=EC=9C=A8=EC=9D=B4 =EB=86=92=EC=8A=B5=EB=8B=88=EB=
=8B=A4. =EA=B3=B5=EB=8F=99 =EC=A4=91=EC=A7=80=EB=8A=94 =EA=B0=80=EC=83=81 =
=EC=8B=9C=EC=8A=A4=ED=85=9C=EC=9D=B4 =EC=8B=A4=ED=96=89=EB=90=A0 =EC=A4=80=
=EB=B9=84=EA=B0=80 =EB=90=98=EC=97=88=EC=A7=80=EB=A7=8C =EA=B3=B5=EB=8F=99 =
vCPU =EC=8A=A4=EC=BC=80=EC=A4=84 =EA=B2=BD=ED=95=A9 =EB=95=8C=EB=AC=B8=EC=
=97=90 =EC=A7=80=EC=97=B0=EC=9D=B4 =EB=B0=9C=EC=83=9D=ED=95=98=EB=8A=94 =EC=
=8B=9C=EA=B0=84=EC=9D=84 =EB=82=98=ED=83=80=EB=83=85=EB=8B=88=EB=8B=A4. =EA=
=B0=80=EC=83=81 =EC=8B=9C=EC=8A=A4=ED=85=9C=EC=97=90 =EB=84=88=EB=AC=B4 =EB=
=A7=8E=EC=9D=80 vCPU=EA=B0=80 =EA=B5=AC=EC=84=B1=EB=90=98=EC=96=B4 =EC=9E=
=88=EA=B3=A0 =EB=AC=BC=EB=A6=AC=EC=A0=81 CPU=EA=B0=80 =EB=B6=80=EC=A1=B1=ED=
=95=98=EC=97=AC =EA=B3=B5=EB=8F=99 vCPU =EC=8A=A4=EC=BC=80=EC=A4=84=EC=9D=
=84 =EA=B4=80=EB=A6=AC=ED=95=A0 =EC=88=98 =EC=97=86=EC=9D=84 =EA=B2=BD=EC=
=9A=B0 =EA=B3=B5=EB=8F=99 =EC=A4=91=EC=A7=80=EC=9C=A8=EC=9D=B4 =EB=86=92=EC=
=95=84=EC=A7=91=EB=8B=88=EB=8B=A4.</span><span>AFFECTED_RESOURCE_NAME: SQLM=
GNT</span><span>AFFECTED_RESOURCE_KIND: VirtualMachine</span><span>ALERT_GE=
NERATE_TIME: Sat Feb 17 13:43:47 KST 2018</span><span>ALERT_UPDATE_TIME: Sa=
t Feb 17 13:43:47 KST 2018</span><span>ALERT_CANCEL_TIME: </span><span>ANOM=
ALIES: SYMPTOM SET - self<br><table border=3D'1'><th>Symptom Name</th><th>O=
bject Name</th><th>Object ID</th><th>Metric</th><th>Message Info</th><tr><t=
d>=EA=B0=80=EC=83=81 =EC=8B=9C=EC=8A=A4=ED=85=9C CPU =EA=B3=B5=EB=8F=99 =EC=
=A4=91=EC=A7=80=EA=B0=80 =EC=A3=BC=EC=9D=98 =EC=88=98=EC=A4=80=EC=9E=84</td=
><td>SQLMGNT</td><td>79422165-7475-4939-ac8e-d3f0139d81ed</td><td>CPU|=EA=
=B3=B5=EB=8F=99 =EC=A4=91=EC=A7=80</td><td>6.27 > 5.0</td></tr></table>SYMP=
TOM SET - self<br><table border=3D'1'><th>Symptom Name</th><th>Object Name<=
/th><th>Object ID</th><th>Metric</th><th>Message Info</th><tr><td>=EA=B0=80=
=EC=83=81 =EC=8B=9C=EC=8A=A4=ED=85=9C=EC=97=90=EC=84=9C =EC=A0=9C=EA=B1=B0=
=ED=95=A0 vCPU =EC=88=98</td><td>SQLMGNT</td><td>79422165-7475-4939-ac8e-d3=
f0139d81ed</td><td>CPU|=EC=A0=9C=EA=B1=B0=ED=95=A0 =EA=B6=8C=EC=9E=A5 vCPU =
=EC=88=98</td><td>1.0 > 0.0</td></tr></table></span><span>ALERT_TYPE: Virtu=
alization Problem</span><span>ALERT_SUBTYPE: Performance Problem</span><spa=
n>CHILDREN_HEALTH: </span><span>PARENT_HEALTH: </span><span>FILTER_RULE_NAM=
E: Dev SMTP (=EC=A0=84=EC=B2=B4)</span><span>FILTER_RULE_DESC: </span><span=
>ALERT_SUMMARY_LINK: https://70.11.11.217/ui/index.action#/object/79422165-=
7475-4939-ac8e-d3f0139d81ed/alertsAndSymptoms/alerts/e8ab27cf-a473-4a53-a4c=
f-d097c0d66e13</span><span>ALERT_RECOMMENDATION: <br>- =EB=82=98=EC=97=B4=
=EB=90=9C =EC=A6=9D=EC=83=81=EC=9D=84 =EA=B2=80=ED=86=A0=ED=95=98=EA=B3=A0 =
=EC=A6=9D=EC=83=81=EC=97=90=EC=84=9C =EA=B6=8C=EC=9E=A5=ED=95=98=EB=8A=94 =
=EB=8C=80=EB=A1=9C =EA=B0=80=EC=83=81 =EC=8B=9C=EC=8A=A4=ED=85=9C=EC=97=90=
=EC=84=9C vCPU=EC=9D=98 =EC=88=98=EB=A5=BC =EC=A0=9C=EA=B1=B0=ED=95=98=EC=
=8B=AD=EC=8B=9C=EC=98=A4.</span><span>RESOURCE_HEALTH_STATE: 0.0</span><spa=
n>RESOURCE_RISK_STATE: 0.0</span><span>RESOURCE_EFFICIENCY_STATE: 0.0</span=
><BR></html>

2018-02-17 19:39:41,085 DEBUG smtpserver Email Content (Decoded):
<html><span>ALERT_STATUS: Updated</span><span>ALERT_IMPACT: risk</span><span>ALERT_CRITICALITY: AlertLevel: Warning</span><span>ALERT_DEFINITION_NAME: 가상 시스템에서 지나치게 많은 vCPU로 인해 발생한 다중 vCPU 스케줄 문제(공동 중지)로 인해 CPU 경합이 발생함</span><span>ALERT_ID: e8ab27cf-a473-4a53-a4cf-d097c0d66e13</span><span>ALERT_OWNER: Unable to retrieve value</span><span>ALERT_DEFINITION_DESC: 가상 시스템의 공동 중지율이 높습니다. 공동 중지는 가상 시스템이 실행될 준비가 되었지만 공동 vCPU 스케줄 경합 때문에 지연이 발생하는 시간을 나타냅니다. 가상 시스템에 너무 많은 vCPU가 구성되어 있고 물리적 CPU가 부족하여 공동 vCPU 스케줄을 관리할 수 없을 경우 공동 중지율이 높아집니다.</span><span>AFFECTED_RESOURCE_NAME: SQLMGNT</span><span>AFFECTED_RESOURCE_KIND: VirtualMachine</span><span>ALERT_GENERATE_TIME: Sat Feb 17 13:43:47 KST 2018</span><span>ALERT_UPDATE_TIME: Sat Feb 17 13:43:47 KST 2018</span><span>ALERT_CANCEL_TIME: </span><span>ANOMALIES: SYMPTOM SET - self<br><table border='1'><th>Symptom Name</th><th>Object Name</th><th>Object ID</th><th>Metric</th><th>Message Info</th><tr><td>가상 시스템 CPU 공동 중지가 주의 수준임</td><td>SQLMGNT</td><td>79422165-7475-4939-ac8e-d3f0139d81ed</td><td>CPU|공동 중지</td><td>6.27 > 5.0</td></tr></table>SYMPTOM SET - self<br><table border='1'><th>Symptom Name</th><th>Object Name</th><th>Object ID</th><th>Metric</th><th>Message Info</th><tr><td>가상 시스템에서 제거할 vCPU 수</td><td>SQLMGNT</td><td>79422165-7475-4939-ac8e-d3f0139d81ed</td><td>CPU|제거할 권장 vCPU 수</td><td>1.0 > 0.0</td></tr></table></span><span>ALERT_TYPE: Virtualization Problem</span><span>ALERT_SUBTYPE: Performance Problem</span><span>CHILDREN_HEALTH: </span><span>PARENT_HEALTH: </span><span>FILTER_RULE_NAME: Dev SMTP (전체)</span><span>FILTER_RULE_DESC: </span><span>ALERT_SUMMARY_LINK: https://70.11.11.217/ui/index.action#/object/79422165-7475-4939-ac8e-d3f0139d81ed/alertsAndSymptoms/alerts/e8ab27cf-a473-4a53-a4cf-d097c0d66e13</span><span>ALERT_RECOMMENDATION: <br>- 나열된 증상을 검토하고 증상에서 권장하는 대로 가상 시스템에서 vCPU의 수를 제거하십시오.</span><span>RESOURCE_HEALTH_STATE: 0.0</span><span>RESOURCE_RISK_STATE: 0.0</span><span>RESOURCE_EFFICIENCY_STATE: 0.0</span><BR></html>

2018-02-17 19:39:41,085 DEBUG smtpserver Anomalies:
[{'Relation': 'self', 'Symptom Index': '1-1', 'Symptom Name': '가상 시스템 CPU 공동 중지가 주의 수준임', 'Object Name': 'SQLMGNT', 'Object ID': '79422165-7475-4939-ac8e-d3f0139d81ed', 'Metric': 'CPU|공동 중지', 'Message Info': '6.27 > 5.0'}, {'Relation': 'self', 'Symptom Index': '2-1', 'Symptom Name': '가상 시스템에서 제거할 vCPU 수', 'Object Name': 'SQLMGNT', 'Object ID': '79422165-7475-4939-ac8e-d3f0139d81ed', 'Metric': 'CPU|제거할 권장 vCPU 수', 'Message Info': '1.0 > 0.0'}]

2018-02-17 19:39:41,085 DEBUG smtpserver get_symptom_definition_summary() Fetching alert detail from: https://vrops.kccworld.co.kr/suite-api/api/alerts/e8ab27cf-a473-4a53-a4cf-d097c0d66e13
2018-02-17 19:39:41,164 DEBUG smtpserver get_symptom_definition_summary() alert_definition_id: AlertDefinition-VMWARE-CPUContentionDueToCostop
2018-02-17 19:39:41,164 DEBUG smtpserver get_symptom_definition_summary() Fetching alert definition from: https://vrops.kccworld.co.kr/suite-api/api/alertdefinitions/AlertDefinition-VMWARE-CPUContentionDueToCostop
2018-02-17 19:39:41,272 DEBUG smtpserver get_symptom_definition_summary() alert_definition:
{'id': 'AlertDefinition-VMWARE-CPUContentionDueToCostop', 'name': '가상 시스템에서 지나치게 많은 vCPU로 인해 발생한 다중 vCPU 스케줄 문제(공동 중지)로 인해 CPU 경합이 발생함', 'description': '가상 시스템의 공동 중지율이 높습니다. 공동 중지는 가상 시스템이 실행될 준비가 되었지만 공동 vCPU 스케줄 경합 때문에 지연이 발생하는 시간을 나타냅니다. 가상 시스템에 너무 많은 vCPU가 구성되어 있고 물리적 CPU가 부족하여 공동 vCPU 스케줄을 관리할 수 없을 경우 공동 중지율이 높아집니다.', 'adapterKindKey': 'VMWARE', 'resourceKindKey': 'VirtualMachine', 'waitCycles': 1, 'cancelCycles': 1, 'type': 16, 'subType': 19, 'states': [{'severity': 'AUTO', 'base-symptom-set': {'type': 'SYMPTOM_SET_COMPOSITE', 'operator': 'AND', 'symptom-sets': [{'type': 'SYMPTOM_SET', 'relation': 'SELF', 'symptomSetOperator': 'AND', 'symptomDefinitionIds': ['SymptomDefinition-VMWARE-VMNumCPUsToRemove', '!SymptomDefinition-VMWARE-VMPoweredOff']}, {'type': 'SYMPTOM_SET', 'relation': 'SELF', 'symptomSetOperator': 'OR', 'symptomDefinitionIds': ['SymptomDefinition-VMWARE-VMCpuCostopCritical', 'SymptomDefinition-VMWARE-VMCpuCostopWarning', 'SymptomDefinition-VMWARE-VMCpuCostopImmediate']}]}, 'impact': {'impactType': 'BADGE', 'detail': 'risk'}, 'recommendationPriorityMap': {'Recommendation-df-VMWARE-RemoveRecommendedCPUs': 1}}]}

2018-02-17 19:39:41,272 DEBUG smtpserver get_symptom_definition_summary() symptom_sets:
[{'type': 'SYMPTOM_SET', 'relation': 'SELF', 'symptomSetOperator': 'AND', 'symptomDefinitionIds': ['SymptomDefinition-VMWARE-VMNumCPUsToRemove', '!SymptomDefinition-VMWARE-VMPoweredOff']}, {'type': 'SYMPTOM_SET', 'relation': 'SELF', 'symptomSetOperator': 'OR', 'symptomDefinitionIds': ['SymptomDefinition-VMWARE-VMCpuCostopCritical', 'SymptomDefinition-VMWARE-VMCpuCostopWarning', 'SymptomDefinition-VMWARE-VMCpuCostopImmediate']}]

2018-02-17 19:39:41,272 DEBUG smtpserver get_symptom_definition_summary() symptom_definition_ids:
['SymptomDefinition-VMWARE-VMCpuCostopCritical', 'SymptomDefinition-VMWARE-VMCpuCostopImmediate', 'SymptomDefinition-VMWARE-VMCpuCostopWarning', 'SymptomDefinition-VMWARE-VMNumCPUsToRemove', 'SymptomDefinition-VMWARE-VMPoweredOff']

2018-02-17 19:39:42,002 DEBUG smtpserver get_symptom_definition_summary() symptom_definitions:
[{'id': 'SymptomDefinition-VMWARE-VMCpuCostopWarning', 'name': '가상 시스템 CPU 공동 중지가 주의 수준임', 'adapterKindKey': 'VMWARE', 'resourceKindKey': 'VirtualMachine', 'waitCycles': 3, 'cancelCycles': 3, 'state': {'severity': 'WARNING', 'condition': {'type': 'CONDITION_HT', 'key': 'cpu|costopPct', 'operator': 'GT', 'value': '5.0', 'valueType': 'NUMERIC', 'instanced': False, 'thresholdType': 'STATIC'}}}, {'id': 'SymptomDefinition-VMWARE-VMCpuCostopImmediate', 'name': '가상 시스템 CPU 공동 중지가 즉시 수준임', 'adapterKindKey': 'VMWARE', 'resourceKindKey': 'VirtualMachine', 'waitCycles': 3, 'cancelCycles': 3, 'state': {'severity': 'IMMEDIATE', 'condition': {'type': 'CONDITION_HT', 'key': 'cpu|costopPct', 'operator': 'GT', 'value': '10.0', 'valueType': 'NUMERIC', 'instanced': False, 'thresholdType': 'STATIC'}}}, {'id': 'SymptomDefinition-VMWARE-VMCpuCostopCritical', 'name': '가상 시스템 CPU 공동 중지가 위험 수준임', 'adapterKindKey': 'VMWARE', 'resourceKindKey': 'VirtualMachine', 'waitCycles': 3, 'cancelCycles': 3, 'state': {'severity': 'CRITICAL', 'condition': {'type': 'CONDITION_HT', 'key': 'cpu|costopPct', 'operator': 'GT', 'value': '15.0', 'valueType': 'NUMERIC', 'instanced': False, 'thresholdType': 'STATIC'}}}, {'id': 'SymptomDefinition-VMWARE-VMNumCPUsToRemove', 'name': '가상 시스템에서 제거할 vCPU 수', 'adapterKindKey': 'VMWARE', 'resourceKindKey': 'VirtualMachine', 'waitCycles': 1, 'cancelCycles': 1, 'state': {'severity': 'INFORMATION', 'condition': {'type': 'CONDITION_HT', 'key': 'cpu|numberToRemove', 'operator': 'GT', 'value': '0.0', 'valueType': 'NUMERIC', 'instanced': False, 'thresholdType': 'STATIC'}}}, {'id': 'SymptomDefinition-VMWARE-VMPoweredOff', 'name': '가상 시스템 전원 꺼짐', 'adapterKindKey': 'VMWARE', 'resourceKindKey': 'VirtualMachine', 'waitCycles': 1, 'cancelCycles': 1, 'state': {'severity': 'INFORMATION', 'condition': {'type': 'CONDITION_HT', 'key': 'sys|poweredOn', 'operator': 'EQ', 'value': '0.0', 'valueType': 'NUMERIC', 'instanced': False, 'thresholdType': 'STATIC'}}}]

2018-02-17 19:39:42,004 DEBUG smtpserver get_symptom_definition_summary() symptom_definition_summary:
[{'name': '가상 시스템 CPU 공동 중지가 주의 수준임', 'adapterKindKey': 'VMWARE', 'resourceKindKey': 'VirtualMachine', 'severity': 'WARNING', 'type': 'CONDITION_HT', 'key': 'cpu|costopPct', 'instanced': False}, {'name': '가상 시스템 CPU 공동 중지가 즉시 수준임', 'adapterKindKey': 'VMWARE', 'resourceKindKey': 'VirtualMachine', 'severity': 'IMMEDIATE', 'type': 'CONDITION_HT', 'key': 'cpu|costopPct', 'instanced': False}, {'name': '가상 시스템 CPU 공동 중지가 위험 수준임', 'adapterKindKey': 'VMWARE', 'resourceKindKey': 'VirtualMachine', 'severity': 'CRITICAL', 'type': 'CONDITION_HT', 'key': 'cpu|costopPct', 'instanced': False}, {'name': '가상 시스템에서 제거할 vCPU 수', 'adapterKindKey': 'VMWARE', 'resourceKindKey': 'VirtualMachine', 'severity': 'INFORMATION', 'type': 'CONDITION_HT', 'key': 'cpu|numberToRemove', 'instanced': False}, {'name': '가상 시스템 전원 꺼짐', 'adapterKindKey': 'VMWARE', 'resourceKindKey': 'VirtualMachine', 'severity': 'INFORMATION', 'type': 'CONDITION_HT', 'key': 'sys|poweredOn', 'instanced': False}]

2018-02-17 19:39:42,005 DEBUG smtpserver get_localized_str() configparser.NoOptionError in get_localized_str: No option 'cpu|공동 중지' in section: 'METRIC'
2018-02-17 19:39:42,006 DEBUG smtpserver get_localized_metric() Localized metric: CPU|공동 중지 => CPU|공동 중지
2018-02-17 19:39:42,006 DEBUG smtpserver get_localized_metric() statkey: cpu|costopPct
2018-02-17 19:39:42,006 DEBUG smtpserver get_localized_str() configparser.NoOptionError in get_localized_str: No option 'cpu|제거할 권장 vcpu 수' in section: 'METRIC'
2018-02-17 19:39:42,007 DEBUG smtpserver get_localized_metric() Localized metric: CPU|제거할 권장 vCPU 수 => CPU|제거할 권장 vCPU 수
2018-02-17 19:39:42,007 DEBUG smtpserver get_localized_metric() statkey: cpu|numberToRemove
2018-02-17 19:39:42,008 DEBUG smtpserver Parsed Alert:
ALERT_STATUS: Updated
ALERT_IMPACT: risk
ALERT_CRITICALITY: Warning
ALERT_DEFINITION_NAME: 가상 시스템에서 지나치게 많은 vCPU로 인해 발생한 다중 vCPU 스케줄 문제(공동 중지)로 인해 CPU 경합이 발생함
ALERT_ID: e8ab27cf-a473-4a53-a4cf-d097c0d66e13
ALERT_OWNER: Unable to retrieve value
ALERT_DEFINITION_DESC: 가상 시스템의 공동 중지율이 높습니다. 공동 중지는 가상 시스템이 실행될 준비가 되었지만 공동 vCPU 스케줄 경합 때문에 지연이 발생하는 시간을 나타냅니다. 가상 시스템에 너무 많은 vCPU가 구성되어 있고 물리적 CPU가 부족하여 공동 vCPU 스케줄을 관리할 수 없을 경우 공동 중지율이 높아집니다.
AFFECTED_RESOURCE_NAME: SQLMGNT
AFFECTED_RESOURCE_KIND: VirtualMachine
ALERT_GENERATE_TIME: Sat Feb 17 13:43:47 KST 2018
ALERT_UPDATE_TIME: Sat Feb 17 13:43:47 KST 2018
ALERT_CANCEL_TIME: 
ANOMALIES: <span>ANOMALIES: SYMPTOM SET - self<br/><table border="1"><th>Symptom Name</th><th>Object Name</th><th>Object ID</th><th>Metric</th><th>Message Info</th><tr><td>가상 시스템 CPU 공동 중지가 주의 수준임</td><td>SQLMGNT</td><td>79422165-7475-4939-ac8e-d3f0139d81ed</td><td>CPU|공동 중지</td><td>6.27 &gt; 5.0</td></tr></table>SYMPTOM SET - self<br/><table border="1"><th>Symptom Name</th><th>Object Name</th><th>Object ID</th><th>Metric</th><th>Message Info</th><tr><td>가상 시스템에서 제거할 vCPU 수</td><td>SQLMGNT</td><td>79422165-7475-4939-ac8e-d3f0139d81ed</td><td>CPU|제거할 권장 vCPU 수</td><td>1.0 &gt; 0.0</td></tr></table></span>
ALERT_TYPE: Virtualization Problem
ALERT_SUBTYPE: Performance Problem
CHILDREN_HEALTH: 
PARENT_HEALTH: 
FILTER_RULE_NAME: Dev SMTP (전체)
FILTER_RULE_DESC: 
ALERT_SUMMARY_LINK: https://70.11.11.217/ui/index.action#/object/79422165-7475-4939-ac8e-d3f0139d81ed/alertsAndSymptoms/alerts/e8ab27cf-a473-4a53-a4cf-d097c0d66e13
ALERT_RECOMMENDATION: <span>ALERT_RECOMMENDATION: <br/>- 나열된 증상을 검토하고 증상에서 권장하는 대로 가상 시스템에서 vCPU의 수를 제거하십시오.</span>
RESOURCE_HEALTH_STATE: 0.0
RESOURCE_RISK_STATE: 0.0
RESOURCE_EFFICIENCY_STATE: 0.0
ALERT_STATUS_TR: 경고 업데이트
ALERT_IMPACT_TR: 위험
ALERT_CRITICALITY_TR: 주의
ALERT_OWNER_TR: 할당되지 않음
AFFECTED_RESOURCE_KIND_TR: 가상 시스템
ALERT_GENERATE_TIME_TR: 02-17 13:43 대한민국 표준시
ALERT_UPDATE_TIME_TR: 02-17 13:43 대한민국 표준시
ALERT_CANCEL_TIME_TR: -
ALERT_TYPE_TR: 가상화·하이퍼바이저
ALERT_SUBTYPE_TR: 성능
RESOURCE_HEALTH_STATE_TR: 없음
RESOURCE_RISK_STATE_TR: 없음
RESOURCE_EFFICIENCY_STATE_TR: 없음
ANOMALIES_TR: [{'Relation': 'self', 'Symptom Index': '1-1', 'Symptom Name': '가상 시스템 CPU 공동 중지가 주의 수준임', 'Object Name': 'SQLMGNT', 'Object ID': '79422165-7475-4939-ac8e-d3f0139d81ed', 'Metric': 'CPU|공동 중지', 'Message Info': '6.27 > 5.0', 'StatKey': 'cpu|costopPct', 'Criticality': 'Warning'}, {'Relation': 'self', 'Symptom Index': '2-1', 'Symptom Name': '가상 시스템에서 제거할 vCPU 수', 'Object Name': 'SQLMGNT', 'Object ID': '79422165-7475-4939-ac8e-d3f0139d81ed', 'Metric': 'CPU|제거할 권장 vCPU 수', 'Message Info': '1.0 > 0.0', 'StatKey': 'cpu|numberToRemove', 'Criticality': 'Information'}]
ALERT_RECOMMENDATION_TR: ['나열된 증상을 검토하고 증상에서 권장하는 대로 가상 시스템에서 vCPU의 수를 제거하십시오.']


2018-02-17 19:40:45,195 DEBUG smtpserver Email Message (RAW):
From: vRealize Operations <vRealizeOps-admin@example.com>
To: admin@vrops.kccworld.co.kr
Message-ID: <752853752.4080.1518864045234.JavaMail.admin@vrops.kccworld.co.kr>
Subject: =?UTF-8?Q?[vRealize_Operations_Manager]?=
 =?UTF-8?Q?_(Updated)_SQL?= =?UTF-8?Q?MGNT_-_?=
 =?UTF-8?Q?=EA=B0=80=EC=83=81_=EC=8B=9C?=
 =?UTF-8?Q?=EC=8A=A4=ED=85=9C=EC=97=90=EC=84=9C?=
 =?UTF-8?Q?_=EC=A7=80=EB=82=98=EC=B9=98=EA=B2=8C_=EB=A7=8E?=
 =?UTF-8?Q?=EC=9D=80_vCPU=EB=A1=9C?=
 =?UTF-8?Q?_=EC=9D=B8=ED=95=B4_=EB=B0=9C=EC=83=9D=ED=95=9C?=
 =?UTF-8?Q?_=EB=8B=A4=EC=A4=91_vCPU?=
 =?UTF-8?Q?_=EC=8A=A4=EC=BC=80=EC=A4=84_=EB=AC=B8=EC=A0=9C?=
 =?UTF-8?Q?(=EA=B3=B5=EB=8F=99_=EC=A4=91=EC=A7=80)=EB=A1=9C?=
 =?UTF-8?Q?_=EC=9D=B8=ED=95=B4_CPU?=
 =?UTF-8?Q?_=EA=B2=BD=ED=95=A9=EC=9D=B4_=EB=B0=9C=EC=83=9D=ED=95=A8?=
MIME-Version: 1.0
Content-Type: text/html; charset=utf-8
Content-Transfer-Encoding: quoted-printable

<html><span>ALERT_STATUS: Updated</span><span>ALERT_IMPACT: risk</span><spa=
n>ALERT_CRITICALITY: AlertLevel: Warning</span><span>ALERT_DEFINITION_NAME:=
 =EA=B0=80=EC=83=81 =EC=8B=9C=EC=8A=A4=ED=85=9C=EC=97=90=EC=84=9C =EC=A7=80=
=EB=82=98=EC=B9=98=EA=B2=8C =EB=A7=8E=EC=9D=80 vCPU=EB=A1=9C =EC=9D=B8=ED=
=95=B4 =EB=B0=9C=EC=83=9D=ED=95=9C =EB=8B=A4=EC=A4=91 vCPU =EC=8A=A4=EC=BC=
=80=EC=A4=84 =EB=AC=B8=EC=A0=9C(=EA=B3=B5=EB=8F=99 =EC=A4=91=EC=A7=80)=EB=
=A1=9C =EC=9D=B8=ED=95=B4 CPU =EA=B2=BD=ED=95=A9=EC=9D=B4 =EB=B0=9C=EC=83=
=9D=ED=95=A8</span><span>ALERT_ID: e8ab27cf-a473-4a53-a4cf-d097c0d66e13</sp=
an><span>ALERT_OWNER: Unable to retrieve value</span><span>ALERT_DEFINITION=
_DESC: =EA=B0=80=EC=83=81 =EC=8B=9C=EC=8A=A4=ED=85=9C=EC=9D=98 =EA=B3=B5=EB=
=8F=99 =EC=A4=91=EC=A7=80=EC=9C=A8=EC=9D=B4 =EB=86=92=EC=8A=B5=EB=8B=88=EB=
=8B=A4. =EA=B3=B5=EB=8F=99 =EC=A4=91=EC=A7=80=EB=8A=94 =EA=B0=80=EC=83=81 =
=EC=8B=9C=EC=8A=A4=ED=85=9C=EC=9D=B4 =EC=8B=A4=ED=96=89=EB=90=A0 =EC=A4=80=
=EB=B9=84=EA=B0=80 =EB=90=98=EC=97=88=EC=A7=80=EB=A7=8C =EA=B3=B5=EB=8F=99 =
vCPU =EC=8A=A4=EC=BC=80=EC=A4=84 =EA=B2=BD=ED=95=A9 =EB=95=8C=EB=AC=B8=EC=
=97=90 =EC=A7=80=EC=97=B0=EC=9D=B4 =EB=B0=9C=EC=83=9D=ED=95=98=EB=8A=94 =EC=
=8B=9C=EA=B0=84=EC=9D=84 =EB=82=98=ED=83=80=EB=83=85=EB=8B=88=EB=8B=A4. =EA=
=B0=80=EC=83=81 =EC=8B=9C=EC=8A=A4=ED=85=9C=EC=97=90 =EB=84=88=EB=AC=B4 =EB=
=A7=8E=EC=9D=80 vCPU=EA=B0=80 =EA=B5=AC=EC=84=B1=EB=90=98=EC=96=B4 =EC=9E=
=88=EA=B3=A0 =EB=AC=BC=EB=A6=AC=EC=A0=81 CPU=EA=B0=80 =EB=B6=80=EC=A1=B1=ED=
=95=98=EC=97=AC =EA=B3=B5=EB=8F=99 vCPU =EC=8A=A4=EC=BC=80=EC=A4=84=EC=9D=
=84 =EA=B4=80=EB=A6=AC=ED=95=A0 =EC=88=98 =EC=97=86=EC=9D=84 =EA=B2=BD=EC=
=9A=B0 =EA=B3=B5=EB=8F=99 =EC=A4=91=EC=A7=80=EC=9C=A8=EC=9D=B4 =EB=86=92=EC=
=95=84=EC=A7=91=EB=8B=88=EB=8B=A4.</span><span>AFFECTED_RESOURCE_NAME: SQLM=
GNT</span><span>AFFECTED_RESOURCE_KIND: VirtualMachine</span><span>ALERT_GE=
NERATE_TIME: Sat Feb 17 13:43:47 KST 2018</span><span>ALERT_UPDATE_TIME: Sa=
t Feb 17 13:43:47 KST 2018</span><span>ALERT_CANCEL_TIME: </span><span>ANOM=
ALIES: SYMPTOM SET - self<br><table border=3D'1'><th>Symptom Name</th><th>O=
bject Name</th><th>Object ID</th><th>Metric</th><th>Message Info</th><tr><t=
d>=EA=B0=80=EC=83=81 =EC=8B=9C=EC=8A=A4=ED=85=9C CPU =EA=B3=B5=EB=8F=99 =EC=
=A4=91=EC=A7=80=EA=B0=80 =EC=A3=BC=EC=9D=98 =EC=88=98=EC=A4=80=EC=9E=84</td=
><td>SQLMGNT</td><td>79422165-7475-4939-ac8e-d3f0139d81ed</td><td>cpu|costo=
pPct</td><td>6.27 > 5.0</td></tr></table>SYMPTOM SET - self<br><table borde=
r=3D'1'><th>Symptom Name</th><th>Object Name</th><th>Object ID</th><th>Metr=
ic</th><th>Message Info</th><tr><td>=EA=B0=80=EC=83=81 =EC=8B=9C=EC=8A=A4=
=ED=85=9C=EC=97=90=EC=84=9C =EC=A0=9C=EA=B1=B0=ED=95=A0 vCPU =EC=88=98</td>=
<td>SQLMGNT</td><td>79422165-7475-4939-ac8e-d3f0139d81ed</td><td>cpu|number=
ToRemove</td><td>1.0 > 0.0</td></tr></table></span><span>ALERT_TYPE: Virtua=
lization Problem</span><span>ALERT_SUBTYPE: Performance Problem</span><span=
>CHILDREN_HEALTH: </span><span>PARENT_HEALTH: </span><span>FILTER_RULE_NAME=
: Dev SMTP (=EC=A0=84=EC=B2=B4)</span><span>FILTER_RULE_DESC: </span><span>=
ALERT_SUMMARY_LINK: https://70.11.11.217/ui/index.action#/object/79422165-7=
475-4939-ac8e-d3f0139d81ed/alertsAndSymptoms/alerts/e8ab27cf-a473-4a53-a4cf=
-d097c0d66e13</span><span>ALERT_RECOMMENDATION: <br>- =EB=82=98=EC=97=B4=EB=
=90=9C =EC=A6=9D=EC=83=81=EC=9D=84 =EA=B2=80=ED=86=A0=ED=95=98=EA=B3=A0 =EC=
=A6=9D=EC=83=81=EC=97=90=EC=84=9C =EA=B6=8C=EC=9E=A5=ED=95=98=EB=8A=94 =EB=
=8C=80=EB=A1=9C =EA=B0=80=EC=83=81 =EC=8B=9C=EC=8A=A4=ED=85=9C=EC=97=90=EC=
=84=9C vCPU=EC=9D=98 =EC=88=98=EB=A5=BC =EC=A0=9C=EA=B1=B0=ED=95=98=EC=8B=
=AD=EC=8B=9C=EC=98=A4.</span><span>RESOURCE_HEALTH_STATE: 0.0</span><span>R=
ESOURCE_RISK_STATE: 0.0</span><span>RESOURCE_EFFICIENCY_STATE: 0.0</span><B=
R></html>

2018-02-17 19:40:45,211 DEBUG smtpserver Email Content (Decoded):
<html><span>ALERT_STATUS: Updated</span><span>ALERT_IMPACT: risk</span><span>ALERT_CRITICALITY: AlertLevel: Warning</span><span>ALERT_DEFINITION_NAME: 가상 시스템에서 지나치게 많은 vCPU로 인해 발생한 다중 vCPU 스케줄 문제(공동 중지)로 인해 CPU 경합이 발생함</span><span>ALERT_ID: e8ab27cf-a473-4a53-a4cf-d097c0d66e13</span><span>ALERT_OWNER: Unable to retrieve value</span><span>ALERT_DEFINITION_DESC: 가상 시스템의 공동 중지율이 높습니다. 공동 중지는 가상 시스템이 실행될 준비가 되었지만 공동 vCPU 스케줄 경합 때문에 지연이 발생하는 시간을 나타냅니다. 가상 시스템에 너무 많은 vCPU가 구성되어 있고 물리적 CPU가 부족하여 공동 vCPU 스케줄을 관리할 수 없을 경우 공동 중지율이 높아집니다.</span><span>AFFECTED_RESOURCE_NAME: SQLMGNT</span><span>AFFECTED_RESOURCE_KIND: VirtualMachine</span><span>ALERT_GENERATE_TIME: Sat Feb 17 13:43:47 KST 2018</span><span>ALERT_UPDATE_TIME: Sat Feb 17 13:43:47 KST 2018</span><span>ALERT_CANCEL_TIME: </span><span>ANOMALIES: SYMPTOM SET - self<br><table border='1'><th>Symptom Name</th><th>Object Name</th><th>Object ID</th><th>Metric</th><th>Message Info</th><tr><td>가상 시스템 CPU 공동 중지가 주의 수준임</td><td>SQLMGNT</td><td>79422165-7475-4939-ac8e-d3f0139d81ed</td><td>cpu|costopPct</td><td>6.27 > 5.0</td></tr></table>SYMPTOM SET - self<br><table border='1'><th>Symptom Name</th><th>Object Name</th><th>Object ID</th><th>Metric</th><th>Message Info</th><tr><td>가상 시스템에서 제거할 vCPU 수</td><td>SQLMGNT</td><td>79422165-7475-4939-ac8e-d3f0139d81ed</td><td>cpu|numberToRemove</td><td>1.0 > 0.0</td></tr></table></span><span>ALERT_TYPE: Virtualization Problem</span><span>ALERT_SUBTYPE: Performance Problem</span><span>CHILDREN_HEALTH: </span><span>PARENT_HEALTH: </span><span>FILTER_RULE_NAME: Dev SMTP (전체)</span><span>FILTER_RULE_DESC: </span><span>ALERT_SUMMARY_LINK: https://70.11.11.217/ui/index.action#/object/79422165-7475-4939-ac8e-d3f0139d81ed/alertsAndSymptoms/alerts/e8ab27cf-a473-4a53-a4cf-d097c0d66e13</span><span>ALERT_RECOMMENDATION: <br>- 나열된 증상을 검토하고 증상에서 권장하는 대로 가상 시스템에서 vCPU의 수를 제거하십시오.</span><span>RESOURCE_HEALTH_STATE: 0.0</span><span>RESOURCE_RISK_STATE: 0.0</span><span>RESOURCE_EFFICIENCY_STATE: 0.0</span><BR></html>

2018-02-17 19:40:45,211 DEBUG smtpserver Anomalies:
[{'Relation': 'self', 'Symptom Index': '1-1', 'Symptom Name': '가상 시스템 CPU 공동 중지가 주의 수준임', 'Object Name': 'SQLMGNT', 'Object ID': '79422165-7475-4939-ac8e-d3f0139d81ed', 'Metric': 'cpu|costopPct', 'Message Info': '6.27 > 5.0'}, {'Relation': 'self', 'Symptom Index': '2-1', 'Symptom Name': '가상 시스템에서 제거할 vCPU 수', 'Object Name': 'SQLMGNT', 'Object ID': '79422165-7475-4939-ac8e-d3f0139d81ed', 'Metric': 'cpu|numberToRemove', 'Message Info': '1.0 > 0.0'}]

2018-02-17 19:40:45,226 DEBUG smtpserver get_symptom_definition_summary() Fetching alert detail from: https://vrops.kccworld.co.kr/suite-api/api/alerts/e8ab27cf-a473-4a53-a4cf-d097c0d66e13
2018-02-17 19:40:45,300 DEBUG smtpserver get_symptom_definition_summary() alert_definition_id: AlertDefinition-VMWARE-CPUContentionDueToCostop
2018-02-17 19:40:45,300 DEBUG smtpserver get_symptom_definition_summary() Fetching alert definition from: https://vrops.kccworld.co.kr/suite-api/api/alertdefinitions/AlertDefinition-VMWARE-CPUContentionDueToCostop
2018-02-17 19:40:45,390 DEBUG smtpserver get_symptom_definition_summary() alert_definition:
{'id': 'AlertDefinition-VMWARE-CPUContentionDueToCostop', 'name': '가상 시스템에서 지나치게 많은 vCPU로 인해 발생한 다중 vCPU 스케줄 문제(공동 중지)로 인해 CPU 경합이 발생함', 'description': '가상 시스템의 공동 중지율이 높습니다. 공동 중지는 가상 시스템이 실행될 준비가 되었지만 공동 vCPU 스케줄 경합 때문에 지연이 발생하는 시간을 나타냅니다. 가상 시스템에 너무 많은 vCPU가 구성되어 있고 물리적 CPU가 부족하여 공동 vCPU 스케줄을 관리할 수 없을 경우 공동 중지율이 높아집니다.', 'adapterKindKey': 'VMWARE', 'resourceKindKey': 'VirtualMachine', 'waitCycles': 1, 'cancelCycles': 1, 'type': 16, 'subType': 19, 'states': [{'severity': 'AUTO', 'base-symptom-set': {'type': 'SYMPTOM_SET_COMPOSITE', 'operator': 'AND', 'symptom-sets': [{'type': 'SYMPTOM_SET', 'relation': 'SELF', 'symptomSetOperator': 'AND', 'symptomDefinitionIds': ['SymptomDefinition-VMWARE-VMNumCPUsToRemove', '!SymptomDefinition-VMWARE-VMPoweredOff']}, {'type': 'SYMPTOM_SET', 'relation': 'SELF', 'symptomSetOperator': 'OR', 'symptomDefinitionIds': ['SymptomDefinition-VMWARE-VMCpuCostopCritical', 'SymptomDefinition-VMWARE-VMCpuCostopWarning', 'SymptomDefinition-VMWARE-VMCpuCostopImmediate']}]}, 'impact': {'impactType': 'BADGE', 'detail': 'risk'}, 'recommendationPriorityMap': {'Recommendation-df-VMWARE-RemoveRecommendedCPUs': 1}}]}

2018-02-17 19:40:45,393 DEBUG smtpserver get_symptom_definition_summary() symptom_sets:
[{'type': 'SYMPTOM_SET', 'relation': 'SELF', 'symptomSetOperator': 'AND', 'symptomDefinitionIds': ['SymptomDefinition-VMWARE-VMNumCPUsToRemove', '!SymptomDefinition-VMWARE-VMPoweredOff']}, {'type': 'SYMPTOM_SET', 'relation': 'SELF', 'symptomSetOperator': 'OR', 'symptomDefinitionIds': ['SymptomDefinition-VMWARE-VMCpuCostopCritical', 'SymptomDefinition-VMWARE-VMCpuCostopWarning', 'SymptomDefinition-VMWARE-VMCpuCostopImmediate']}]

2018-02-17 19:40:45,395 DEBUG smtpserver get_symptom_definition_summary() symptom_definition_ids:
['SymptomDefinition-VMWARE-VMCpuCostopCritical', 'SymptomDefinition-VMWARE-VMCpuCostopImmediate', 'SymptomDefinition-VMWARE-VMCpuCostopWarning', 'SymptomDefinition-VMWARE-VMNumCPUsToRemove', 'SymptomDefinition-VMWARE-VMPoweredOff']

2018-02-17 19:40:46,003 DEBUG smtpserver get_symptom_definition_summary() symptom_definitions:
[{'id': 'SymptomDefinition-VMWARE-VMCpuCostopWarning', 'name': '가상 시스템 CPU 공동 중지가 주의 수준임', 'adapterKindKey': 'VMWARE', 'resourceKindKey': 'VirtualMachine', 'waitCycles': 3, 'cancelCycles': 3, 'state': {'severity': 'WARNING', 'condition': {'type': 'CONDITION_HT', 'key': 'cpu|costopPct', 'operator': 'GT', 'value': '5.0', 'valueType': 'NUMERIC', 'instanced': False, 'thresholdType': 'STATIC'}}}, {'id': 'SymptomDefinition-VMWARE-VMCpuCostopImmediate', 'name': '가상 시스템 CPU 공동 중지가 즉시 수준임', 'adapterKindKey': 'VMWARE', 'resourceKindKey': 'VirtualMachine', 'waitCycles': 3, 'cancelCycles': 3, 'state': {'severity': 'IMMEDIATE', 'condition': {'type': 'CONDITION_HT', 'key': 'cpu|costopPct', 'operator': 'GT', 'value': '10.0', 'valueType': 'NUMERIC', 'instanced': False, 'thresholdType': 'STATIC'}}}, {'id': 'SymptomDefinition-VMWARE-VMCpuCostopCritical', 'name': '가상 시스템 CPU 공동 중지가 위험 수준임', 'adapterKindKey': 'VMWARE', 'resourceKindKey': 'VirtualMachine', 'waitCycles': 3, 'cancelCycles': 3, 'state': {'severity': 'CRITICAL', 'condition': {'type': 'CONDITION_HT', 'key': 'cpu|costopPct', 'operator': 'GT', 'value': '15.0', 'valueType': 'NUMERIC', 'instanced': False, 'thresholdType': 'STATIC'}}}, {'id': 'SymptomDefinition-VMWARE-VMNumCPUsToRemove', 'name': '가상 시스템에서 제거할 vCPU 수', 'adapterKindKey': 'VMWARE', 'resourceKindKey': 'VirtualMachine', 'waitCycles': 1, 'cancelCycles': 1, 'state': {'severity': 'INFORMATION', 'condition': {'type': 'CONDITION_HT', 'key': 'cpu|numberToRemove', 'operator': 'GT', 'value': '0.0', 'valueType': 'NUMERIC', 'instanced': False, 'thresholdType': 'STATIC'}}}, {'id': 'SymptomDefinition-VMWARE-VMPoweredOff', 'name': '가상 시스템 전원 꺼짐', 'adapterKindKey': 'VMWARE', 'resourceKindKey': 'VirtualMachine', 'waitCycles': 1, 'cancelCycles': 1, 'state': {'severity': 'INFORMATION', 'condition': {'type': 'CONDITION_HT', 'key': 'sys|poweredOn', 'operator': 'EQ', 'value': '0.0', 'valueType': 'NUMERIC', 'instanced': False, 'thresholdType': 'STATIC'}}}]

2018-02-17 19:40:46,010 DEBUG smtpserver get_symptom_definition_summary() symptom_definition_summary:
[{'name': '가상 시스템 CPU 공동 중지가 주의 수준임', 'adapterKindKey': 'VMWARE', 'resourceKindKey': 'VirtualMachine', 'severity': 'WARNING', 'type': 'CONDITION_HT', 'key': 'cpu|costopPct', 'instanced': False}, {'name': '가상 시스템 CPU 공동 중지가 즉시 수준임', 'adapterKindKey': 'VMWARE', 'resourceKindKey': 'VirtualMachine', 'severity': 'IMMEDIATE', 'type': 'CONDITION_HT', 'key': 'cpu|costopPct', 'instanced': False}, {'name': '가상 시스템 CPU 공동 중지가 위험 수준임', 'adapterKindKey': 'VMWARE', 'resourceKindKey': 'VirtualMachine', 'severity': 'CRITICAL', 'type': 'CONDITION_HT', 'key': 'cpu|costopPct', 'instanced': False}, {'name': '가상 시스템에서 제거할 vCPU 수', 'adapterKindKey': 'VMWARE', 'resourceKindKey': 'VirtualMachine', 'severity': 'INFORMATION', 'type': 'CONDITION_HT', 'key': 'cpu|numberToRemove', 'instanced': False}, {'name': '가상 시스템 전원 꺼짐', 'adapterKindKey': 'VMWARE', 'resourceKindKey': 'VirtualMachine', 'severity': 'INFORMATION', 'type': 'CONDITION_HT', 'key': 'sys|poweredOn', 'instanced': False}]

2018-02-17 19:40:46,012 DEBUG smtpserver get_localized_metric() Localized metric: cpu|costopPct => CPU|공동 중지 (%)
2018-02-17 19:40:46,012 DEBUG smtpserver get_localized_metric() statkey: cpu|costopPct
2018-02-17 19:40:46,013 DEBUG smtpserver get_localized_metric() Localized metric: cpu|numberToRemove => CPU|제거할 권장 vCPU 수
2018-02-17 19:40:46,013 DEBUG smtpserver get_localized_metric() statkey: cpu|numberToRemove
2018-02-17 19:40:46,015 DEBUG smtpserver Parsed Alert:
ALERT_STATUS: Updated
ALERT_IMPACT: risk
ALERT_CRITICALITY: Warning
ALERT_DEFINITION_NAME: 가상 시스템에서 지나치게 많은 vCPU로 인해 발생한 다중 vCPU 스케줄 문제(공동 중지)로 인해 CPU 경합이 발생함
ALERT_ID: e8ab27cf-a473-4a53-a4cf-d097c0d66e13
ALERT_OWNER: Unable to retrieve value
ALERT_DEFINITION_DESC: 가상 시스템의 공동 중지율이 높습니다. 공동 중지는 가상 시스템이 실행될 준비가 되었지만 공동 vCPU 스케줄 경합 때문에 지연이 발생하는 시간을 나타냅니다. 가상 시스템에 너무 많은 vCPU가 구성되어 있고 물리적 CPU가 부족하여 공동 vCPU 스케줄을 관리할 수 없을 경우 공동 중지율이 높아집니다.
AFFECTED_RESOURCE_NAME: SQLMGNT
AFFECTED_RESOURCE_KIND: VirtualMachine
ALERT_GENERATE_TIME: Sat Feb 17 13:43:47 KST 2018
ALERT_UPDATE_TIME: Sat Feb 17 13:43:47 KST 2018
ALERT_CANCEL_TIME: 
ANOMALIES: <span>ANOMALIES: SYMPTOM SET - self<br/><table border="1"><th>Symptom Name</th><th>Object Name</th><th>Object ID</th><th>Metric</th><th>Message Info</th><tr><td>가상 시스템 CPU 공동 중지가 주의 수준임</td><td>SQLMGNT</td><td>79422165-7475-4939-ac8e-d3f0139d81ed</td><td>cpu|costopPct</td><td>6.27 &gt; 5.0</td></tr></table>SYMPTOM SET - self<br/><table border="1"><th>Symptom Name</th><th>Object Name</th><th>Object ID</th><th>Metric</th><th>Message Info</th><tr><td>가상 시스템에서 제거할 vCPU 수</td><td>SQLMGNT</td><td>79422165-7475-4939-ac8e-d3f0139d81ed</td><td>cpu|numberToRemove</td><td>1.0 &gt; 0.0</td></tr></table></span>
ALERT_TYPE: Virtualization Problem
ALERT_SUBTYPE: Performance Problem
CHILDREN_HEALTH: 
PARENT_HEALTH: 
FILTER_RULE_NAME: Dev SMTP (전체)
FILTER_RULE_DESC: 
ALERT_SUMMARY_LINK: https://70.11.11.217/ui/index.action#/object/79422165-7475-4939-ac8e-d3f0139d81ed/alertsAndSymptoms/alerts/e8ab27cf-a473-4a53-a4cf-d097c0d66e13
ALERT_RECOMMENDATION: <span>ALERT_RECOMMENDATION: <br/>- 나열된 증상을 검토하고 증상에서 권장하는 대로 가상 시스템에서 vCPU의 수를 제거하십시오.</span>
RESOURCE_HEALTH_STATE: 0.0
RESOURCE_RISK_STATE: 0.0
RESOURCE_EFFICIENCY_STATE: 0.0
ALERT_STATUS_TR: 경고 업데이트
ALERT_IMPACT_TR: 위험
ALERT_CRITICALITY_TR: 주의
ALERT_OWNER_TR: 할당되지 않음
AFFECTED_RESOURCE_KIND_TR: 가상 시스템
ALERT_GENERATE_TIME_TR: 02-17 13:43 대한민국 표준시
ALERT_UPDATE_TIME_TR: 02-17 13:43 대한민국 표준시
ALERT_CANCEL_TIME_TR: -
ALERT_TYPE_TR: 가상화·하이퍼바이저
ALERT_SUBTYPE_TR: 성능
RESOURCE_HEALTH_STATE_TR: 없음
RESOURCE_RISK_STATE_TR: 없음
RESOURCE_EFFICIENCY_STATE_TR: 없음
ANOMALIES_TR: [{'Relation': 'self', 'Symptom Index': '1-1', 'Symptom Name': '가상 시스템 CPU 공동 중지가 주의 수준임', 'Object Name': 'SQLMGNT', 'Object ID': '79422165-7475-4939-ac8e-d3f0139d81ed', 'Metric': 'CPU|공동 중지 (%)', 'Message Info': '6.27 > 5.0', 'StatKey': 'cpu|costopPct', 'Criticality': 'Warning'}, {'Relation': 'self', 'Symptom Index': '2-1', 'Symptom Name': '가상 시스템에서 제거할 vCPU 수', 'Object Name': 'SQLMGNT', 'Object ID': '79422165-7475-4939-ac8e-d3f0139d81ed', 'Metric': 'CPU|제거할 권장 vCPU 수', 'Message Info': '1.0 > 0.0', 'StatKey': 'cpu|numberToRemove', 'Criticality': 'Information'}]
ALERT_RECOMMENDATION_TR: ['나열된 증상을 검토하고 증상에서 권장하는 대로 가상 시스템에서 vCPU의 수를 제거하십시오.']


2018-02-17 21:02:46,595 INFO smtpserver SMTPServer configuration file loaded: smtpserver.cfg
2018-02-17 21:02:46,598 INFO smtpserver Localization resource file loaded: resources_ko.cfg
2018-02-17 21:02:46,598 DEBUG smtpserver get_vrops_auth_token() Getting vROps authorization token from: https://vrops.kccworld.co.kr/suite-api/api/auth/token/acquire
2018-02-17 21:02:46,934 DEBUG smtpserver get_vrops_auth_token() Authorization token: {'token': '847c3541-ede4-4a34-b762-f8bfe360ec21::781e586e-c482-47c4-a8d6-53a4e2ff75b0', 'validity': 1518890566920, 'expiresAt': '2018년 2월 18일 일요일 오전 3시 02분 46초 KST', 'roles': []}
2018-02-17 21:02:46,944 INFO smtpserver Listening vROps alert messages on 0.0.0.0:8668
2018-02-17 22:56:56,649 INFO smtpserver SMTPServer configuration file loaded: smtpserver.cfg
2018-02-17 22:56:56,649 DEBUG smtpserver get_vrops_auth_token() Getting vROps authorization token from: https://vrops.kccworld.co.kr/suite-api/api/auth/token/acquire
2018-02-17 22:56:57,063 DEBUG smtpserver get_vrops_auth_token() Authorization token: {'token': '847c3541-ede4-4a34-b762-f8bfe360ec21::8fb33c41-d597-4935-9a58-1ed3cc75054c', 'validity': 1518897417030, 'expiresAt': '2018년 2월 18일 일요일 오전 4시 56분 57초 KST', 'roles': []}
2018-02-17 22:56:57,069 INFO smtpserver Listening vROps alert messages on 0.0.0.0:8668
2018-02-17 22:57:49,156 DEBUG smtpserver Email Message (RAW):
From: vRealize Operations <vRealizeOps-admin@example.com>
To: admin@vrops.kccworld.co.kr
Message-ID: <1776101639.4081.1518875869158.JavaMail.admin@vrops.kccworld.co.kr>
Subject: =?UTF-8?Q?[vRealize_Operations_Manager]_(Updated)_JBOSS_-?=
 =?UTF-8?Q?_KCC_-_=ED=95=98=EB=82=98_=EC=9D=B4?=
 =?UTF-8?Q?=EC=83=81=EC=9D=98_=EA=B0=80=EC=83=81_?=
 =?UTF-8?Q?=EC=8B=9C=EC=8A=A4=ED=85=9C_=EA=B2=8C=EC=8A=A4?=
 =?UTF-8?Q?=ED=8A=B8_=ED=8C=8C=EC=9D=BC_=EC=8B=9C?=
 =?UTF-8?Q?=EC=8A=A4=ED=85=9C=EC=9D=98_=EB=94=94=EC=8A=A4?=
 =?UTF-8?Q?=ED=81=AC_=EA=B3=B5=EA=B0=84=EC=9D=B4_?=
 =?UTF-8?Q?=EB=B6=80=EC=A1=B1=ED=95=A9=EB=8B=88=EB=8B=A4.?=
MIME-Version: 1.0
Content-Type: text/html; charset=utf-8
Content-Transfer-Encoding: quoted-printable

<html><span>ALERT_STATUS: Updated</span><span>ALERT_IMPACT: health</span><s=
pan>ALERT_CRITICALITY: AlertLevel: Immediate</span><span>ALERT_DEFINITION_N=
AME: KCC - =ED=95=98=EB=82=98 =EC=9D=B4=EC=83=81=EC=9D=98 =EA=B0=80=EC=83=
=81 =EC=8B=9C=EC=8A=A4=ED=85=9C =EA=B2=8C=EC=8A=A4=ED=8A=B8 =ED=8C=8C=EC=9D=
=BC =EC=8B=9C=EC=8A=A4=ED=85=9C=EC=9D=98 =EB=94=94=EC=8A=A4=ED=81=AC =EA=B3=
=B5=EA=B0=84=EC=9D=B4 =EB=B6=80=EC=A1=B1=ED=95=A9=EB=8B=88=EB=8B=A4.</span>=
<span>ALERT_ID: 842b3473-482a-4eb1-9fbb-8428fad1d41a</span><span>ALERT_OWNE=
R: Unable to retrieve value</span><span>ALERT_DEFINITION_DESC: =EA=B0=80=EC=
=83=81 =EC=8B=9C=EC=8A=A4=ED=85=9C=EC=97=90=EC=84=9C =ED=95=98=EB=82=98 =EC=
=9D=B4=EC=83=81=EC=9D=98 =EA=B2=8C=EC=8A=A4=ED=8A=B8 =ED=8C=8C=EC=9D=BC =EC=
=8B=9C=EC=8A=A4=ED=85=9C=EC=9D=98 =EB=94=94=EC=8A=A4=ED=81=AC =EA=B3=B5=EA=
=B0=84=EC=9D=B4 =EB=B6=80=EC=A1=B1=ED=95=A9=EB=8B=88=EB=8B=A4. =EC=A6=9D=EC=
=83=81 =EC=84=B8=EB=B6=80 =EC=A0=95=EB=B3=B4=EB=A5=BC =ED=99=95=EC=9D=B8=ED=
=95=98=EC=97=AC =EC=98=81=ED=96=A5=EC=9D=84 =EB=B0=9B=EB=8A=94 =EA=B2=8C=EC=
=8A=A4=ED=8A=B8 =ED=8C=8C=EC=9D=BC =EC=8B=9C=EC=8A=A4=ED=85=9C=EC=9D=84 =EC=
=8B=9D=EB=B3=84=ED=95=98=EC=8B=AD=EC=8B=9C=EC=98=A4.</span><span>AFFECTED_R=
ESOURCE_NAME: JBOSS</span><span>AFFECTED_RESOURCE_KIND: VirtualMachine</spa=
n><span>ALERT_GENERATE_TIME: Wed Feb 14 20:08:46 KST 2018</span><span>ALERT=
_UPDATE_TIME: Wed Feb 14 20:08:46 KST 2018</span><span>ALERT_CANCEL_TIME: <=
/span><span>ANOMALIES: SYMPTOM SET - self<br><table border=3D'1'><th>Sympto=
m Name</th><th>Object Name</th><th>Object ID</th><th>Metric</th><th>Message=
 Info</th><tr><td>=EA=B2=8C=EC=8A=A4=ED=8A=B8 =ED=8C=8C=EC=9D=BC =EC=8B=9C=
=EC=8A=A4=ED=85=9C =EA=B3=B5=EA=B0=84 =EC=82=AC=EC=9A=A9=EB=9F=89=EC=9D=B4 =
DT=EB=B3=B4=EB=8B=A4 =EB=86=92=EC=9D=8C</td><td>JBOSS</td><td>1aa557e3-e53e=
-4e48-89ff-b2def3e771c4</td><td>guestfilesystem|percentage_total</td><td>55=
.14 above 54.92210006713867</td></tr></table>SYMPTOM SET - self<br><table b=
order=3D'1'><th>Symptom Name</th><th>Object Name</th><th>Object ID</th><th>=
Metric</th><th>Message Info</th><tr><td>=EA=B2=8C=EC=8A=A4=ED=8A=B8 =ED=8C=
=8C=EC=9D=BC =EC=8B=9C=EC=8A=A4=ED=85=9C =EA=B3=B5=EA=B0=84 =EC=82=AC=EC=9A=
=A9=EB=9F=89=EC=9D=B4 =EC=A6=89=EC=8B=9C =EC=88=98=EC=A4=80=EC=9E=84</td><t=
d>JBOSS</td><td>1aa557e3-e53e-4e48-89ff-b2def3e771c4</td><td>guestfilesyste=
m:D:\|percentage</td><td>90.6 > 90.0</td></tr></table></span><span>ALERT_TY=
PE: Virtualization Problem</span><span>ALERT_SUBTYPE: Capacity Problem</spa=
n><span>CHILDREN_HEALTH: </span><span>PARENT_HEALTH: </span><span>FILTER_RU=
LE_NAME: Dev SMTP (=EC=A0=84=EC=B2=B4)</span><span>FILTER_RULE_DESC: </span=
><span>ALERT_SUMMARY_LINK: https://70.11.11.217/ui/index.action#/object/1aa=
557e3-e53e-4e48-89ff-b2def3e771c4/alertsAndSymptoms/alerts/842b3473-482a-4e=
b1-9fbb-8428fad1d41a</span><span>ALERT_RECOMMENDATION: <br>- =EC=83=88 =EA=
=B0=80=EC=83=81 =ED=95=98=EB=93=9C =EB=94=94=EC=8A=A4=ED=81=AC=EB=A5=BC =EC=
=B6=94=EA=B0=80=ED=95=98=EA=B1=B0=EB=82=98 =EA=B0=80=EC=83=81 =EC=8B=9C=EC=
=8A=A4=ED=85=9C=EC=9D=98 =EA=B8=B0=EC=A1=B4 =EB=94=94=EC=8A=A4=ED=81=AC=EB=
=A5=BC =ED=99=95=EC=9E=A5=ED=95=A9=EB=8B=88=EB=8B=A4. =EA=B8=B0=EC=A1=B4 =
=EB=94=94=EC=8A=A4=ED=81=AC=EB=A5=BC =ED=99=95=EC=9E=A5=ED=95=98=EB=A0=A4=
=EB=A9=B4 =EB=A8=BC=EC=A0=80 =EB=AA=A8=EB=93=A0 =EC=8A=A4=EB=83=85=EC=83=B7=
=EC=9D=84 =EC=A0=9C=EA=B1=B0=ED=95=B4=EC=95=BC =ED=95=A9=EB=8B=88=EB=8B=A4.=
 =EC=9D=B4 =EC=9E=91=EC=97=85=EC=9D=84 =EC=88=98=ED=96=89=ED=95=9C =ED=9B=
=84=EC=97=90=EB=8A=94 =EA=B2=8C=EC=8A=A4=ED=8A=B8 OS =EA=B4=80=EB=A0=A8 =EC=
=A0=88=EC=B0=A8=EB=A5=BC =EC=82=AC=EC=9A=A9=ED=95=98=EC=97=AC =EC=83=88 =EB=
=94=94=EC=8A=A4=ED=81=AC =EB=98=90=EB=8A=94 =ED=99=95=EC=9E=A5=EB=90=9C =EB=
=94=94=EC=8A=A4=ED=81=AC=EC=97=90=EC=84=9C =ED=8C=8C=EC=9D=BC =EC=8B=9C=EC=
=8A=A4=ED=85=9C=EC=9D=84 =ED=99=95=EC=9E=A5=ED=95=A9=EB=8B=88=EB=8B=A4.</sp=
an><span>RESOURCE_HEALTH_STATE: 0.0</span><span>RESOURCE_RISK_STATE: 0.0</s=
pan><span>RESOURCE_EFFICIENCY_STATE: 0.0</span><BR></html>

2018-02-17 22:57:49,171 DEBUG smtpserver Email Content (Decoded):
<html><span>ALERT_STATUS: Updated</span><span>ALERT_IMPACT: health</span><span>ALERT_CRITICALITY: AlertLevel: Immediate</span><span>ALERT_DEFINITION_NAME: KCC - 하나 이상의 가상 시스템 게스트 파일 시스템의 디스크 공간이 부족합니다.</span><span>ALERT_ID: 842b3473-482a-4eb1-9fbb-8428fad1d41a</span><span>ALERT_OWNER: Unable to retrieve value</span><span>ALERT_DEFINITION_DESC: 가상 시스템에서 하나 이상의 게스트 파일 시스템의 디스크 공간이 부족합니다. 증상 세부 정보를 확인하여 영향을 받는 게스트 파일 시스템을 식별하십시오.</span><span>AFFECTED_RESOURCE_NAME: JBOSS</span><span>AFFECTED_RESOURCE_KIND: VirtualMachine</span><span>ALERT_GENERATE_TIME: Wed Feb 14 20:08:46 KST 2018</span><span>ALERT_UPDATE_TIME: Wed Feb 14 20:08:46 KST 2018</span><span>ALERT_CANCEL_TIME: </span><span>ANOMALIES: SYMPTOM SET - self<br><table border='1'><th>Symptom Name</th><th>Object Name</th><th>Object ID</th><th>Metric</th><th>Message Info</th><tr><td>게스트 파일 시스템 공간 사용량이 DT보다 높음</td><td>JBOSS</td><td>1aa557e3-e53e-4e48-89ff-b2def3e771c4</td><td>guestfilesystem|percentage_total</td><td>55.14 above 54.92210006713867</td></tr></table>SYMPTOM SET - self<br><table border='1'><th>Symptom Name</th><th>Object Name</th><th>Object ID</th><th>Metric</th><th>Message Info</th><tr><td>게스트 파일 시스템 공간 사용량이 즉시 수준임</td><td>JBOSS</td><td>1aa557e3-e53e-4e48-89ff-b2def3e771c4</td><td>guestfilesystem:D:\|percentage</td><td>90.6 > 90.0</td></tr></table></span><span>ALERT_TYPE: Virtualization Problem</span><span>ALERT_SUBTYPE: Capacity Problem</span><span>CHILDREN_HEALTH: </span><span>PARENT_HEALTH: </span><span>FILTER_RULE_NAME: Dev SMTP (전체)</span><span>FILTER_RULE_DESC: </span><span>ALERT_SUMMARY_LINK: https://70.11.11.217/ui/index.action#/object/1aa557e3-e53e-4e48-89ff-b2def3e771c4/alertsAndSymptoms/alerts/842b3473-482a-4eb1-9fbb-8428fad1d41a</span><span>ALERT_RECOMMENDATION: <br>- 새 가상 하드 디스크를 추가하거나 가상 시스템의 기존 디스크를 확장합니다. 기존 디스크를 확장하려면 먼저 모든 스냅샷을 제거해야 합니다. 이 작업을 수행한 후에는 게스트 OS 관련 절차를 사용하여 새 디스크 또는 확장된 디스크에서 파일 시스템을 확장합니다.</span><span>RESOURCE_HEALTH_STATE: 0.0</span><span>RESOURCE_RISK_STATE: 0.0</span><span>RESOURCE_EFFICIENCY_STATE: 0.0</span><BR></html>

2018-02-17 22:57:49,171 DEBUG smtpserver Anomalies:
[{'Relation': 'self', 'Symptom Index': '1-1', 'Symptom Name': '게스트 파일 시스템 공간 사용량이 DT보다 높음', 'Object Name': 'JBOSS', 'Object ID': '1aa557e3-e53e-4e48-89ff-b2def3e771c4', 'Metric': 'guestfilesystem|percentage_total', 'Message Info': '55.14 above 54.92210006713867'}, {'Relation': 'self', 'Symptom Index': '2-1', 'Symptom Name': '게스트 파일 시스템 공간 사용량이 즉시 수준임', 'Object Name': 'JBOSS', 'Object ID': '1aa557e3-e53e-4e48-89ff-b2def3e771c4', 'Metric': 'guestfilesystem:D:\\|percentage', 'Message Info': '90.6 > 90.0'}]

2018-02-17 22:57:49,171 DEBUG smtpserver get_symptom_definition_summary() Fetching alert detail from: https://vrops.kccworld.co.kr/suite-api/api/alerts/842b3473-482a-4eb1-9fbb-8428fad1d41a
2018-02-17 22:57:49,252 DEBUG smtpserver get_symptom_definition_summary() alert_definition_id: AlertDefinition-20049f89-8652-45c6-a7c1-cc88aa038b2a
2018-02-17 22:57:49,252 DEBUG smtpserver get_symptom_definition_summary() Fetching alert definition from: https://vrops.kccworld.co.kr/suite-api/api/alertdefinitions/AlertDefinition-20049f89-8652-45c6-a7c1-cc88aa038b2a
2018-02-17 22:57:49,346 DEBUG smtpserver get_symptom_definition_summary() alert_definition:
{'id': 'AlertDefinition-20049f89-8652-45c6-a7c1-cc88aa038b2a', 'name': 'KCC - 하나 이상의 가상 시스템 게스트 파일 시스템의 디스크 공간이 부족합니다.', 'description': '가상 시스템에서 하나 이상의 게스트 파일 시스템의 디스크 공간이 부족합니다. 증상 세부 정보를 확인하여 영향을 받는 게스트 파일 시스템을 식별하십시오.', 'adapterKindKey': 'VMWARE', 'resourceKindKey': 'VirtualMachine', 'waitCycles': 1, 'cancelCycles': 1, 'type': 16, 'subType': 20, 'states': [{'severity': 'AUTO', 'base-symptom-set': {'type': 'SYMPTOM_SET_COMPOSITE', 'operator': 'AND', 'symptom-sets': [{'type': 'SYMPTOM_SET', 'relation': 'SELF', 'symptomSetOperator': 'OR', 'symptomDefinitionIds': ['SymptomDefinition-VMWARE-GuestPartitionUsageWarning', 'SymptomDefinition-VMWARE-GuestPartitionUsageImmediate', 'SymptomDefinition-VMWARE-GuestPartitionUsageCritical']}, {'type': 'SYMPTOM_SET', 'relation': 'SELF', 'symptomSetOperator': 'AND', 'symptomDefinitionIds': ['SymptomDefinition-VMWARE-GuestSpaceUsageDTAbove']}]}, 'impact': {'impactType': 'BADGE', 'detail': 'health'}, 'recommendationPriorityMap': {'Recommendation-df-VMWARE-AddMoreDiskToVM': 1}}]}

2018-02-17 22:57:49,346 DEBUG smtpserver get_symptom_definition_summary() symptom_sets:
[{'type': 'SYMPTOM_SET', 'relation': 'SELF', 'symptomSetOperator': 'OR', 'symptomDefinitionIds': ['SymptomDefinition-VMWARE-GuestPartitionUsageWarning', 'SymptomDefinition-VMWARE-GuestPartitionUsageImmediate', 'SymptomDefinition-VMWARE-GuestPartitionUsageCritical']}, {'type': 'SYMPTOM_SET', 'relation': 'SELF', 'symptomSetOperator': 'AND', 'symptomDefinitionIds': ['SymptomDefinition-VMWARE-GuestSpaceUsageDTAbove']}]

2018-02-17 22:57:49,346 DEBUG smtpserver get_symptom_definition_summary() symptom_definition_ids:
['SymptomDefinition-VMWARE-GuestPartitionUsageCritical', 'SymptomDefinition-VMWARE-GuestPartitionUsageImmediate', 'SymptomDefinition-VMWARE-GuestPartitionUsageWarning', 'SymptomDefinition-VMWARE-GuestSpaceUsageDTAbove']

2018-02-17 22:57:50,109 DEBUG smtpserver get_symptom_definition_summary() symptom_definitions:
[{'id': 'SymptomDefinition-VMWARE-GuestPartitionUsageWarning', 'name': 'Guest file system space usage at warning level', 'adapterKindKey': 'VMWARE', 'resourceKindKey': 'VirtualMachine', 'waitCycles': 1, 'cancelCycles': 1, 'state': {'severity': 'WARNING', 'condition': {'type': 'CONDITION_HT', 'key': 'guestfilesystem|percentage', 'operator': 'GT', 'value': '85.0', 'valueType': 'NUMERIC', 'instanced': True, 'thresholdType': 'STATIC'}}}, {'id': 'SymptomDefinition-VMWARE-GuestSpaceUsageDTAbove', 'name': 'Guest file system space usage above DT', 'adapterKindKey': 'VMWARE', 'resourceKindKey': 'VirtualMachine', 'waitCycles': 3, 'cancelCycles': 3, 'state': {'severity': 'WARNING', 'condition': {'type': 'CONDITION_DT', 'key': 'guestfilesystem|percentage_total', 'operator': 'DT_ABOVE', 'instanced': False}}}, {'id': 'SymptomDefinition-VMWARE-GuestPartitionUsageCritical', 'name': 'Guest file system space usage at critical level', 'adapterKindKey': 'VMWARE', 'resourceKindKey': 'VirtualMachine', 'waitCycles': 1, 'cancelCycles': 1, 'state': {'severity': 'CRITICAL', 'condition': {'type': 'CONDITION_HT', 'key': 'guestfilesystem|percentage', 'operator': 'GT', 'value': '95.0', 'valueType': 'NUMERIC', 'instanced': True, 'thresholdType': 'STATIC'}}}, {'id': 'SymptomDefinition-VMWARE-GuestPartitionUsageImmediate', 'name': 'Guest file system space usage at immediate level', 'adapterKindKey': 'VMWARE', 'resourceKindKey': 'VirtualMachine', 'waitCycles': 1, 'cancelCycles': 1, 'state': {'severity': 'IMMEDIATE', 'condition': {'type': 'CONDITION_HT', 'key': 'guestfilesystem|percentage', 'operator': 'GT', 'value': '90.0', 'valueType': 'NUMERIC', 'instanced': True, 'thresholdType': 'STATIC'}}}]

2018-02-17 22:57:50,109 DEBUG smtpserver get_symptom_definition_summary() symptom_definition_summary:
[{'name': 'Guest file system space usage at warning level', 'adapterKindKey': 'VMWARE', 'resourceKindKey': 'VirtualMachine', 'severity': 'WARNING', 'type': 'CONDITION_HT', 'key': 'guestfilesystem|percentage', 'instanced': True}, {'name': 'Guest file system space usage above DT', 'adapterKindKey': 'VMWARE', 'resourceKindKey': 'VirtualMachine', 'severity': 'WARNING', 'type': 'CONDITION_DT', 'key': 'guestfilesystem|percentage_total', 'instanced': False}, {'name': 'Guest file system space usage at critical level', 'adapterKindKey': 'VMWARE', 'resourceKindKey': 'VirtualMachine', 'severity': 'CRITICAL', 'type': 'CONDITION_HT', 'key': 'guestfilesystem|percentage', 'instanced': True}, {'name': 'Guest file system space usage at immediate level', 'adapterKindKey': 'VMWARE', 'resourceKindKey': 'VirtualMachine', 'severity': 'IMMEDIATE', 'type': 'CONDITION_HT', 'key': 'guestfilesystem|percentage', 'instanced': True}]

2018-02-17 22:57:50,125 DEBUG smtpserver Parsed Alert:
ALERT_STATUS: Updated
ALERT_IMPACT: health
ALERT_CRITICALITY: Immediate
ALERT_DEFINITION_NAME: KCC - 하나 이상의 가상 시스템 게스트 파일 시스템의 디스크 공간이 부족합니다.
ALERT_ID: 842b3473-482a-4eb1-9fbb-8428fad1d41a
ALERT_OWNER: Unable to retrieve value
ALERT_DEFINITION_DESC: 가상 시스템에서 하나 이상의 게스트 파일 시스템의 디스크 공간이 부족합니다. 증상 세부 정보를 확인하여 영향을 받는 게스트 파일 시스템을 식별하십시오.
AFFECTED_RESOURCE_NAME: JBOSS
AFFECTED_RESOURCE_KIND: VirtualMachine
ALERT_GENERATE_TIME: Wed Feb 14 20:08:46 KST 2018
ALERT_UPDATE_TIME: Wed Feb 14 20:08:46 KST 2018
ALERT_CANCEL_TIME: 
ANOMALIES: <span>ANOMALIES: SYMPTOM SET - self<br/><table border="1"><th>Symptom Name</th><th>Object Name</th><th>Object ID</th><th>Metric</th><th>Message Info</th><tr><td>게스트 파일 시스템 공간 사용량이 DT보다 높음</td><td>JBOSS</td><td>1aa557e3-e53e-4e48-89ff-b2def3e771c4</td><td>guestfilesystem|percentage_total</td><td>55.14 above 54.92210006713867</td></tr></table>SYMPTOM SET - self<br/><table border="1"><th>Symptom Name</th><th>Object Name</th><th>Object ID</th><th>Metric</th><th>Message Info</th><tr><td>게스트 파일 시스템 공간 사용량이 즉시 수준임</td><td>JBOSS</td><td>1aa557e3-e53e-4e48-89ff-b2def3e771c4</td><td>guestfilesystem:D:\|percentage</td><td>90.6 &gt; 90.0</td></tr></table></span>
ALERT_TYPE: Virtualization Problem
ALERT_SUBTYPE: Capacity Problem
CHILDREN_HEALTH: 
PARENT_HEALTH: 
FILTER_RULE_NAME: Dev SMTP (전체)
FILTER_RULE_DESC: 
ALERT_SUMMARY_LINK: https://70.11.11.217/ui/index.action#/object/1aa557e3-e53e-4e48-89ff-b2def3e771c4/alertsAndSymptoms/alerts/842b3473-482a-4eb1-9fbb-8428fad1d41a
ALERT_RECOMMENDATION: <span>ALERT_RECOMMENDATION: <br/>- 새 가상 하드 디스크를 추가하거나 가상 시스템의 기존 디스크를 확장합니다. 기존 디스크를 확장하려면 먼저 모든 스냅샷을 제거해야 합니다. 이 작업을 수행한 후에는 게스트 OS 관련 절차를 사용하여 새 디스크 또는 확장된 디스크에서 파일 시스템을 확장합니다.</span>
RESOURCE_HEALTH_STATE: 0.0
RESOURCE_RISK_STATE: 0.0
RESOURCE_EFFICIENCY_STATE: 0.0
ALERT_STATUS_TR: Updated
ALERT_IMPACT_TR: health
ALERT_CRITICALITY_TR: Immediate
ALERT_OWNER_TR: None
AFFECTED_RESOURCE_KIND_TR: VirtualMachine
ALERT_GENERATE_TIME_TR: 02-14 20:08 대한민국 표준시
ALERT_UPDATE_TIME_TR: 02-14 20:08 대한민국 표준시
ALERT_CANCEL_TIME_TR: -
ALERT_TYPE_TR: Virtualization Problem
ALERT_SUBTYPE_TR: Capacity Problem
RESOURCE_HEALTH_STATE_TR: None
RESOURCE_RISK_STATE_TR: None
RESOURCE_EFFICIENCY_STATE_TR: None
ANOMALIES_TR: [{'Relation': 'self', 'Symptom Index': '1-1', 'Symptom Name': '게스트 파일 시스템 공간 사용량이 DT보다 높음', 'Object Name': 'JBOSS', 'Object ID': '1aa557e3-e53e-4e48-89ff-b2def3e771c4', 'Metric': 'guestfilesystem|percentage_total', 'Message Info': '55.14 above 54.92210006713867', 'StatKey': 'guestfilesystem|percentage_total', 'Criticality': 'Immediate'}, {'Relation': 'self', 'Symptom Index': '2-1', 'Symptom Name': '게스트 파일 시스템 공간 사용량이 즉시 수준임', 'Object Name': 'JBOSS', 'Object ID': '1aa557e3-e53e-4e48-89ff-b2def3e771c4', 'Metric': 'guestfilesystem:D:\\|percentage', 'Message Info': '90.6 > 90.0', 'StatKey': 'guestfilesystem:D:\\|percentage', 'Criticality': 'Immediate'}]
ALERT_RECOMMENDATION_TR: ['새 가상 하드 디스크를 추가하거나 가상 시스템의 기존 디스크를 확장합니다. 기존 디스크를 확장하려면 먼저 모든 스냅샷을 제거해야 합니다. 이 작업을 수행한 후에는 게스트 OS 관련 절차를 사용하여 새 디스크 또는 확장된 디스크에서 파일 시스템을 확장합니다.']


2018-02-17 22:57:53,093 INFO smtpserver Message Dropped: OUTBOUND_ALERT_RULE does not match
2018-02-17 22:59:53,156 DEBUG smtpserver Email Message (RAW):
From: vRealize Operations <vRealizeOps-admin@example.com>
To: admin@vrops.kccworld.co.kr
Message-ID: <1493099239.4083.1518875993150.JavaMail.admin@vrops.kccworld.co.kr>
Subject: =?UTF-8?Q?[vRealize_Operations_Manager]_(Updated)_JBOSS_-?=
 =?UTF-8?Q?_KCC_-_=ED=95=98=EB=82=98_=EC=9D=B4?=
 =?UTF-8?Q?=EC=83=81=EC=9D=98_=EA=B0=80=EC=83=81_?=
 =?UTF-8?Q?=EC=8B=9C=EC=8A=A4=ED=85=9C_=EA=B2=8C=EC=8A=A4?=
 =?UTF-8?Q?=ED=8A=B8_=ED=8C=8C=EC=9D=BC_=EC=8B=9C?=
 =?UTF-8?Q?=EC=8A=A4=ED=85=9C=EC=9D=98_=EB=94=94=EC=8A=A4?=
 =?UTF-8?Q?=ED=81=AC_=EA=B3=B5=EA=B0=84=EC=9D=B4_?=
 =?UTF-8?Q?=EB=B6=80=EC=A1=B1=ED=95=A9=EB=8B=88=EB=8B=A4.?=
MIME-Version: 1.0
Content-Type: text/html; charset=utf-8
Content-Transfer-Encoding: quoted-printable

<html><span>ALERT_STATUS: Updated</span><span>ALERT_IMPACT: health</span><s=
pan>ALERT_CRITICALITY: AlertLevel: Immediate</span><span>ALERT_DEFINITION_N=
AME: KCC - =ED=95=98=EB=82=98 =EC=9D=B4=EC=83=81=EC=9D=98 =EA=B0=80=EC=83=
=81 =EC=8B=9C=EC=8A=A4=ED=85=9C =EA=B2=8C=EC=8A=A4=ED=8A=B8 =ED=8C=8C=EC=9D=
=BC =EC=8B=9C=EC=8A=A4=ED=85=9C=EC=9D=98 =EB=94=94=EC=8A=A4=ED=81=AC =EA=B3=
=B5=EA=B0=84=EC=9D=B4 =EB=B6=80=EC=A1=B1=ED=95=A9=EB=8B=88=EB=8B=A4.</span>=
<span>ALERT_ID: 842b3473-482a-4eb1-9fbb-8428fad1d41a</span><span>ALERT_OWNE=
R: Unable to retrieve value</span><span>ALERT_DEFINITION_DESC: =EA=B0=80=EC=
=83=81 =EC=8B=9C=EC=8A=A4=ED=85=9C=EC=97=90=EC=84=9C =ED=95=98=EB=82=98 =EC=
=9D=B4=EC=83=81=EC=9D=98 =EA=B2=8C=EC=8A=A4=ED=8A=B8 =ED=8C=8C=EC=9D=BC =EC=
=8B=9C=EC=8A=A4=ED=85=9C=EC=9D=98 =EB=94=94=EC=8A=A4=ED=81=AC =EA=B3=B5=EA=
=B0=84=EC=9D=B4 =EB=B6=80=EC=A1=B1=ED=95=A9=EB=8B=88=EB=8B=A4. =EC=A6=9D=EC=
=83=81 =EC=84=B8=EB=B6=80 =EC=A0=95=EB=B3=B4=EB=A5=BC =ED=99=95=EC=9D=B8=ED=
=95=98=EC=97=AC =EC=98=81=ED=96=A5=EC=9D=84 =EB=B0=9B=EB=8A=94 =EA=B2=8C=EC=
=8A=A4=ED=8A=B8 =ED=8C=8C=EC=9D=BC =EC=8B=9C=EC=8A=A4=ED=85=9C=EC=9D=84 =EC=
=8B=9D=EB=B3=84=ED=95=98=EC=8B=AD=EC=8B=9C=EC=98=A4.</span><span>AFFECTED_R=
ESOURCE_NAME: JBOSS</span><span>AFFECTED_RESOURCE_KIND: VirtualMachine</spa=
n><span>ALERT_GENERATE_TIME: Wed Feb 14 20:08:46 KST 2018</span><span>ALERT=
_UPDATE_TIME: Wed Feb 14 20:08:46 KST 2018</span><span>ALERT_CANCEL_TIME: <=
/span><span>ANOMALIES: SYMPTOM SET - self<br><table border=3D'1'><th>Sympto=
m Name</th><th>Object Name</th><th>Object ID</th><th>Metric</th><th>Message=
 Info</th><tr><td>=EA=B2=8C=EC=8A=A4=ED=8A=B8 =ED=8C=8C=EC=9D=BC =EC=8B=9C=
=EC=8A=A4=ED=85=9C =EA=B3=B5=EA=B0=84 =EC=82=AC=EC=9A=A9=EB=9F=89=EC=9D=B4 =
DT=EB=B3=B4=EB=8B=A4 =EB=86=92=EC=9D=8C</td><td>JBOSS</td><td>1aa557e3-e53e=
-4e48-89ff-b2def3e771c4</td><td>=EA=B2=8C=EC=8A=A4=ED=8A=B8 =ED=8C=8C=EC=9D=
=BC =EC=8B=9C=EC=8A=A4=ED=85=9C =ED=86=B5=EA=B3=84|=EC=B4=9D =EA=B2=8C=EC=
=8A=A4=ED=8A=B8 =ED=8C=8C=EC=9D=BC =EC=8B=9C=EC=8A=A4=ED=85=9C =EC=82=AC=EC=
=9A=A9=EB=9F=89</td><td>55.14 above 54.92210006713867</td></tr></table>SYMP=
TOM SET - self<br><table border=3D'1'><th>Symptom Name</th><th>Object Name<=
/th><th>Object ID</th><th>Metric</th><th>Message Info</th><tr><td>=EA=B2=8C=
=EC=8A=A4=ED=8A=B8 =ED=8C=8C=EC=9D=BC =EC=8B=9C=EC=8A=A4=ED=85=9C =EA=B3=B5=
=EA=B0=84 =EC=82=AC=EC=9A=A9=EB=9F=89=EC=9D=B4 =EC=A6=89=EC=8B=9C =EC=88=98=
=EC=A4=80=EC=9E=84</td><td>JBOSS</td><td>1aa557e3-e53e-4e48-89ff-b2def3e771=
c4</td><td>guestfilesystem:D:\|percentage</td><td>90.6 > 90.0</td></tr></ta=
ble></span><span>ALERT_TYPE: Virtualization Problem</span><span>ALERT_SUBTY=
PE: Capacity Problem</span><span>CHILDREN_HEALTH: </span><span>PARENT_HEALT=
H: </span><span>FILTER_RULE_NAME: Dev SMTP (=EC=A0=84=EC=B2=B4)</span><span=
>FILTER_RULE_DESC: </span><span>ALERT_SUMMARY_LINK: https://70.11.11.217/ui=
/index.action#/object/1aa557e3-e53e-4e48-89ff-b2def3e771c4/alertsAndSymptom=
s/alerts/842b3473-482a-4eb1-9fbb-8428fad1d41a</span><span>ALERT_RECOMMENDAT=
ION: <br>- =EC=83=88 =EA=B0=80=EC=83=81 =ED=95=98=EB=93=9C =EB=94=94=EC=8A=
=A4=ED=81=AC=EB=A5=BC =EC=B6=94=EA=B0=80=ED=95=98=EA=B1=B0=EB=82=98 =EA=B0=
=80=EC=83=81 =EC=8B=9C=EC=8A=A4=ED=85=9C=EC=9D=98 =EA=B8=B0=EC=A1=B4 =EB=94=
=94=EC=8A=A4=ED=81=AC=EB=A5=BC =ED=99=95=EC=9E=A5=ED=95=A9=EB=8B=88=EB=8B=
=A4. =EA=B8=B0=EC=A1=B4 =EB=94=94=EC=8A=A4=ED=81=AC=EB=A5=BC =ED=99=95=EC=
=9E=A5=ED=95=98=EB=A0=A4=EB=A9=B4 =EB=A8=BC=EC=A0=80 =EB=AA=A8=EB=93=A0 =EC=
=8A=A4=EB=83=85=EC=83=B7=EC=9D=84 =EC=A0=9C=EA=B1=B0=ED=95=B4=EC=95=BC =ED=
=95=A9=EB=8B=88=EB=8B=A4. =EC=9D=B4 =EC=9E=91=EC=97=85=EC=9D=84 =EC=88=98=
=ED=96=89=ED=95=9C =ED=9B=84=EC=97=90=EB=8A=94 =EA=B2=8C=EC=8A=A4=ED=8A=B8 =
OS =EA=B4=80=EB=A0=A8 =EC=A0=88=EC=B0=A8=EB=A5=BC =EC=82=AC=EC=9A=A9=ED=95=
=98=EC=97=AC =EC=83=88 =EB=94=94=EC=8A=A4=ED=81=AC =EB=98=90=EB=8A=94 =ED=
=99=95=EC=9E=A5=EB=90=9C =EB=94=94=EC=8A=A4=ED=81=AC=EC=97=90=EC=84=9C =ED=
=8C=8C=EC=9D=BC =EC=8B=9C=EC=8A=A4=ED=85=9C=EC=9D=84 =ED=99=95=EC=9E=A5=ED=
=95=A9=EB=8B=88=EB=8B=A4.</span><span>RESOURCE_HEALTH_STATE: 0.0</span><spa=
n>RESOURCE_RISK_STATE: 0.0</span><span>RESOURCE_EFFICIENCY_STATE: 0.0</span=
><BR></html>

2018-02-17 22:59:53,156 DEBUG smtpserver Email Content (Decoded):
<html><span>ALERT_STATUS: Updated</span><span>ALERT_IMPACT: health</span><span>ALERT_CRITICALITY: AlertLevel: Immediate</span><span>ALERT_DEFINITION_NAME: KCC - 하나 이상의 가상 시스템 게스트 파일 시스템의 디스크 공간이 부족합니다.</span><span>ALERT_ID: 842b3473-482a-4eb1-9fbb-8428fad1d41a</span><span>ALERT_OWNER: Unable to retrieve value</span><span>ALERT_DEFINITION_DESC: 가상 시스템에서 하나 이상의 게스트 파일 시스템의 디스크 공간이 부족합니다. 증상 세부 정보를 확인하여 영향을 받는 게스트 파일 시스템을 식별하십시오.</span><span>AFFECTED_RESOURCE_NAME: JBOSS</span><span>AFFECTED_RESOURCE_KIND: VirtualMachine</span><span>ALERT_GENERATE_TIME: Wed Feb 14 20:08:46 KST 2018</span><span>ALERT_UPDATE_TIME: Wed Feb 14 20:08:46 KST 2018</span><span>ALERT_CANCEL_TIME: </span><span>ANOMALIES: SYMPTOM SET - self<br><table border='1'><th>Symptom Name</th><th>Object Name</th><th>Object ID</th><th>Metric</th><th>Message Info</th><tr><td>게스트 파일 시스템 공간 사용량이 DT보다 높음</td><td>JBOSS</td><td>1aa557e3-e53e-4e48-89ff-b2def3e771c4</td><td>게스트 파일 시스템 통계|총 게스트 파일 시스템 사용량</td><td>55.14 above 54.92210006713867</td></tr></table>SYMPTOM SET - self<br><table border='1'><th>Symptom Name</th><th>Object Name</th><th>Object ID</th><th>Metric</th><th>Message Info</th><tr><td>게스트 파일 시스템 공간 사용량이 즉시 수준임</td><td>JBOSS</td><td>1aa557e3-e53e-4e48-89ff-b2def3e771c4</td><td>guestfilesystem:D:\|percentage</td><td>90.6 > 90.0</td></tr></table></span><span>ALERT_TYPE: Virtualization Problem</span><span>ALERT_SUBTYPE: Capacity Problem</span><span>CHILDREN_HEALTH: </span><span>PARENT_HEALTH: </span><span>FILTER_RULE_NAME: Dev SMTP (전체)</span><span>FILTER_RULE_DESC: </span><span>ALERT_SUMMARY_LINK: https://70.11.11.217/ui/index.action#/object/1aa557e3-e53e-4e48-89ff-b2def3e771c4/alertsAndSymptoms/alerts/842b3473-482a-4eb1-9fbb-8428fad1d41a</span><span>ALERT_RECOMMENDATION: <br>- 새 가상 하드 디스크를 추가하거나 가상 시스템의 기존 디스크를 확장합니다. 기존 디스크를 확장하려면 먼저 모든 스냅샷을 제거해야 합니다. 이 작업을 수행한 후에는 게스트 OS 관련 절차를 사용하여 새 디스크 또는 확장된 디스크에서 파일 시스템을 확장합니다.</span><span>RESOURCE_HEALTH_STATE: 0.0</span><span>RESOURCE_RISK_STATE: 0.0</span><span>RESOURCE_EFFICIENCY_STATE: 0.0</span><BR></html>

2018-02-17 22:59:53,171 DEBUG smtpserver Anomalies:
[{'Relation': 'self', 'Symptom Index': '1-1', 'Symptom Name': '게스트 파일 시스템 공간 사용량이 DT보다 높음', 'Object Name': 'JBOSS', 'Object ID': '1aa557e3-e53e-4e48-89ff-b2def3e771c4', 'Metric': '게스트 파일 시스템 통계|총 게스트 파일 시스템 사용량', 'Message Info': '55.14 above 54.92210006713867'}, {'Relation': 'self', 'Symptom Index': '2-1', 'Symptom Name': '게스트 파일 시스템 공간 사용량이 즉시 수준임', 'Object Name': 'JBOSS', 'Object ID': '1aa557e3-e53e-4e48-89ff-b2def3e771c4', 'Metric': 'guestfilesystem:D:\\|percentage', 'Message Info': '90.6 > 90.0'}]

2018-02-17 22:59:53,171 DEBUG smtpserver get_symptom_definition_summary() Fetching alert detail from: https://vrops.kccworld.co.kr/suite-api/api/alerts/842b3473-482a-4eb1-9fbb-8428fad1d41a
2018-02-17 22:59:53,255 DEBUG smtpserver get_symptom_definition_summary() alert_definition_id: AlertDefinition-20049f89-8652-45c6-a7c1-cc88aa038b2a
2018-02-17 22:59:53,255 DEBUG smtpserver get_symptom_definition_summary() Fetching alert definition from: https://vrops.kccworld.co.kr/suite-api/api/alertdefinitions/AlertDefinition-20049f89-8652-45c6-a7c1-cc88aa038b2a
2018-02-17 22:59:53,348 DEBUG smtpserver get_symptom_definition_summary() alert_definition:
{'id': 'AlertDefinition-20049f89-8652-45c6-a7c1-cc88aa038b2a', 'name': 'KCC - 하나 이상의 가상 시스템 게스트 파일 시스템의 디스크 공간이 부족합니다.', 'description': '가상 시스템에서 하나 이상의 게스트 파일 시스템의 디스크 공간이 부족합니다. 증상 세부 정보를 확인하여 영향을 받는 게스트 파일 시스템을 식별하십시오.', 'adapterKindKey': 'VMWARE', 'resourceKindKey': 'VirtualMachine', 'waitCycles': 1, 'cancelCycles': 1, 'type': 16, 'subType': 20, 'states': [{'severity': 'AUTO', 'base-symptom-set': {'type': 'SYMPTOM_SET_COMPOSITE', 'operator': 'AND', 'symptom-sets': [{'type': 'SYMPTOM_SET', 'relation': 'SELF', 'symptomSetOperator': 'OR', 'symptomDefinitionIds': ['SymptomDefinition-VMWARE-GuestPartitionUsageWarning', 'SymptomDefinition-VMWARE-GuestPartitionUsageImmediate', 'SymptomDefinition-VMWARE-GuestPartitionUsageCritical']}, {'type': 'SYMPTOM_SET', 'relation': 'SELF', 'symptomSetOperator': 'AND', 'symptomDefinitionIds': ['SymptomDefinition-VMWARE-GuestSpaceUsageDTAbove']}]}, 'impact': {'impactType': 'BADGE', 'detail': 'health'}, 'recommendationPriorityMap': {'Recommendation-df-VMWARE-AddMoreDiskToVM': 1}}]}

2018-02-17 22:59:53,348 DEBUG smtpserver get_symptom_definition_summary() symptom_sets:
[{'type': 'SYMPTOM_SET', 'relation': 'SELF', 'symptomSetOperator': 'OR', 'symptomDefinitionIds': ['SymptomDefinition-VMWARE-GuestPartitionUsageWarning', 'SymptomDefinition-VMWARE-GuestPartitionUsageImmediate', 'SymptomDefinition-VMWARE-GuestPartitionUsageCritical']}, {'type': 'SYMPTOM_SET', 'relation': 'SELF', 'symptomSetOperator': 'AND', 'symptomDefinitionIds': ['SymptomDefinition-VMWARE-GuestSpaceUsageDTAbove']}]

2018-02-17 22:59:53,348 DEBUG smtpserver get_symptom_definition_summary() symptom_definition_ids:
['SymptomDefinition-VMWARE-GuestPartitionUsageCritical', 'SymptomDefinition-VMWARE-GuestPartitionUsageImmediate', 'SymptomDefinition-VMWARE-GuestPartitionUsageWarning', 'SymptomDefinition-VMWARE-GuestSpaceUsageDTAbove']

2018-02-17 22:59:53,957 DEBUG smtpserver get_symptom_definition_summary() symptom_definitions:
[{'id': 'SymptomDefinition-VMWARE-GuestPartitionUsageWarning', 'name': 'Guest file system space usage at warning level', 'adapterKindKey': 'VMWARE', 'resourceKindKey': 'VirtualMachine', 'waitCycles': 1, 'cancelCycles': 1, 'state': {'severity': 'WARNING', 'condition': {'type': 'CONDITION_HT', 'key': 'guestfilesystem|percentage', 'operator': 'GT', 'value': '85.0', 'valueType': 'NUMERIC', 'instanced': True, 'thresholdType': 'STATIC'}}}, {'id': 'SymptomDefinition-VMWARE-GuestSpaceUsageDTAbove', 'name': 'Guest file system space usage above DT', 'adapterKindKey': 'VMWARE', 'resourceKindKey': 'VirtualMachine', 'waitCycles': 3, 'cancelCycles': 3, 'state': {'severity': 'WARNING', 'condition': {'type': 'CONDITION_DT', 'key': 'guestfilesystem|percentage_total', 'operator': 'DT_ABOVE', 'instanced': False}}}, {'id': 'SymptomDefinition-VMWARE-GuestPartitionUsageCritical', 'name': 'Guest file system space usage at critical level', 'adapterKindKey': 'VMWARE', 'resourceKindKey': 'VirtualMachine', 'waitCycles': 1, 'cancelCycles': 1, 'state': {'severity': 'CRITICAL', 'condition': {'type': 'CONDITION_HT', 'key': 'guestfilesystem|percentage', 'operator': 'GT', 'value': '95.0', 'valueType': 'NUMERIC', 'instanced': True, 'thresholdType': 'STATIC'}}}, {'id': 'SymptomDefinition-VMWARE-GuestPartitionUsageImmediate', 'name': 'Guest file system space usage at immediate level', 'adapterKindKey': 'VMWARE', 'resourceKindKey': 'VirtualMachine', 'waitCycles': 1, 'cancelCycles': 1, 'state': {'severity': 'IMMEDIATE', 'condition': {'type': 'CONDITION_HT', 'key': 'guestfilesystem|percentage', 'operator': 'GT', 'value': '90.0', 'valueType': 'NUMERIC', 'instanced': True, 'thresholdType': 'STATIC'}}}]

2018-02-17 22:59:53,957 DEBUG smtpserver get_symptom_definition_summary() symptom_definition_summary:
[{'name': 'Guest file system space usage at warning level', 'adapterKindKey': 'VMWARE', 'resourceKindKey': 'VirtualMachine', 'severity': 'WARNING', 'type': 'CONDITION_HT', 'key': 'guestfilesystem|percentage', 'instanced': True}, {'name': 'Guest file system space usage above DT', 'adapterKindKey': 'VMWARE', 'resourceKindKey': 'VirtualMachine', 'severity': 'WARNING', 'type': 'CONDITION_DT', 'key': 'guestfilesystem|percentage_total', 'instanced': False}, {'name': 'Guest file system space usage at critical level', 'adapterKindKey': 'VMWARE', 'resourceKindKey': 'VirtualMachine', 'severity': 'CRITICAL', 'type': 'CONDITION_HT', 'key': 'guestfilesystem|percentage', 'instanced': True}, {'name': 'Guest file system space usage at immediate level', 'adapterKindKey': 'VMWARE', 'resourceKindKey': 'VirtualMachine', 'severity': 'IMMEDIATE', 'type': 'CONDITION_HT', 'key': 'guestfilesystem|percentage', 'instanced': True}]

2018-02-17 22:59:53,957 DEBUG smtpserver Parsed Alert:
ALERT_STATUS: Updated
ALERT_IMPACT: health
ALERT_CRITICALITY: Immediate
ALERT_DEFINITION_NAME: KCC - 하나 이상의 가상 시스템 게스트 파일 시스템의 디스크 공간이 부족합니다.
ALERT_ID: 842b3473-482a-4eb1-9fbb-8428fad1d41a
ALERT_OWNER: Unable to retrieve value
ALERT_DEFINITION_DESC: 가상 시스템에서 하나 이상의 게스트 파일 시스템의 디스크 공간이 부족합니다. 증상 세부 정보를 확인하여 영향을 받는 게스트 파일 시스템을 식별하십시오.
AFFECTED_RESOURCE_NAME: JBOSS
AFFECTED_RESOURCE_KIND: VirtualMachine
ALERT_GENERATE_TIME: Wed Feb 14 20:08:46 KST 2018
ALERT_UPDATE_TIME: Wed Feb 14 20:08:46 KST 2018
ALERT_CANCEL_TIME: 
ANOMALIES: <span>ANOMALIES: SYMPTOM SET - self<br/><table border="1"><th>Symptom Name</th><th>Object Name</th><th>Object ID</th><th>Metric</th><th>Message Info</th><tr><td>게스트 파일 시스템 공간 사용량이 DT보다 높음</td><td>JBOSS</td><td>1aa557e3-e53e-4e48-89ff-b2def3e771c4</td><td>게스트 파일 시스템 통계|총 게스트 파일 시스템 사용량</td><td>55.14 above 54.92210006713867</td></tr></table>SYMPTOM SET - self<br/><table border="1"><th>Symptom Name</th><th>Object Name</th><th>Object ID</th><th>Metric</th><th>Message Info</th><tr><td>게스트 파일 시스템 공간 사용량이 즉시 수준임</td><td>JBOSS</td><td>1aa557e3-e53e-4e48-89ff-b2def3e771c4</td><td>guestfilesystem:D:\|percentage</td><td>90.6 &gt; 90.0</td></tr></table></span>
ALERT_TYPE: Virtualization Problem
ALERT_SUBTYPE: Capacity Problem
CHILDREN_HEALTH: 
PARENT_HEALTH: 
FILTER_RULE_NAME: Dev SMTP (전체)
FILTER_RULE_DESC: 
ALERT_SUMMARY_LINK: https://70.11.11.217/ui/index.action#/object/1aa557e3-e53e-4e48-89ff-b2def3e771c4/alertsAndSymptoms/alerts/842b3473-482a-4eb1-9fbb-8428fad1d41a
ALERT_RECOMMENDATION: <span>ALERT_RECOMMENDATION: <br/>- 새 가상 하드 디스크를 추가하거나 가상 시스템의 기존 디스크를 확장합니다. 기존 디스크를 확장하려면 먼저 모든 스냅샷을 제거해야 합니다. 이 작업을 수행한 후에는 게스트 OS 관련 절차를 사용하여 새 디스크 또는 확장된 디스크에서 파일 시스템을 확장합니다.</span>
RESOURCE_HEALTH_STATE: 0.0
RESOURCE_RISK_STATE: 0.0
RESOURCE_EFFICIENCY_STATE: 0.0
ALERT_STATUS_TR: Updated
ALERT_IMPACT_TR: health
ALERT_CRITICALITY_TR: Immediate
ALERT_OWNER_TR: None
AFFECTED_RESOURCE_KIND_TR: VirtualMachine
ALERT_GENERATE_TIME_TR: 02-14 20:08 대한민국 표준시
ALERT_UPDATE_TIME_TR: 02-14 20:08 대한민국 표준시
ALERT_CANCEL_TIME_TR: -
ALERT_TYPE_TR: Virtualization Problem
ALERT_SUBTYPE_TR: Capacity Problem
RESOURCE_HEALTH_STATE_TR: None
RESOURCE_RISK_STATE_TR: None
RESOURCE_EFFICIENCY_STATE_TR: None
ANOMALIES_TR: [{'Relation': 'self', 'Symptom Index': '1-1', 'Symptom Name': '게스트 파일 시스템 공간 사용량이 DT보다 높음', 'Object Name': 'JBOSS', 'Object ID': '1aa557e3-e53e-4e48-89ff-b2def3e771c4', 'Metric': '게스트 파일 시스템 통계|총 게스트 파일 시스템 사용량', 'Message Info': '55.14 above 54.92210006713867', 'StatKey': '게스트 파일 시스템 통계|총 게스트 파일 시스템 사용량', 'Criticality': 'Immediate'}, {'Relation': 'self', 'Symptom Index': '2-1', 'Symptom Name': '게스트 파일 시스템 공간 사용량이 즉시 수준임', 'Object Name': 'JBOSS', 'Object ID': '1aa557e3-e53e-4e48-89ff-b2def3e771c4', 'Metric': 'guestfilesystem:D:\\|percentage', 'Message Info': '90.6 > 90.0', 'StatKey': 'guestfilesystem:D:\\|percentage', 'Criticality': 'Immediate'}]
ALERT_RECOMMENDATION_TR: ['새 가상 하드 디스크를 추가하거나 가상 시스템의 기존 디스크를 확장합니다. 기존 디스크를 확장하려면 먼저 모든 스냅샷을 제거해야 합니다. 이 작업을 수행한 후에는 게스트 OS 관련 절차를 사용하여 새 디스크 또는 확장된 디스크에서 파일 시스템을 확장합니다.']


2018-02-17 22:59:56,495 INFO smtpserver Message Dropped: OUTBOUND_ALERT_RULE does not match
2018-02-18 14:52:21,327 INFO smtpserver SMTPServer configuration file loaded: smtpserver.cfg
2018-02-18 14:52:21,343 INFO smtpserver Localization resource file loaded: resources_ko.cfg
2018-02-18 14:52:21,343 DEBUG smtpserver get_vrops_auth_token() Getting vROps authorization token from: https://vrops.kccworld.co.kr/suite-api/api/auth/token/acquire
2018-02-18 14:52:21,762 DEBUG smtpserver get_vrops_auth_token() Authorization token: {'token': '847c3541-ede4-4a34-b762-f8bfe360ec21::e087cf6b-b408-4f9c-a240-90e082b9d760', 'validity': 1518954741422, 'expiresAt': '2018년 2월 18일 일요일 오후 8시 52분 21초 KST', 'roles': []}
2018-02-18 14:52:21,768 INFO smtpserver Listening vROps alert messages on 0.0.0.0:8668
2018-02-18 14:53:08,938 DEBUG smtpserver Email Message (RAW):
From: vRealize Operations <vRealizeOps-admin@example.com>
To: admin@vrops.kccworld.co.kr
Message-ID: <662471708.4115.1518933188624.JavaMail.admin@vrops.kccworld.co.kr>
Subject: =?UTF-8?Q?[vRealize_Operations_Manager]?=
 =?UTF-8?Q?_(Updated)_SQL?= =?UTF-8?Q?MGNT_-_?=
 =?UTF-8?Q?=EA=B0=80=EC=83=81_=EC=8B=9C?=
 =?UTF-8?Q?=EC=8A=A4=ED=85=9C=EC=97=90=EC=84=9C?=
 =?UTF-8?Q?_=EC=A7=80=EB=82=98=EC=B9=98=EA=B2=8C_=EB=A7=8E?=
 =?UTF-8?Q?=EC=9D=80_vCPU=EB=A1=9C?=
 =?UTF-8?Q?_=EC=9D=B8=ED=95=B4_=EB=B0=9C=EC=83=9D=ED=95=9C?=
 =?UTF-8?Q?_=EB=8B=A4=EC=A4=91_vCPU?=
 =?UTF-8?Q?_=EC=8A=A4=EC=BC=80=EC=A4=84_=EB=AC=B8=EC=A0=9C?=
 =?UTF-8?Q?(=EA=B3=B5=EB=8F=99_=EC=A4=91=EC=A7=80)=EB=A1=9C?=
 =?UTF-8?Q?_=EC=9D=B8=ED=95=B4_CPU?=
 =?UTF-8?Q?_=EA=B2=BD=ED=95=A9=EC=9D=B4_=EB=B0=9C=EC=83=9D=ED=95=A8?=
MIME-Version: 1.0
Content-Type: text/html; charset=utf-8
Content-Transfer-Encoding: quoted-printable

<html><span>ALERT_STATUS: Updated</span><span>ALERT_IMPACT: risk</span><spa=
n>ALERT_CRITICALITY: AlertLevel: Warning</span><span>ALERT_DEFINITION_NAME:=
 =EA=B0=80=EC=83=81 =EC=8B=9C=EC=8A=A4=ED=85=9C=EC=97=90=EC=84=9C =EC=A7=80=
=EB=82=98=EC=B9=98=EA=B2=8C =EB=A7=8E=EC=9D=80 vCPU=EB=A1=9C =EC=9D=B8=ED=
=95=B4 =EB=B0=9C=EC=83=9D=ED=95=9C =EB=8B=A4=EC=A4=91 vCPU =EC=8A=A4=EC=BC=
=80=EC=A4=84 =EB=AC=B8=EC=A0=9C(=EA=B3=B5=EB=8F=99 =EC=A4=91=EC=A7=80)=EB=
=A1=9C =EC=9D=B8=ED=95=B4 CPU =EA=B2=BD=ED=95=A9=EC=9D=B4 =EB=B0=9C=EC=83=
=9D=ED=95=A8</span><span>ALERT_ID: 1635de0c-be45-4032-b31a-2b956e6afe5f</sp=
an><span>ALERT_OWNER: Unable to retrieve value</span><span>ALERT_DEFINITION=
_DESC: =EA=B0=80=EC=83=81 =EC=8B=9C=EC=8A=A4=ED=85=9C=EC=9D=98 =EA=B3=B5=EB=
=8F=99 =EC=A4=91=EC=A7=80=EC=9C=A8=EC=9D=B4 =EB=86=92=EC=8A=B5=EB=8B=88=EB=
=8B=A4. =EA=B3=B5=EB=8F=99 =EC=A4=91=EC=A7=80=EB=8A=94 =EA=B0=80=EC=83=81 =
=EC=8B=9C=EC=8A=A4=ED=85=9C=EC=9D=B4 =EC=8B=A4=ED=96=89=EB=90=A0 =EC=A4=80=
=EB=B9=84=EA=B0=80 =EB=90=98=EC=97=88=EC=A7=80=EB=A7=8C =EA=B3=B5=EB=8F=99 =
vCPU =EC=8A=A4=EC=BC=80=EC=A4=84 =EA=B2=BD=ED=95=A9 =EB=95=8C=EB=AC=B8=EC=
=97=90 =EC=A7=80=EC=97=B0=EC=9D=B4 =EB=B0=9C=EC=83=9D=ED=95=98=EB=8A=94 =EC=
=8B=9C=EA=B0=84=EC=9D=84 =EB=82=98=ED=83=80=EB=83=85=EB=8B=88=EB=8B=A4. =EA=
=B0=80=EC=83=81 =EC=8B=9C=EC=8A=A4=ED=85=9C=EC=97=90 =EB=84=88=EB=AC=B4 =EB=
=A7=8E=EC=9D=80 vCPU=EA=B0=80 =EA=B5=AC=EC=84=B1=EB=90=98=EC=96=B4 =EC=9E=
=88=EA=B3=A0 =EB=AC=BC=EB=A6=AC=EC=A0=81 CPU=EA=B0=80 =EB=B6=80=EC=A1=B1=ED=
=95=98=EC=97=AC =EA=B3=B5=EB=8F=99 vCPU =EC=8A=A4=EC=BC=80=EC=A4=84=EC=9D=
=84 =EA=B4=80=EB=A6=AC=ED=95=A0 =EC=88=98 =EC=97=86=EC=9D=84 =EA=B2=BD=EC=
=9A=B0 =EA=B3=B5=EB=8F=99 =EC=A4=91=EC=A7=80=EC=9C=A8=EC=9D=B4 =EB=86=92=EC=
=95=84=EC=A7=91=EB=8B=88=EB=8B=A4.</span><span>AFFECTED_RESOURCE_NAME: SQLM=
GNT</span><span>AFFECTED_RESOURCE_KIND: VirtualMachine</span><span>ALERT_GE=
NERATE_TIME: Sun Feb 18 12:53:47 KST 2018</span><span>ALERT_UPDATE_TIME: Su=
n Feb 18 12:53:47 KST 2018</span><span>ALERT_CANCEL_TIME: </span><span>ANOM=
ALIES: SYMPTOM SET - self<br><table border=3D'1'><th>Symptom Name</th><th>O=
bject Name</th><th>Object ID</th><th>Metric</th><th>Message Info</th><tr><t=
d>=EA=B0=80=EC=83=81 =EC=8B=9C=EC=8A=A4=ED=85=9C CPU =EA=B3=B5=EB=8F=99 =EC=
=A4=91=EC=A7=80=EA=B0=80 =EC=A3=BC=EC=9D=98 =EC=88=98=EC=A4=80=EC=9E=84</td=
><td>SQLMGNT</td><td>79422165-7475-4939-ac8e-d3f0139d81ed</td><td>CPU|=EA=
=B3=B5=EB=8F=99 =EC=A4=91=EC=A7=80</td><td>7.44 > 5.0</td></tr></table>SYMP=
TOM SET - self<br><table border=3D'1'><th>Symptom Name</th><th>Object Name<=
/th><th>Object ID</th><th>Metric</th><th>Message Info</th><tr><td>=EA=B0=80=
=EC=83=81 =EC=8B=9C=EC=8A=A4=ED=85=9C=EC=97=90=EC=84=9C =EC=A0=9C=EA=B1=B0=
=ED=95=A0 vCPU =EC=88=98</td><td>SQLMGNT</td><td>79422165-7475-4939-ac8e-d3=
f0139d81ed</td><td>CPU|=EC=A0=9C=EA=B1=B0=ED=95=A0 =EA=B6=8C=EC=9E=A5 vCPU =
=EC=88=98</td><td>1.0 > 0.0</td></tr></table></span><span>ALERT_TYPE: Virtu=
alization Problem</span><span>ALERT_SUBTYPE: Performance Problem</span><spa=
n>CHILDREN_HEALTH: </span><span>PARENT_HEALTH: </span><span>FILTER_RULE_NAM=
E: Dev SMTP (=EC=A0=84=EC=B2=B4)</span><span>FILTER_RULE_DESC: </span><span=
>ALERT_SUMMARY_LINK: https://70.11.11.217/ui/index.action#/object/79422165-=
7475-4939-ac8e-d3f0139d81ed/alertsAndSymptoms/alerts/1635de0c-be45-4032-b31=
a-2b956e6afe5f</span><span>ALERT_RECOMMENDATION: <br>- =EB=82=98=EC=97=B4=
=EB=90=9C =EC=A6=9D=EC=83=81=EC=9D=84 =EA=B2=80=ED=86=A0=ED=95=98=EA=B3=A0 =
=EC=A6=9D=EC=83=81=EC=97=90=EC=84=9C =EA=B6=8C=EC=9E=A5=ED=95=98=EB=8A=94 =
=EB=8C=80=EB=A1=9C =EA=B0=80=EC=83=81 =EC=8B=9C=EC=8A=A4=ED=85=9C=EC=97=90=
=EC=84=9C vCPU=EC=9D=98 =EC=88=98=EB=A5=BC =EC=A0=9C=EA=B1=B0=ED=95=98=EC=
=8B=AD=EC=8B=9C=EC=98=A4.</span><span>RESOURCE_HEALTH_STATE: 0.0</span><spa=
n>RESOURCE_RISK_STATE: 0.0</span><span>RESOURCE_EFFICIENCY_STATE: 0.0</span=
><BR></html>

2018-02-18 14:53:08,969 DEBUG smtpserver Email Content (Decoded):
<html><span>ALERT_STATUS: Updated</span><span>ALERT_IMPACT: risk</span><span>ALERT_CRITICALITY: AlertLevel: Warning</span><span>ALERT_DEFINITION_NAME: 가상 시스템에서 지나치게 많은 vCPU로 인해 발생한 다중 vCPU 스케줄 문제(공동 중지)로 인해 CPU 경합이 발생함</span><span>ALERT_ID: 1635de0c-be45-4032-b31a-2b956e6afe5f</span><span>ALERT_OWNER: Unable to retrieve value</span><span>ALERT_DEFINITION_DESC: 가상 시스템의 공동 중지율이 높습니다. 공동 중지는 가상 시스템이 실행될 준비가 되었지만 공동 vCPU 스케줄 경합 때문에 지연이 발생하는 시간을 나타냅니다. 가상 시스템에 너무 많은 vCPU가 구성되어 있고 물리적 CPU가 부족하여 공동 vCPU 스케줄을 관리할 수 없을 경우 공동 중지율이 높아집니다.</span><span>AFFECTED_RESOURCE_NAME: SQLMGNT</span><span>AFFECTED_RESOURCE_KIND: VirtualMachine</span><span>ALERT_GENERATE_TIME: Sun Feb 18 12:53:47 KST 2018</span><span>ALERT_UPDATE_TIME: Sun Feb 18 12:53:47 KST 2018</span><span>ALERT_CANCEL_TIME: </span><span>ANOMALIES: SYMPTOM SET - self<br><table border='1'><th>Symptom Name</th><th>Object Name</th><th>Object ID</th><th>Metric</th><th>Message Info</th><tr><td>가상 시스템 CPU 공동 중지가 주의 수준임</td><td>SQLMGNT</td><td>79422165-7475-4939-ac8e-d3f0139d81ed</td><td>CPU|공동 중지</td><td>7.44 > 5.0</td></tr></table>SYMPTOM SET - self<br><table border='1'><th>Symptom Name</th><th>Object Name</th><th>Object ID</th><th>Metric</th><th>Message Info</th><tr><td>가상 시스템에서 제거할 vCPU 수</td><td>SQLMGNT</td><td>79422165-7475-4939-ac8e-d3f0139d81ed</td><td>CPU|제거할 권장 vCPU 수</td><td>1.0 > 0.0</td></tr></table></span><span>ALERT_TYPE: Virtualization Problem</span><span>ALERT_SUBTYPE: Performance Problem</span><span>CHILDREN_HEALTH: </span><span>PARENT_HEALTH: </span><span>FILTER_RULE_NAME: Dev SMTP (전체)</span><span>FILTER_RULE_DESC: </span><span>ALERT_SUMMARY_LINK: https://70.11.11.217/ui/index.action#/object/79422165-7475-4939-ac8e-d3f0139d81ed/alertsAndSymptoms/alerts/1635de0c-be45-4032-b31a-2b956e6afe5f</span><span>ALERT_RECOMMENDATION: <br>- 나열된 증상을 검토하고 증상에서 권장하는 대로 가상 시스템에서 vCPU의 수를 제거하십시오.</span><span>RESOURCE_HEALTH_STATE: 0.0</span><span>RESOURCE_RISK_STATE: 0.0</span><span>RESOURCE_EFFICIENCY_STATE: 0.0</span><BR></html>

2018-02-18 14:53:08,984 DEBUG smtpserver Anomalies:
[{'Relation': 'self', 'Symptom Index': '1-1', 'Symptom Name': '가상 시스템 CPU 공동 중지가 주의 수준임', 'Object Name': 'SQLMGNT', 'Object ID': '79422165-7475-4939-ac8e-d3f0139d81ed', 'Metric': 'CPU|공동 중지', 'Message Info': '7.44 > 5.0'}, {'Relation': 'self', 'Symptom Index': '2-1', 'Symptom Name': '가상 시스템에서 제거할 vCPU 수', 'Object Name': 'SQLMGNT', 'Object ID': '79422165-7475-4939-ac8e-d3f0139d81ed', 'Metric': 'CPU|제거할 권장 vCPU 수', 'Message Info': '1.0 > 0.0'}]

2018-02-18 14:53:08,984 DEBUG smtpserver get_symptom_definition_summary() Fetching alert detail from: https://vrops.kccworld.co.kr/suite-api/api/alerts/1635de0c-be45-4032-b31a-2b956e6afe5f
2018-02-18 14:53:09,078 DEBUG smtpserver get_symptom_definition_summary() alert_definition_id: AlertDefinition-VMWARE-CPUContentionDueToCostop
2018-02-18 14:53:09,078 DEBUG smtpserver get_symptom_definition_summary() Fetching alert definition from: https://vrops.kccworld.co.kr/suite-api/api/alertdefinitions/AlertDefinition-VMWARE-CPUContentionDueToCostop
2018-02-18 14:53:09,185 DEBUG smtpserver get_symptom_definition_summary() alert_definition:
{'id': 'AlertDefinition-VMWARE-CPUContentionDueToCostop', 'name': '가상 시스템에서 지나치게 많은 vCPU로 인해 발생한 다중 vCPU 스케줄 문제(공동 중지)로 인해 CPU 경합이 발생함', 'description': '가상 시스템의 공동 중지율이 높습니다. 공동 중지는 가상 시스템이 실행될 준비가 되었지만 공동 vCPU 스케줄 경합 때문에 지연이 발생하는 시간을 나타냅니다. 가상 시스템에 너무 많은 vCPU가 구성되어 있고 물리적 CPU가 부족하여 공동 vCPU 스케줄을 관리할 수 없을 경우 공동 중지율이 높아집니다.', 'adapterKindKey': 'VMWARE', 'resourceKindKey': 'VirtualMachine', 'waitCycles': 1, 'cancelCycles': 1, 'type': 16, 'subType': 19, 'states': [{'severity': 'AUTO', 'base-symptom-set': {'type': 'SYMPTOM_SET_COMPOSITE', 'operator': 'AND', 'symptom-sets': [{'type': 'SYMPTOM_SET', 'relation': 'SELF', 'symptomSetOperator': 'AND', 'symptomDefinitionIds': ['SymptomDefinition-VMWARE-VMNumCPUsToRemove', '!SymptomDefinition-VMWARE-VMPoweredOff']}, {'type': 'SYMPTOM_SET', 'relation': 'SELF', 'symptomSetOperator': 'OR', 'symptomDefinitionIds': ['SymptomDefinition-VMWARE-VMCpuCostopCritical', 'SymptomDefinition-VMWARE-VMCpuCostopWarning', 'SymptomDefinition-VMWARE-VMCpuCostopImmediate']}]}, 'impact': {'impactType': 'BADGE', 'detail': 'risk'}, 'recommendationPriorityMap': {'Recommendation-df-VMWARE-RemoveRecommendedCPUs': 1}}]}

2018-02-18 14:53:09,185 DEBUG smtpserver get_symptom_definition_summary() symptom_sets:
[{'type': 'SYMPTOM_SET', 'relation': 'SELF', 'symptomSetOperator': 'AND', 'symptomDefinitionIds': ['SymptomDefinition-VMWARE-VMNumCPUsToRemove', '!SymptomDefinition-VMWARE-VMPoweredOff']}, {'type': 'SYMPTOM_SET', 'relation': 'SELF', 'symptomSetOperator': 'OR', 'symptomDefinitionIds': ['SymptomDefinition-VMWARE-VMCpuCostopCritical', 'SymptomDefinition-VMWARE-VMCpuCostopWarning', 'SymptomDefinition-VMWARE-VMCpuCostopImmediate']}]

2018-02-18 14:53:09,185 DEBUG smtpserver get_symptom_definition_summary() symptom_definition_ids:
['SymptomDefinition-VMWARE-VMCpuCostopCritical', 'SymptomDefinition-VMWARE-VMCpuCostopImmediate', 'SymptomDefinition-VMWARE-VMCpuCostopWarning', 'SymptomDefinition-VMWARE-VMNumCPUsToRemove', 'SymptomDefinition-VMWARE-VMPoweredOff']

2018-02-18 14:53:09,812 DEBUG smtpserver get_symptom_definition_summary() symptom_definitions:
[{'id': 'SymptomDefinition-VMWARE-VMCpuCostopWarning', 'name': '가상 시스템 CPU 공동 중지가 주의 수준임', 'adapterKindKey': 'VMWARE', 'resourceKindKey': 'VirtualMachine', 'waitCycles': 3, 'cancelCycles': 3, 'state': {'severity': 'WARNING', 'condition': {'type': 'CONDITION_HT', 'key': 'cpu|costopPct', 'operator': 'GT', 'value': '5.0', 'valueType': 'NUMERIC', 'instanced': False, 'thresholdType': 'STATIC'}}}, {'id': 'SymptomDefinition-VMWARE-VMCpuCostopImmediate', 'name': '가상 시스템 CPU 공동 중지가 즉시 수준임', 'adapterKindKey': 'VMWARE', 'resourceKindKey': 'VirtualMachine', 'waitCycles': 3, 'cancelCycles': 3, 'state': {'severity': 'IMMEDIATE', 'condition': {'type': 'CONDITION_HT', 'key': 'cpu|costopPct', 'operator': 'GT', 'value': '10.0', 'valueType': 'NUMERIC', 'instanced': False, 'thresholdType': 'STATIC'}}}, {'id': 'SymptomDefinition-VMWARE-VMCpuCostopCritical', 'name': '가상 시스템 CPU 공동 중지가 위험 수준임', 'adapterKindKey': 'VMWARE', 'resourceKindKey': 'VirtualMachine', 'waitCycles': 3, 'cancelCycles': 3, 'state': {'severity': 'CRITICAL', 'condition': {'type': 'CONDITION_HT', 'key': 'cpu|costopPct', 'operator': 'GT', 'value': '15.0', 'valueType': 'NUMERIC', 'instanced': False, 'thresholdType': 'STATIC'}}}, {'id': 'SymptomDefinition-VMWARE-VMNumCPUsToRemove', 'name': '가상 시스템에서 제거할 vCPU 수', 'adapterKindKey': 'VMWARE', 'resourceKindKey': 'VirtualMachine', 'waitCycles': 1, 'cancelCycles': 1, 'state': {'severity': 'INFORMATION', 'condition': {'type': 'CONDITION_HT', 'key': 'cpu|numberToRemove', 'operator': 'GT', 'value': '0.0', 'valueType': 'NUMERIC', 'instanced': False, 'thresholdType': 'STATIC'}}}, {'id': 'SymptomDefinition-VMWARE-VMPoweredOff', 'name': '가상 시스템 전원 꺼짐', 'adapterKindKey': 'VMWARE', 'resourceKindKey': 'VirtualMachine', 'waitCycles': 1, 'cancelCycles': 1, 'state': {'severity': 'INFORMATION', 'condition': {'type': 'CONDITION_HT', 'key': 'sys|poweredOn', 'operator': 'EQ', 'value': '0.0', 'valueType': 'NUMERIC', 'instanced': False, 'thresholdType': 'STATIC'}}}]

2018-02-18 14:53:09,828 DEBUG smtpserver get_symptom_definition_summary() symptom_definition_summary:
[{'name': '가상 시스템 CPU 공동 중지가 주의 수준임', 'adapterKindKey': 'VMWARE', 'resourceKindKey': 'VirtualMachine', 'severity': 'WARNING', 'type': 'CONDITION_HT', 'key': 'cpu|costopPct', 'instanced': False}, {'name': '가상 시스템 CPU 공동 중지가 즉시 수준임', 'adapterKindKey': 'VMWARE', 'resourceKindKey': 'VirtualMachine', 'severity': 'IMMEDIATE', 'type': 'CONDITION_HT', 'key': 'cpu|costopPct', 'instanced': False}, {'name': '가상 시스템 CPU 공동 중지가 위험 수준임', 'adapterKindKey': 'VMWARE', 'resourceKindKey': 'VirtualMachine', 'severity': 'CRITICAL', 'type': 'CONDITION_HT', 'key': 'cpu|costopPct', 'instanced': False}, {'name': '가상 시스템에서 제거할 vCPU 수', 'adapterKindKey': 'VMWARE', 'resourceKindKey': 'VirtualMachine', 'severity': 'INFORMATION', 'type': 'CONDITION_HT', 'key': 'cpu|numberToRemove', 'instanced': False}, {'name': '가상 시스템 전원 꺼짐', 'adapterKindKey': 'VMWARE', 'resourceKindKey': 'VirtualMachine', 'severity': 'INFORMATION', 'type': 'CONDITION_HT', 'key': 'sys|poweredOn', 'instanced': False}]

2018-02-18 14:53:09,828 DEBUG smtpserver get_localized_str() configparser.NoOptionError in get_localized_str: No option 'cpu|공동 중지' in section: 'METRIC'
2018-02-18 14:53:09,828 DEBUG smtpserver get_localized_metric() Localized metric: CPU|공동 중지 => CPU|공동 중지
2018-02-18 14:53:09,828 DEBUG smtpserver get_localized_metric() statkey: cpu|costopPct
2018-02-18 14:53:09,828 DEBUG smtpserver get_localized_str() configparser.NoOptionError in get_localized_str: No option 'cpu|제거할 권장 vcpu 수' in section: 'METRIC'
2018-02-18 14:53:09,828 DEBUG smtpserver get_localized_metric() Localized metric: CPU|제거할 권장 vCPU 수 => CPU|제거할 권장 vCPU 수
2018-02-18 14:53:09,828 DEBUG smtpserver get_localized_metric() statkey: cpu|numberToRemove
2018-02-18 14:53:09,828 DEBUG smtpserver Parsed Alert:
ALERT_STATUS: Updated
ALERT_IMPACT: risk
ALERT_CRITICALITY: Warning
ALERT_DEFINITION_NAME: 가상 시스템에서 지나치게 많은 vCPU로 인해 발생한 다중 vCPU 스케줄 문제(공동 중지)로 인해 CPU 경합이 발생함
ALERT_ID: 1635de0c-be45-4032-b31a-2b956e6afe5f
ALERT_OWNER: Unable to retrieve value
ALERT_DEFINITION_DESC: 가상 시스템의 공동 중지율이 높습니다. 공동 중지는 가상 시스템이 실행될 준비가 되었지만 공동 vCPU 스케줄 경합 때문에 지연이 발생하는 시간을 나타냅니다. 가상 시스템에 너무 많은 vCPU가 구성되어 있고 물리적 CPU가 부족하여 공동 vCPU 스케줄을 관리할 수 없을 경우 공동 중지율이 높아집니다.
AFFECTED_RESOURCE_NAME: SQLMGNT
AFFECTED_RESOURCE_KIND: VirtualMachine
ALERT_GENERATE_TIME: Sun Feb 18 12:53:47 KST 2018
ALERT_UPDATE_TIME: Sun Feb 18 12:53:47 KST 2018
ALERT_CANCEL_TIME: 
ANOMALIES: <span>ANOMALIES: SYMPTOM SET - self<br/><table border="1"><th>Symptom Name</th><th>Object Name</th><th>Object ID</th><th>Metric</th><th>Message Info</th><tr><td>가상 시스템 CPU 공동 중지가 주의 수준임</td><td>SQLMGNT</td><td>79422165-7475-4939-ac8e-d3f0139d81ed</td><td>CPU|공동 중지</td><td>7.44 &gt; 5.0</td></tr></table>SYMPTOM SET - self<br/><table border="1"><th>Symptom Name</th><th>Object Name</th><th>Object ID</th><th>Metric</th><th>Message Info</th><tr><td>가상 시스템에서 제거할 vCPU 수</td><td>SQLMGNT</td><td>79422165-7475-4939-ac8e-d3f0139d81ed</td><td>CPU|제거할 권장 vCPU 수</td><td>1.0 &gt; 0.0</td></tr></table></span>
ALERT_TYPE: Virtualization Problem
ALERT_SUBTYPE: Performance Problem
CHILDREN_HEALTH: 
PARENT_HEALTH: 
FILTER_RULE_NAME: Dev SMTP (전체)
FILTER_RULE_DESC: 
ALERT_SUMMARY_LINK: https://70.11.11.217/ui/index.action#/object/79422165-7475-4939-ac8e-d3f0139d81ed/alertsAndSymptoms/alerts/1635de0c-be45-4032-b31a-2b956e6afe5f
ALERT_RECOMMENDATION: <span>ALERT_RECOMMENDATION: <br/>- 나열된 증상을 검토하고 증상에서 권장하는 대로 가상 시스템에서 vCPU의 수를 제거하십시오.</span>
RESOURCE_HEALTH_STATE: 0.0
RESOURCE_RISK_STATE: 0.0
RESOURCE_EFFICIENCY_STATE: 0.0
ALERT_STATUS_TR: 경고 업데이트
ALERT_IMPACT_TR: 위험
ALERT_CRITICALITY_TR: 주의
ALERT_OWNER_TR: 할당되지 않음
AFFECTED_RESOURCE_KIND_TR: 가상 시스템
ALERT_GENERATE_TIME_TR: 02-18 12:53 대한민국 표준시
ALERT_UPDATE_TIME_TR: 02-18 12:53 대한민국 표준시
ALERT_CANCEL_TIME_TR: -
ALERT_TYPE_TR: 가상화·하이퍼바이저
ALERT_SUBTYPE_TR: 성능
RESOURCE_HEALTH_STATE_TR: 없음
RESOURCE_RISK_STATE_TR: 없음
RESOURCE_EFFICIENCY_STATE_TR: 없음
ANOMALIES_TR: [{'Relation': 'self', 'Symptom Index': '1-1', 'Symptom Name': '가상 시스템 CPU 공동 중지가 주의 수준임', 'Object Name': 'SQLMGNT', 'Object ID': '79422165-7475-4939-ac8e-d3f0139d81ed', 'Metric': 'CPU|공동 중지', 'Message Info': '7.44 > 5.0', 'StatKey': 'cpu|costopPct', 'Criticality': 'Warning'}, {'Relation': 'self', 'Symptom Index': '2-1', 'Symptom Name': '가상 시스템에서 제거할 vCPU 수', 'Object Name': 'SQLMGNT', 'Object ID': '79422165-7475-4939-ac8e-d3f0139d81ed', 'Metric': 'CPU|제거할 권장 vCPU 수', 'Message Info': '1.0 > 0.0', 'StatKey': 'cpu|numberToRemove', 'Criticality': 'Information'}]
ALERT_RECOMMENDATION_TR: ['나열된 증상을 검토하고 증상에서 권장하는 대로 가상 시스템에서 vCPU의 수를 제거하십시오.']


2018-02-18 14:54:13,016 DEBUG smtpserver Email Message (RAW):
From: vRealize Operations <vRealizeOps-admin@example.com>
To: admin@vrops.kccworld.co.kr
Message-ID: <591598635.4116.1518933252711.JavaMail.admin@vrops.kccworld.co.kr>
Subject: =?UTF-8?Q?[vRealize_Operations_Manager]_(Updated)_ONEPLUS_?=
 =?UTF-8?Q?-_KCC_-_=ED=95=98=EB=82=98_=EC=9D=B4?=
 =?UTF-8?Q?=EC=83=81=EC=9D=98_=EA=B0=80=EC=83=81_?=
 =?UTF-8?Q?=EC=8B=9C=EC=8A=A4=ED=85=9C_=EA=B2=8C=EC=8A=A4?=
 =?UTF-8?Q?=ED=8A=B8_=ED=8C=8C=EC=9D=BC_=EC=8B=9C?=
 =?UTF-8?Q?=EC=8A=A4=ED=85=9C=EC=9D=98_=EB=94=94=EC=8A=A4?=
 =?UTF-8?Q?=ED=81=AC_=EA=B3=B5=EA=B0=84=EC=9D=B4_?=
 =?UTF-8?Q?=EB=B6=80=EC=A1=B1=ED=95=A9=EB=8B=88=EB=8B=A4.?=
MIME-Version: 1.0
Content-Type: text/html; charset=utf-8
Content-Transfer-Encoding: quoted-printable

<html><span>ALERT_STATUS: Updated</span><span>ALERT_IMPACT: health</span><s=
pan>ALERT_CRITICALITY: AlertLevel: Immediate</span><span>ALERT_DEFINITION_N=
AME: KCC - =ED=95=98=EB=82=98 =EC=9D=B4=EC=83=81=EC=9D=98 =EA=B0=80=EC=83=
=81 =EC=8B=9C=EC=8A=A4=ED=85=9C =EA=B2=8C=EC=8A=A4=ED=8A=B8 =ED=8C=8C=EC=9D=
=BC =EC=8B=9C=EC=8A=A4=ED=85=9C=EC=9D=98 =EB=94=94=EC=8A=A4=ED=81=AC =EA=B3=
=B5=EA=B0=84=EC=9D=B4 =EB=B6=80=EC=A1=B1=ED=95=A9=EB=8B=88=EB=8B=A4.</span>=
<span>ALERT_ID: efbf0d7a-b9ad-4be7-a884-43e0fcd6d882</span><span>ALERT_OWNE=
R: Unable to retrieve value</span><span>ALERT_DEFINITION_DESC: =EA=B0=80=EC=
=83=81 =EC=8B=9C=EC=8A=A4=ED=85=9C=EC=97=90=EC=84=9C =ED=95=98=EB=82=98 =EC=
=9D=B4=EC=83=81=EC=9D=98 =EA=B2=8C=EC=8A=A4=ED=8A=B8 =ED=8C=8C=EC=9D=BC =EC=
=8B=9C=EC=8A=A4=ED=85=9C=EC=9D=98 =EB=94=94=EC=8A=A4=ED=81=AC =EA=B3=B5=EA=
=B0=84=EC=9D=B4 =EB=B6=80=EC=A1=B1=ED=95=A9=EB=8B=88=EB=8B=A4. =EC=A6=9D=EC=
=83=81 =EC=84=B8=EB=B6=80 =EC=A0=95=EB=B3=B4=EB=A5=BC =ED=99=95=EC=9D=B8=ED=
=95=98=EC=97=AC =EC=98=81=ED=96=A5=EC=9D=84 =EB=B0=9B=EB=8A=94 =EA=B2=8C=EC=
=8A=A4=ED=8A=B8 =ED=8C=8C=EC=9D=BC =EC=8B=9C=EC=8A=A4=ED=85=9C=EC=9D=84 =EC=
=8B=9D=EB=B3=84=ED=95=98=EC=8B=AD=EC=8B=9C=EC=98=A4.</span><span>AFFECTED_R=
ESOURCE_NAME: ONEPLUS</span><span>AFFECTED_RESOURCE_KIND: VirtualMachine</s=
pan><span>ALERT_GENERATE_TIME: Sun Feb 18 09:13:47 KST 2018</span><span>ALE=
RT_UPDATE_TIME: Sun Feb 18 09:13:47 KST 2018</span><span>ALERT_CANCEL_TIME:=
 </span><span>ANOMALIES: SYMPTOM SET - self<br><table border=3D'1'><th>Symp=
tom Name</th><th>Object Name</th><th>Object ID</th><th>Metric</th><th>Messa=
ge Info</th><tr><td>=EA=B2=8C=EC=8A=A4=ED=8A=B8 =ED=8C=8C=EC=9D=BC =EC=8B=
=9C=EC=8A=A4=ED=85=9C =EA=B3=B5=EA=B0=84 =EC=82=AC=EC=9A=A9=EB=9F=89=EC=9D=
=B4 DT=EB=B3=B4=EB=8B=A4 =EB=86=92=EC=9D=8C</td><td>ONEPLUS</td><td>78e885d=
1-8d26-47a9-9b1d-f47b5e5ea1b1</td><td>guestfilesystem|percentage_total</td>=
<td>91.94 above 91.79774475097656</td></tr></table>SYMPTOM SET - self<br><t=
able border=3D'1'><th>Symptom Name</th><th>Object Name</th><th>Object ID</t=
h><th>Metric</th><th>Message Info</th><tr><td>=EA=B2=8C=EC=8A=A4=ED=8A=B8 =
=ED=8C=8C=EC=9D=BC =EC=8B=9C=EC=8A=A4=ED=85=9C =EA=B3=B5=EA=B0=84 =EC=82=AC=
=EC=9A=A9=EB=9F=89=EC=9D=B4 =EC=A6=89=EC=8B=9C =EC=88=98=EC=A4=80=EC=9E=84<=
/td><td>ONEPLUS</td><td>78e885d1-8d26-47a9-9b1d-f47b5e5ea1b1</td><td>guestf=
ilesystem:C:\|percentage</td><td>92.56 > 90.0</td></tr><tr><td>=EA=B2=8C=EC=
=8A=A4=ED=8A=B8 =ED=8C=8C=EC=9D=BC =EC=8B=9C=EC=8A=A4=ED=85=9C =EA=B3=B5=EA=
=B0=84 =EC=82=AC=EC=9A=A9=EB=9F=89=EC=9D=B4 =EC=A3=BC=EC=9D=98 =EC=88=98=EC=
=A4=80=EC=9E=84</td><td>ONEPLUS</td><td>78e885d1-8d26-47a9-9b1d-f47b5e5ea1b=
1</td><td>guestfilesystem:D:\|percentage</td><td>86.59 > 85.0</td></tr></ta=
ble></span><span>ALERT_TYPE: Virtualization Problem</span><span>ALERT_SUBTY=
PE: Capacity Problem</span><span>CHILDREN_HEALTH: </span><span>PARENT_HEALT=
H: </span><span>FILTER_RULE_NAME: Dev SMTP (=EC=A0=84=EC=B2=B4)</span><span=
>FILTER_RULE_DESC: </span><span>ALERT_SUMMARY_LINK: https://70.11.11.217/ui=
/index.action#/object/78e885d1-8d26-47a9-9b1d-f47b5e5ea1b1/alertsAndSymptom=
s/alerts/efbf0d7a-b9ad-4be7-a884-43e0fcd6d882</span><span>ALERT_RECOMMENDAT=
ION: <br>- =EC=83=88 =EA=B0=80=EC=83=81 =ED=95=98=EB=93=9C =EB=94=94=EC=8A=
=A4=ED=81=AC=EB=A5=BC =EC=B6=94=EA=B0=80=ED=95=98=EA=B1=B0=EB=82=98 =EA=B0=
=80=EC=83=81 =EC=8B=9C=EC=8A=A4=ED=85=9C=EC=9D=98 =EA=B8=B0=EC=A1=B4 =EB=94=
=94=EC=8A=A4=ED=81=AC=EB=A5=BC =ED=99=95=EC=9E=A5=ED=95=A9=EB=8B=88=EB=8B=
=A4. =EA=B8=B0=EC=A1=B4 =EB=94=94=EC=8A=A4=ED=81=AC=EB=A5=BC =ED=99=95=EC=
=9E=A5=ED=95=98=EB=A0=A4=EB=A9=B4 =EB=A8=BC=EC=A0=80 =EB=AA=A8=EB=93=A0 =EC=
=8A=A4=EB=83=85=EC=83=B7=EC=9D=84 =EC=A0=9C=EA=B1=B0=ED=95=B4=EC=95=BC =ED=
=95=A9=EB=8B=88=EB=8B=A4. =EC=9D=B4 =EC=9E=91=EC=97=85=EC=9D=84 =EC=88=98=
=ED=96=89=ED=95=9C =ED=9B=84=EC=97=90=EB=8A=94 =EA=B2=8C=EC=8A=A4=ED=8A=B8 =
OS =EA=B4=80=EB=A0=A8 =EC=A0=88=EC=B0=A8=EB=A5=BC =EC=82=AC=EC=9A=A9=ED=95=
=98=EC=97=AC =EC=83=88 =EB=94=94=EC=8A=A4=ED=81=AC =EB=98=90=EB=8A=94 =ED=
=99=95=EC=9E=A5=EB=90=9C =EB=94=94=EC=8A=A4=ED=81=AC=EC=97=90=EC=84=9C =ED=
=8C=8C=EC=9D=BC =EC=8B=9C=EC=8A=A4=ED=85=9C=EC=9D=84 =ED=99=95=EC=9E=A5=ED=
=95=A9=EB=8B=88=EB=8B=A4.</span><span>RESOURCE_HEALTH_STATE: 0.0</span><spa=
n>RESOURCE_RISK_STATE: 0.0</span><span>RESOURCE_EFFICIENCY_STATE: 0.0</span=
><BR></html>

2018-02-18 14:54:13,032 DEBUG smtpserver Email Content (Decoded):
<html><span>ALERT_STATUS: Updated</span><span>ALERT_IMPACT: health</span><span>ALERT_CRITICALITY: AlertLevel: Immediate</span><span>ALERT_DEFINITION_NAME: KCC - 하나 이상의 가상 시스템 게스트 파일 시스템의 디스크 공간이 부족합니다.</span><span>ALERT_ID: efbf0d7a-b9ad-4be7-a884-43e0fcd6d882</span><span>ALERT_OWNER: Unable to retrieve value</span><span>ALERT_DEFINITION_DESC: 가상 시스템에서 하나 이상의 게스트 파일 시스템의 디스크 공간이 부족합니다. 증상 세부 정보를 확인하여 영향을 받는 게스트 파일 시스템을 식별하십시오.</span><span>AFFECTED_RESOURCE_NAME: ONEPLUS</span><span>AFFECTED_RESOURCE_KIND: VirtualMachine</span><span>ALERT_GENERATE_TIME: Sun Feb 18 09:13:47 KST 2018</span><span>ALERT_UPDATE_TIME: Sun Feb 18 09:13:47 KST 2018</span><span>ALERT_CANCEL_TIME: </span><span>ANOMALIES: SYMPTOM SET - self<br><table border='1'><th>Symptom Name</th><th>Object Name</th><th>Object ID</th><th>Metric</th><th>Message Info</th><tr><td>게스트 파일 시스템 공간 사용량이 DT보다 높음</td><td>ONEPLUS</td><td>78e885d1-8d26-47a9-9b1d-f47b5e5ea1b1</td><td>guestfilesystem|percentage_total</td><td>91.94 above 91.79774475097656</td></tr></table>SYMPTOM SET - self<br><table border='1'><th>Symptom Name</th><th>Object Name</th><th>Object ID</th><th>Metric</th><th>Message Info</th><tr><td>게스트 파일 시스템 공간 사용량이 즉시 수준임</td><td>ONEPLUS</td><td>78e885d1-8d26-47a9-9b1d-f47b5e5ea1b1</td><td>guestfilesystem:C:\|percentage</td><td>92.56 > 90.0</td></tr><tr><td>게스트 파일 시스템 공간 사용량이 주의 수준임</td><td>ONEPLUS</td><td>78e885d1-8d26-47a9-9b1d-f47b5e5ea1b1</td><td>guestfilesystem:D:\|percentage</td><td>86.59 > 85.0</td></tr></table></span><span>ALERT_TYPE: Virtualization Problem</span><span>ALERT_SUBTYPE: Capacity Problem</span><span>CHILDREN_HEALTH: </span><span>PARENT_HEALTH: </span><span>FILTER_RULE_NAME: Dev SMTP (전체)</span><span>FILTER_RULE_DESC: </span><span>ALERT_SUMMARY_LINK: https://70.11.11.217/ui/index.action#/object/78e885d1-8d26-47a9-9b1d-f47b5e5ea1b1/alertsAndSymptoms/alerts/efbf0d7a-b9ad-4be7-a884-43e0fcd6d882</span><span>ALERT_RECOMMENDATION: <br>- 새 가상 하드 디스크를 추가하거나 가상 시스템의 기존 디스크를 확장합니다. 기존 디스크를 확장하려면 먼저 모든 스냅샷을 제거해야 합니다. 이 작업을 수행한 후에는 게스트 OS 관련 절차를 사용하여 새 디스크 또는 확장된 디스크에서 파일 시스템을 확장합니다.</span><span>RESOURCE_HEALTH_STATE: 0.0</span><span>RESOURCE_RISK_STATE: 0.0</span><span>RESOURCE_EFFICIENCY_STATE: 0.0</span><BR></html>

2018-02-18 14:54:13,032 DEBUG smtpserver Anomalies:
[{'Relation': 'self', 'Symptom Index': '1-1', 'Symptom Name': '게스트 파일 시스템 공간 사용량이 DT보다 높음', 'Object Name': 'ONEPLUS', 'Object ID': '78e885d1-8d26-47a9-9b1d-f47b5e5ea1b1', 'Metric': 'guestfilesystem|percentage_total', 'Message Info': '91.94 above 91.79774475097656'}, {'Relation': 'self', 'Symptom Index': '2-1', 'Symptom Name': '게스트 파일 시스템 공간 사용량이 즉시 수준임', 'Object Name': 'ONEPLUS', 'Object ID': '78e885d1-8d26-47a9-9b1d-f47b5e5ea1b1', 'Metric': 'guestfilesystem:C:\\|percentage', 'Message Info': '92.56 > 90.0'}, {'Relation': 'self', 'Symptom Index': '2-2', 'Symptom Name': '게스트 파일 시스템 공간 사용량이 주의 수준임', 'Object Name': 'ONEPLUS', 'Object ID': '78e885d1-8d26-47a9-9b1d-f47b5e5ea1b1', 'Metric': 'guestfilesystem:D:\\|percentage', 'Message Info': '86.59 > 85.0'}]

2018-02-18 14:54:13,032 DEBUG smtpserver get_symptom_definition_summary() Fetching alert detail from: https://vrops.kccworld.co.kr/suite-api/api/alerts/efbf0d7a-b9ad-4be7-a884-43e0fcd6d882
2018-02-18 14:54:13,110 DEBUG smtpserver get_symptom_definition_summary() alert_definition_id: AlertDefinition-20049f89-8652-45c6-a7c1-cc88aa038b2a
2018-02-18 14:54:13,110 DEBUG smtpserver get_symptom_definition_summary() Fetching alert definition from: https://vrops.kccworld.co.kr/suite-api/api/alertdefinitions/AlertDefinition-20049f89-8652-45c6-a7c1-cc88aa038b2a
2018-02-18 14:54:13,201 DEBUG smtpserver get_symptom_definition_summary() alert_definition:
{'id': 'AlertDefinition-20049f89-8652-45c6-a7c1-cc88aa038b2a', 'name': 'KCC - 하나 이상의 가상 시스템 게스트 파일 시스템의 디스크 공간이 부족합니다.', 'description': '가상 시스템에서 하나 이상의 게스트 파일 시스템의 디스크 공간이 부족합니다. 증상 세부 정보를 확인하여 영향을 받는 게스트 파일 시스템을 식별하십시오.', 'adapterKindKey': 'VMWARE', 'resourceKindKey': 'VirtualMachine', 'waitCycles': 1, 'cancelCycles': 1, 'type': 16, 'subType': 20, 'states': [{'severity': 'AUTO', 'base-symptom-set': {'type': 'SYMPTOM_SET_COMPOSITE', 'operator': 'AND', 'symptom-sets': [{'type': 'SYMPTOM_SET', 'relation': 'SELF', 'symptomSetOperator': 'OR', 'symptomDefinitionIds': ['SymptomDefinition-VMWARE-GuestPartitionUsageWarning', 'SymptomDefinition-VMWARE-GuestPartitionUsageImmediate', 'SymptomDefinition-VMWARE-GuestPartitionUsageCritical']}, {'type': 'SYMPTOM_SET', 'relation': 'SELF', 'symptomSetOperator': 'AND', 'symptomDefinitionIds': ['SymptomDefinition-VMWARE-GuestSpaceUsageDTAbove']}]}, 'impact': {'impactType': 'BADGE', 'detail': 'health'}, 'recommendationPriorityMap': {'Recommendation-df-VMWARE-AddMoreDiskToVM': 1}}]}

2018-02-18 14:54:13,202 DEBUG smtpserver get_symptom_definition_summary() symptom_sets:
[{'type': 'SYMPTOM_SET', 'relation': 'SELF', 'symptomSetOperator': 'OR', 'symptomDefinitionIds': ['SymptomDefinition-VMWARE-GuestPartitionUsageWarning', 'SymptomDefinition-VMWARE-GuestPartitionUsageImmediate', 'SymptomDefinition-VMWARE-GuestPartitionUsageCritical']}, {'type': 'SYMPTOM_SET', 'relation': 'SELF', 'symptomSetOperator': 'AND', 'symptomDefinitionIds': ['SymptomDefinition-VMWARE-GuestSpaceUsageDTAbove']}]

2018-02-18 14:54:13,202 DEBUG smtpserver get_symptom_definition_summary() symptom_definition_ids:
['SymptomDefinition-VMWARE-GuestPartitionUsageCritical', 'SymptomDefinition-VMWARE-GuestPartitionUsageImmediate', 'SymptomDefinition-VMWARE-GuestPartitionUsageWarning', 'SymptomDefinition-VMWARE-GuestSpaceUsageDTAbove']

2018-02-18 14:54:13,861 DEBUG smtpserver get_symptom_definition_summary() symptom_definitions:
[{'id': 'SymptomDefinition-VMWARE-GuestPartitionUsageWarning', 'name': '게스트 파일 시스템 공간 사용량이 주의 수준임', 'adapterKindKey': 'VMWARE', 'resourceKindKey': 'VirtualMachine', 'waitCycles': 1, 'cancelCycles': 1, 'state': {'severity': 'WARNING', 'condition': {'type': 'CONDITION_HT', 'key': 'guestfilesystem|percentage', 'operator': 'GT', 'value': '85.0', 'valueType': 'NUMERIC', 'instanced': True, 'thresholdType': 'STATIC'}}}, {'id': 'SymptomDefinition-VMWARE-GuestSpaceUsageDTAbove', 'name': '게스트 파일 시스템 공간 사용량이 DT보다 높음', 'adapterKindKey': 'VMWARE', 'resourceKindKey': 'VirtualMachine', 'waitCycles': 3, 'cancelCycles': 3, 'state': {'severity': 'WARNING', 'condition': {'type': 'CONDITION_DT', 'key': 'guestfilesystem|percentage_total', 'operator': 'DT_ABOVE', 'instanced': False}}}, {'id': 'SymptomDefinition-VMWARE-GuestPartitionUsageCritical', 'name': '게스트 파일 시스템 공간 사용량이 위험 수준임', 'adapterKindKey': 'VMWARE', 'resourceKindKey': 'VirtualMachine', 'waitCycles': 1, 'cancelCycles': 1, 'state': {'severity': 'CRITICAL', 'condition': {'type': 'CONDITION_HT', 'key': 'guestfilesystem|percentage', 'operator': 'GT', 'value': '95.0', 'valueType': 'NUMERIC', 'instanced': True, 'thresholdType': 'STATIC'}}}, {'id': 'SymptomDefinition-VMWARE-GuestPartitionUsageImmediate', 'name': '게스트 파일 시스템 공간 사용량이 즉시 수준임', 'adapterKindKey': 'VMWARE', 'resourceKindKey': 'VirtualMachine', 'waitCycles': 1, 'cancelCycles': 1, 'state': {'severity': 'IMMEDIATE', 'condition': {'type': 'CONDITION_HT', 'key': 'guestfilesystem|percentage', 'operator': 'GT', 'value': '90.0', 'valueType': 'NUMERIC', 'instanced': True, 'thresholdType': 'STATIC'}}}]

2018-02-18 14:54:13,861 DEBUG smtpserver get_symptom_definition_summary() symptom_definition_summary:
[{'name': '게스트 파일 시스템 공간 사용량이 주의 수준임', 'adapterKindKey': 'VMWARE', 'resourceKindKey': 'VirtualMachine', 'severity': 'WARNING', 'type': 'CONDITION_HT', 'key': 'guestfilesystem|percentage', 'instanced': True}, {'name': '게스트 파일 시스템 공간 사용량이 DT보다 높음', 'adapterKindKey': 'VMWARE', 'resourceKindKey': 'VirtualMachine', 'severity': 'WARNING', 'type': 'CONDITION_DT', 'key': 'guestfilesystem|percentage_total', 'instanced': False}, {'name': '게스트 파일 시스템 공간 사용량이 위험 수준임', 'adapterKindKey': 'VMWARE', 'resourceKindKey': 'VirtualMachine', 'severity': 'CRITICAL', 'type': 'CONDITION_HT', 'key': 'guestfilesystem|percentage', 'instanced': True}, {'name': '게스트 파일 시스템 공간 사용량이 즉시 수준임', 'adapterKindKey': 'VMWARE', 'resourceKindKey': 'VirtualMachine', 'severity': 'IMMEDIATE', 'type': 'CONDITION_HT', 'key': 'guestfilesystem|percentage', 'instanced': True}]

2018-02-18 14:54:13,861 DEBUG smtpserver get_localized_metric() Localized metric: guestfilesystem|percentage_total => 게스트 파일 시스템 통계|총 게스트 파일 시스템 사용량
2018-02-18 14:54:13,861 DEBUG smtpserver get_localized_metric() statkey: guestfilesystem|percentage_total
2018-02-18 14:54:13,861 DEBUG smtpserver get_localized_metric() Localized metric: guestfilesystem:C:\|percentage => 게스트 파일 시스템 통계|C:\|게스트 파일 시스템 사용량 (%)
2018-02-18 14:54:13,861 DEBUG smtpserver get_localized_metric() statkey: guestfilesystem:C:\|percentage
2018-02-18 14:54:13,861 DEBUG smtpserver get_localized_metric() Localized metric: guestfilesystem:D:\|percentage => 게스트 파일 시스템 통계|D:\|게스트 파일 시스템 사용량 (%)
2018-02-18 14:54:13,861 DEBUG smtpserver get_localized_metric() statkey: guestfilesystem:D:\|percentage
2018-02-18 14:54:13,861 DEBUG smtpserver Parsed Alert:
ALERT_STATUS: Updated
ALERT_IMPACT: health
ALERT_CRITICALITY: Immediate
ALERT_DEFINITION_NAME: 하나 이상의 가상 시스템 게스트 파일 시스템의 디스크 공간이 부족합니다.
ALERT_ID: efbf0d7a-b9ad-4be7-a884-43e0fcd6d882
ALERT_OWNER: Unable to retrieve value
ALERT_DEFINITION_DESC: 가상 시스템에서 하나 이상의 게스트 파일 시스템의 디스크 공간이 부족합니다. 증상 세부 정보를 확인하여 영향을 받는 게스트 파일 시스템을 식별하십시오.
AFFECTED_RESOURCE_NAME: ONEPLUS
AFFECTED_RESOURCE_KIND: VirtualMachine
ALERT_GENERATE_TIME: Sun Feb 18 09:13:47 KST 2018
ALERT_UPDATE_TIME: Sun Feb 18 09:13:47 KST 2018
ALERT_CANCEL_TIME: 
ANOMALIES: <span>ANOMALIES: SYMPTOM SET - self<br/><table border="1"><th>Symptom Name</th><th>Object Name</th><th>Object ID</th><th>Metric</th><th>Message Info</th><tr><td>게스트 파일 시스템 공간 사용량이 DT보다 높음</td><td>ONEPLUS</td><td>78e885d1-8d26-47a9-9b1d-f47b5e5ea1b1</td><td>guestfilesystem|percentage_total</td><td>91.94 above 91.79774475097656</td></tr></table>SYMPTOM SET - self<br/><table border="1"><th>Symptom Name</th><th>Object Name</th><th>Object ID</th><th>Metric</th><th>Message Info</th><tr><td>게스트 파일 시스템 공간 사용량이 즉시 수준임</td><td>ONEPLUS</td><td>78e885d1-8d26-47a9-9b1d-f47b5e5ea1b1</td><td>guestfilesystem:C:\|percentage</td><td>92.56 &gt; 90.0</td></tr><tr><td>게스트 파일 시스템 공간 사용량이 주의 수준임</td><td>ONEPLUS</td><td>78e885d1-8d26-47a9-9b1d-f47b5e5ea1b1</td><td>guestfilesystem:D:\|percentage</td><td>86.59 &gt; 85.0</td></tr></table></span>
ALERT_TYPE: Virtualization Problem
ALERT_SUBTYPE: Capacity Problem
CHILDREN_HEALTH: 
PARENT_HEALTH: 
FILTER_RULE_NAME: Dev SMTP (전체)
FILTER_RULE_DESC: 
ALERT_SUMMARY_LINK: https://70.11.11.217/ui/index.action#/object/78e885d1-8d26-47a9-9b1d-f47b5e5ea1b1/alertsAndSymptoms/alerts/efbf0d7a-b9ad-4be7-a884-43e0fcd6d882
ALERT_RECOMMENDATION: <span>ALERT_RECOMMENDATION: <br/>- 새 가상 하드 디스크를 추가하거나 가상 시스템의 기존 디스크를 확장합니다. 기존 디스크를 확장하려면 먼저 모든 스냅샷을 제거해야 합니다. 이 작업을 수행한 후에는 게스트 OS 관련 절차를 사용하여 새 디스크 또는 확장된 디스크에서 파일 시스템을 확장합니다.</span>
RESOURCE_HEALTH_STATE: 0.0
RESOURCE_RISK_STATE: 0.0
RESOURCE_EFFICIENCY_STATE: 0.0
ALERT_STATUS_TR: 경고 업데이트
ALERT_IMPACT_TR: 상태
ALERT_CRITICALITY_TR: 즉시
ALERT_OWNER_TR: 할당되지 않음
AFFECTED_RESOURCE_KIND_TR: 가상 시스템
ALERT_GENERATE_TIME_TR: 02-18 09:13 대한민국 표준시
ALERT_UPDATE_TIME_TR: 02-18 09:13 대한민국 표준시
ALERT_CANCEL_TIME_TR: -
ALERT_TYPE_TR: 가상화·하이퍼바이저
ALERT_SUBTYPE_TR: 용량
RESOURCE_HEALTH_STATE_TR: 없음
RESOURCE_RISK_STATE_TR: 없음
RESOURCE_EFFICIENCY_STATE_TR: 없음
ANOMALIES_TR: [{'Relation': 'self', 'Symptom Index': '1-1', 'Symptom Name': '게스트 파일 시스템 공간 사용량이 DT보다 높음', 'Object Name': 'ONEPLUS', 'Object ID': '78e885d1-8d26-47a9-9b1d-f47b5e5ea1b1', 'Metric': '게스트 파일 시스템 통계|총 게스트 파일 시스템 사용량', 'Message Info': '91.94 above 91.79774475097656', 'StatKey': 'guestfilesystem|percentage_total', 'Criticality': 'Warning'}, {'Relation': 'self', 'Symptom Index': '2-1', 'Symptom Name': '게스트 파일 시스템 공간 사용량이 즉시 수준임', 'Object Name': 'ONEPLUS', 'Object ID': '78e885d1-8d26-47a9-9b1d-f47b5e5ea1b1', 'Metric': '게스트 파일 시스템 통계|C:\\|게스트 파일 시스템 사용량 (%)', 'Message Info': '92.56 > 90.0', 'StatKey': 'guestfilesystem:C:\\|percentage', 'Criticality': 'Immediate'}, {'Relation': 'self', 'Symptom Index': '2-2', 'Symptom Name': '게스트 파일 시스템 공간 사용량이 주의 수준임', 'Object Name': 'ONEPLUS', 'Object ID': '78e885d1-8d26-47a9-9b1d-f47b5e5ea1b1', 'Metric': '게스트 파일 시스템 통계|D:\\|게스트 파일 시스템 사용량 (%)', 'Message Info': '86.59 > 85.0', 'StatKey': 'guestfilesystem:D:\\|percentage', 'Criticality': 'Warning'}]
ALERT_RECOMMENDATION_TR: ['새 가상 하드 디스크를 추가하거나 가상 시스템의 기존 디스크를 확장합니다. 기존 디스크를 확장하려면 먼저 모든 스냅샷을 제거해야 합니다. 이 작업을 수행한 후에는 게스트 OS 관련 절차를 사용하여 새 디스크 또는 확장된 디스크에서 파일 시스템을 확장합니다.']


2018-02-18 14:54:17,328 INFO smtpserver Message Dropped: OUTBOUND_ALERT_RULE does not match
2018-02-18 14:54:17,396 DEBUG smtpserver Email Message (RAW):
From: vRealize Operations <vRealizeOps-admin@example.com>
To: admin@vrops.kccworld.co.kr
Message-ID: <351433747.4118.1518933257078.JavaMail.admin@vrops.kccworld.co.kr>
Subject: =?UTF-8?Q?[vRealize_Operations_Manager]?=
 =?UTF-8?Q?_(Updated)_SQL?= =?UTF-8?Q?MGNT_-_?=
 =?UTF-8?Q?=EA=B0=80=EC=83=81_=EC=8B=9C?=
 =?UTF-8?Q?=EC=8A=A4=ED=85=9C=EC=97=90=EC=84=9C?=
 =?UTF-8?Q?_=EC=A7=80=EB=82=98=EC=B9=98=EA=B2=8C_=EB=A7=8E?=
 =?UTF-8?Q?=EC=9D=80_vCPU=EB=A1=9C?=
 =?UTF-8?Q?_=EC=9D=B8=ED=95=B4_=EB=B0=9C=EC=83=9D=ED=95=9C?=
 =?UTF-8?Q?_=EB=8B=A4=EC=A4=91_vCPU?=
 =?UTF-8?Q?_=EC=8A=A4=EC=BC=80=EC=A4=84_=EB=AC=B8=EC=A0=9C?=
 =?UTF-8?Q?(=EA=B3=B5=EB=8F=99_=EC=A4=91=EC=A7=80)=EB=A1=9C?=
 =?UTF-8?Q?_=EC=9D=B8=ED=95=B4_CPU?=
 =?UTF-8?Q?_=EA=B2=BD=ED=95=A9=EC=9D=B4_=EB=B0=9C=EC=83=9D=ED=95=A8?=
MIME-Version: 1.0
Content-Type: text/html; charset=utf-8
Content-Transfer-Encoding: quoted-printable

<html><span>ALERT_STATUS: Updated</span><span>ALERT_IMPACT: risk</span><spa=
n>ALERT_CRITICALITY: AlertLevel: Warning</span><span>ALERT_DEFINITION_NAME:=
 =EA=B0=80=EC=83=81 =EC=8B=9C=EC=8A=A4=ED=85=9C=EC=97=90=EC=84=9C =EC=A7=80=
=EB=82=98=EC=B9=98=EA=B2=8C =EB=A7=8E=EC=9D=80 vCPU=EB=A1=9C =EC=9D=B8=ED=
=95=B4 =EB=B0=9C=EC=83=9D=ED=95=9C =EB=8B=A4=EC=A4=91 vCPU =EC=8A=A4=EC=BC=
=80=EC=A4=84 =EB=AC=B8=EC=A0=9C(=EA=B3=B5=EB=8F=99 =EC=A4=91=EC=A7=80)=EB=
=A1=9C =EC=9D=B8=ED=95=B4 CPU =EA=B2=BD=ED=95=A9=EC=9D=B4 =EB=B0=9C=EC=83=
=9D=ED=95=A8</span><span>ALERT_ID: 1635de0c-be45-4032-b31a-2b956e6afe5f</sp=
an><span>ALERT_OWNER: Unable to retrieve value</span><span>ALERT_DEFINITION=
_DESC: =EA=B0=80=EC=83=81 =EC=8B=9C=EC=8A=A4=ED=85=9C=EC=9D=98 =EA=B3=B5=EB=
=8F=99 =EC=A4=91=EC=A7=80=EC=9C=A8=EC=9D=B4 =EB=86=92=EC=8A=B5=EB=8B=88=EB=
=8B=A4. =EA=B3=B5=EB=8F=99 =EC=A4=91=EC=A7=80=EB=8A=94 =EA=B0=80=EC=83=81 =
=EC=8B=9C=EC=8A=A4=ED=85=9C=EC=9D=B4 =EC=8B=A4=ED=96=89=EB=90=A0 =EC=A4=80=
=EB=B9=84=EA=B0=80 =EB=90=98=EC=97=88=EC=A7=80=EB=A7=8C =EA=B3=B5=EB=8F=99 =
vCPU =EC=8A=A4=EC=BC=80=EC=A4=84 =EA=B2=BD=ED=95=A9 =EB=95=8C=EB=AC=B8=EC=
=97=90 =EC=A7=80=EC=97=B0=EC=9D=B4 =EB=B0=9C=EC=83=9D=ED=95=98=EB=8A=94 =EC=
=8B=9C=EA=B0=84=EC=9D=84 =EB=82=98=ED=83=80=EB=83=85=EB=8B=88=EB=8B=A4. =EA=
=B0=80=EC=83=81 =EC=8B=9C=EC=8A=A4=ED=85=9C=EC=97=90 =EB=84=88=EB=AC=B4 =EB=
=A7=8E=EC=9D=80 vCPU=EA=B0=80 =EA=B5=AC=EC=84=B1=EB=90=98=EC=96=B4 =EC=9E=
=88=EA=B3=A0 =EB=AC=BC=EB=A6=AC=EC=A0=81 CPU=EA=B0=80 =EB=B6=80=EC=A1=B1=ED=
=95=98=EC=97=AC =EA=B3=B5=EB=8F=99 vCPU =EC=8A=A4=EC=BC=80=EC=A4=84=EC=9D=
=84 =EA=B4=80=EB=A6=AC=ED=95=A0 =EC=88=98 =EC=97=86=EC=9D=84 =EA=B2=BD=EC=
=9A=B0 =EA=B3=B5=EB=8F=99 =EC=A4=91=EC=A7=80=EC=9C=A8=EC=9D=B4 =EB=86=92=EC=
=95=84=EC=A7=91=EB=8B=88=EB=8B=A4.</span><span>AFFECTED_RESOURCE_NAME: SQLM=
GNT</span><span>AFFECTED_RESOURCE_KIND: VirtualMachine</span><span>ALERT_GE=
NERATE_TIME: Sun Feb 18 12:53:47 KST 2018</span><span>ALERT_UPDATE_TIME: Su=
n Feb 18 12:53:47 KST 2018</span><span>ALERT_CANCEL_TIME: </span><span>ANOM=
ALIES: SYMPTOM SET - self<br><table border=3D'1'><th>Symptom Name</th><th>O=
bject Name</th><th>Object ID</th><th>Metric</th><th>Message Info</th><tr><t=
d>=EA=B0=80=EC=83=81 =EC=8B=9C=EC=8A=A4=ED=85=9C CPU =EA=B3=B5=EB=8F=99 =EC=
=A4=91=EC=A7=80=EA=B0=80 =EC=A3=BC=EC=9D=98 =EC=88=98=EC=A4=80=EC=9E=84</td=
><td>SQLMGNT</td><td>79422165-7475-4939-ac8e-d3f0139d81ed</td><td>cpu|costo=
pPct</td><td>7.44 > 5.0</td></tr></table>SYMPTOM SET - self<br><table borde=
r=3D'1'><th>Symptom Name</th><th>Object Name</th><th>Object ID</th><th>Metr=
ic</th><th>Message Info</th><tr><td>=EA=B0=80=EC=83=81 =EC=8B=9C=EC=8A=A4=
=ED=85=9C=EC=97=90=EC=84=9C =EC=A0=9C=EA=B1=B0=ED=95=A0 vCPU =EC=88=98</td>=
<td>SQLMGNT</td><td>79422165-7475-4939-ac8e-d3f0139d81ed</td><td>cpu|number=
ToRemove</td><td>1.0 > 0.0</td></tr></table></span><span>ALERT_TYPE: Virtua=
lization Problem</span><span>ALERT_SUBTYPE: Performance Problem</span><span=
>CHILDREN_HEALTH: </span><span>PARENT_HEALTH: </span><span>FILTER_RULE_NAME=
: Dev SMTP (=EC=A0=84=EC=B2=B4)</span><span>FILTER_RULE_DESC: </span><span>=
ALERT_SUMMARY_LINK: https://70.11.11.217/ui/index.action#/object/79422165-7=
475-4939-ac8e-d3f0139d81ed/alertsAndSymptoms/alerts/1635de0c-be45-4032-b31a=
-2b956e6afe5f</span><span>ALERT_RECOMMENDATION: <br>- =EB=82=98=EC=97=B4=EB=
=90=9C =EC=A6=9D=EC=83=81=EC=9D=84 =EA=B2=80=ED=86=A0=ED=95=98=EA=B3=A0 =EC=
=A6=9D=EC=83=81=EC=97=90=EC=84=9C =EA=B6=8C=EC=9E=A5=ED=95=98=EB=8A=94 =EB=
=8C=80=EB=A1=9C =EA=B0=80=EC=83=81 =EC=8B=9C=EC=8A=A4=ED=85=9C=EC=97=90=EC=
=84=9C vCPU=EC=9D=98 =EC=88=98=EB=A5=BC =EC=A0=9C=EA=B1=B0=ED=95=98=EC=8B=
=AD=EC=8B=9C=EC=98=A4.</span><span>RESOURCE_HEALTH_STATE: 0.0</span><span>R=
ESOURCE_RISK_STATE: 0.0</span><span>RESOURCE_EFFICIENCY_STATE: 0.0</span><B=
R></html>

2018-02-18 14:54:17,396 DEBUG smtpserver Email Content (Decoded):
<html><span>ALERT_STATUS: Updated</span><span>ALERT_IMPACT: risk</span><span>ALERT_CRITICALITY: AlertLevel: Warning</span><span>ALERT_DEFINITION_NAME: 가상 시스템에서 지나치게 많은 vCPU로 인해 발생한 다중 vCPU 스케줄 문제(공동 중지)로 인해 CPU 경합이 발생함</span><span>ALERT_ID: 1635de0c-be45-4032-b31a-2b956e6afe5f</span><span>ALERT_OWNER: Unable to retrieve value</span><span>ALERT_DEFINITION_DESC: 가상 시스템의 공동 중지율이 높습니다. 공동 중지는 가상 시스템이 실행될 준비가 되었지만 공동 vCPU 스케줄 경합 때문에 지연이 발생하는 시간을 나타냅니다. 가상 시스템에 너무 많은 vCPU가 구성되어 있고 물리적 CPU가 부족하여 공동 vCPU 스케줄을 관리할 수 없을 경우 공동 중지율이 높아집니다.</span><span>AFFECTED_RESOURCE_NAME: SQLMGNT</span><span>AFFECTED_RESOURCE_KIND: VirtualMachine</span><span>ALERT_GENERATE_TIME: Sun Feb 18 12:53:47 KST 2018</span><span>ALERT_UPDATE_TIME: Sun Feb 18 12:53:47 KST 2018</span><span>ALERT_CANCEL_TIME: </span><span>ANOMALIES: SYMPTOM SET - self<br><table border='1'><th>Symptom Name</th><th>Object Name</th><th>Object ID</th><th>Metric</th><th>Message Info</th><tr><td>가상 시스템 CPU 공동 중지가 주의 수준임</td><td>SQLMGNT</td><td>79422165-7475-4939-ac8e-d3f0139d81ed</td><td>cpu|costopPct</td><td>7.44 > 5.0</td></tr></table>SYMPTOM SET - self<br><table border='1'><th>Symptom Name</th><th>Object Name</th><th>Object ID</th><th>Metric</th><th>Message Info</th><tr><td>가상 시스템에서 제거할 vCPU 수</td><td>SQLMGNT</td><td>79422165-7475-4939-ac8e-d3f0139d81ed</td><td>cpu|numberToRemove</td><td>1.0 > 0.0</td></tr></table></span><span>ALERT_TYPE: Virtualization Problem</span><span>ALERT_SUBTYPE: Performance Problem</span><span>CHILDREN_HEALTH: </span><span>PARENT_HEALTH: </span><span>FILTER_RULE_NAME: Dev SMTP (전체)</span><span>FILTER_RULE_DESC: </span><span>ALERT_SUMMARY_LINK: https://70.11.11.217/ui/index.action#/object/79422165-7475-4939-ac8e-d3f0139d81ed/alertsAndSymptoms/alerts/1635de0c-be45-4032-b31a-2b956e6afe5f</span><span>ALERT_RECOMMENDATION: <br>- 나열된 증상을 검토하고 증상에서 권장하는 대로 가상 시스템에서 vCPU의 수를 제거하십시오.</span><span>RESOURCE_HEALTH_STATE: 0.0</span><span>RESOURCE_RISK_STATE: 0.0</span><span>RESOURCE_EFFICIENCY_STATE: 0.0</span><BR></html>

2018-02-18 14:54:17,411 DEBUG smtpserver Anomalies:
[{'Relation': 'self', 'Symptom Index': '1-1', 'Symptom Name': '가상 시스템 CPU 공동 중지가 주의 수준임', 'Object Name': 'SQLMGNT', 'Object ID': '79422165-7475-4939-ac8e-d3f0139d81ed', 'Metric': 'cpu|costopPct', 'Message Info': '7.44 > 5.0'}, {'Relation': 'self', 'Symptom Index': '2-1', 'Symptom Name': '가상 시스템에서 제거할 vCPU 수', 'Object Name': 'SQLMGNT', 'Object ID': '79422165-7475-4939-ac8e-d3f0139d81ed', 'Metric': 'cpu|numberToRemove', 'Message Info': '1.0 > 0.0'}]

2018-02-18 14:54:17,411 DEBUG smtpserver get_symptom_definition_summary() Fetching alert detail from: https://vrops.kccworld.co.kr/suite-api/api/alerts/1635de0c-be45-4032-b31a-2b956e6afe5f
2018-02-18 14:54:17,487 DEBUG smtpserver get_symptom_definition_summary() alert_definition_id: AlertDefinition-VMWARE-CPUContentionDueToCostop
2018-02-18 14:54:17,487 DEBUG smtpserver get_symptom_definition_summary() Fetching alert definition from: https://vrops.kccworld.co.kr/suite-api/api/alertdefinitions/AlertDefinition-VMWARE-CPUContentionDueToCostop
2018-02-18 14:54:17,578 DEBUG smtpserver get_symptom_definition_summary() alert_definition:
{'id': 'AlertDefinition-VMWARE-CPUContentionDueToCostop', 'name': '가상 시스템에서 지나치게 많은 vCPU로 인해 발생한 다중 vCPU 스케줄 문제(공동 중지)로 인해 CPU 경합이 발생함', 'description': '가상 시스템의 공동 중지율이 높습니다. 공동 중지는 가상 시스템이 실행될 준비가 되었지만 공동 vCPU 스케줄 경합 때문에 지연이 발생하는 시간을 나타냅니다. 가상 시스템에 너무 많은 vCPU가 구성되어 있고 물리적 CPU가 부족하여 공동 vCPU 스케줄을 관리할 수 없을 경우 공동 중지율이 높아집니다.', 'adapterKindKey': 'VMWARE', 'resourceKindKey': 'VirtualMachine', 'waitCycles': 1, 'cancelCycles': 1, 'type': 16, 'subType': 19, 'states': [{'severity': 'AUTO', 'base-symptom-set': {'type': 'SYMPTOM_SET_COMPOSITE', 'operator': 'AND', 'symptom-sets': [{'type': 'SYMPTOM_SET', 'relation': 'SELF', 'symptomSetOperator': 'AND', 'symptomDefinitionIds': ['SymptomDefinition-VMWARE-VMNumCPUsToRemove', '!SymptomDefinition-VMWARE-VMPoweredOff']}, {'type': 'SYMPTOM_SET', 'relation': 'SELF', 'symptomSetOperator': 'OR', 'symptomDefinitionIds': ['SymptomDefinition-VMWARE-VMCpuCostopCritical', 'SymptomDefinition-VMWARE-VMCpuCostopWarning', 'SymptomDefinition-VMWARE-VMCpuCostopImmediate']}]}, 'impact': {'impactType': 'BADGE', 'detail': 'risk'}, 'recommendationPriorityMap': {'Recommendation-df-VMWARE-RemoveRecommendedCPUs': 1}}]}

2018-02-18 14:54:17,582 DEBUG smtpserver get_symptom_definition_summary() symptom_sets:
[{'type': 'SYMPTOM_SET', 'relation': 'SELF', 'symptomSetOperator': 'AND', 'symptomDefinitionIds': ['SymptomDefinition-VMWARE-VMNumCPUsToRemove', '!SymptomDefinition-VMWARE-VMPoweredOff']}, {'type': 'SYMPTOM_SET', 'relation': 'SELF', 'symptomSetOperator': 'OR', 'symptomDefinitionIds': ['SymptomDefinition-VMWARE-VMCpuCostopCritical', 'SymptomDefinition-VMWARE-VMCpuCostopWarning', 'SymptomDefinition-VMWARE-VMCpuCostopImmediate']}]

2018-02-18 14:54:17,583 DEBUG smtpserver get_symptom_definition_summary() symptom_definition_ids:
['SymptomDefinition-VMWARE-VMCpuCostopCritical', 'SymptomDefinition-VMWARE-VMCpuCostopImmediate', 'SymptomDefinition-VMWARE-VMCpuCostopWarning', 'SymptomDefinition-VMWARE-VMNumCPUsToRemove', 'SymptomDefinition-VMWARE-VMPoweredOff']

2018-02-18 14:54:18,231 DEBUG smtpserver get_symptom_definition_summary() symptom_definitions:
[{'id': 'SymptomDefinition-VMWARE-VMCpuCostopWarning', 'name': '가상 시스템 CPU 공동 중지가 주의 수준임', 'adapterKindKey': 'VMWARE', 'resourceKindKey': 'VirtualMachine', 'waitCycles': 3, 'cancelCycles': 3, 'state': {'severity': 'WARNING', 'condition': {'type': 'CONDITION_HT', 'key': 'cpu|costopPct', 'operator': 'GT', 'value': '5.0', 'valueType': 'NUMERIC', 'instanced': False, 'thresholdType': 'STATIC'}}}, {'id': 'SymptomDefinition-VMWARE-VMCpuCostopImmediate', 'name': '가상 시스템 CPU 공동 중지가 즉시 수준임', 'adapterKindKey': 'VMWARE', 'resourceKindKey': 'VirtualMachine', 'waitCycles': 3, 'cancelCycles': 3, 'state': {'severity': 'IMMEDIATE', 'condition': {'type': 'CONDITION_HT', 'key': 'cpu|costopPct', 'operator': 'GT', 'value': '10.0', 'valueType': 'NUMERIC', 'instanced': False, 'thresholdType': 'STATIC'}}}, {'id': 'SymptomDefinition-VMWARE-VMCpuCostopCritical', 'name': '가상 시스템 CPU 공동 중지가 위험 수준임', 'adapterKindKey': 'VMWARE', 'resourceKindKey': 'VirtualMachine', 'waitCycles': 3, 'cancelCycles': 3, 'state': {'severity': 'CRITICAL', 'condition': {'type': 'CONDITION_HT', 'key': 'cpu|costopPct', 'operator': 'GT', 'value': '15.0', 'valueType': 'NUMERIC', 'instanced': False, 'thresholdType': 'STATIC'}}}, {'id': 'SymptomDefinition-VMWARE-VMNumCPUsToRemove', 'name': '가상 시스템에서 제거할 vCPU 수', 'adapterKindKey': 'VMWARE', 'resourceKindKey': 'VirtualMachine', 'waitCycles': 1, 'cancelCycles': 1, 'state': {'severity': 'INFORMATION', 'condition': {'type': 'CONDITION_HT', 'key': 'cpu|numberToRemove', 'operator': 'GT', 'value': '0.0', 'valueType': 'NUMERIC', 'instanced': False, 'thresholdType': 'STATIC'}}}, {'id': 'SymptomDefinition-VMWARE-VMPoweredOff', 'name': '가상 시스템 전원 꺼짐', 'adapterKindKey': 'VMWARE', 'resourceKindKey': 'VirtualMachine', 'waitCycles': 1, 'cancelCycles': 1, 'state': {'severity': 'INFORMATION', 'condition': {'type': 'CONDITION_HT', 'key': 'sys|poweredOn', 'operator': 'EQ', 'value': '0.0', 'valueType': 'NUMERIC', 'instanced': False, 'thresholdType': 'STATIC'}}}]

2018-02-18 14:54:18,235 DEBUG smtpserver get_symptom_definition_summary() symptom_definition_summary:
[{'name': '가상 시스템 CPU 공동 중지가 주의 수준임', 'adapterKindKey': 'VMWARE', 'resourceKindKey': 'VirtualMachine', 'severity': 'WARNING', 'type': 'CONDITION_HT', 'key': 'cpu|costopPct', 'instanced': False}, {'name': '가상 시스템 CPU 공동 중지가 즉시 수준임', 'adapterKindKey': 'VMWARE', 'resourceKindKey': 'VirtualMachine', 'severity': 'IMMEDIATE', 'type': 'CONDITION_HT', 'key': 'cpu|costopPct', 'instanced': False}, {'name': '가상 시스템 CPU 공동 중지가 위험 수준임', 'adapterKindKey': 'VMWARE', 'resourceKindKey': 'VirtualMachine', 'severity': 'CRITICAL', 'type': 'CONDITION_HT', 'key': 'cpu|costopPct', 'instanced': False}, {'name': '가상 시스템에서 제거할 vCPU 수', 'adapterKindKey': 'VMWARE', 'resourceKindKey': 'VirtualMachine', 'severity': 'INFORMATION', 'type': 'CONDITION_HT', 'key': 'cpu|numberToRemove', 'instanced': False}, {'name': '가상 시스템 전원 꺼짐', 'adapterKindKey': 'VMWARE', 'resourceKindKey': 'VirtualMachine', 'severity': 'INFORMATION', 'type': 'CONDITION_HT', 'key': 'sys|poweredOn', 'instanced': False}]

2018-02-18 14:54:18,237 DEBUG smtpserver get_localized_metric() Localized metric: cpu|costopPct => CPU|공동 중지 (%)
2018-02-18 14:54:18,239 DEBUG smtpserver get_localized_metric() statkey: cpu|costopPct
2018-02-18 14:54:18,240 DEBUG smtpserver get_localized_metric() Localized metric: cpu|numberToRemove => CPU|제거할 권장 vCPU 수
2018-02-18 14:54:18,241 DEBUG smtpserver get_localized_metric() statkey: cpu|numberToRemove
2018-02-18 14:54:18,243 DEBUG smtpserver Parsed Alert:
ALERT_STATUS: Updated
ALERT_IMPACT: risk
ALERT_CRITICALITY: Warning
ALERT_DEFINITION_NAME: 가상 시스템에서 지나치게 많은 vCPU로 인해 발생한 다중 vCPU 스케줄 문제(공동 중지)로 인해 CPU 경합이 발생함
ALERT_ID: 1635de0c-be45-4032-b31a-2b956e6afe5f
ALERT_OWNER: Unable to retrieve value
ALERT_DEFINITION_DESC: 가상 시스템의 공동 중지율이 높습니다. 공동 중지는 가상 시스템이 실행될 준비가 되었지만 공동 vCPU 스케줄 경합 때문에 지연이 발생하는 시간을 나타냅니다. 가상 시스템에 너무 많은 vCPU가 구성되어 있고 물리적 CPU가 부족하여 공동 vCPU 스케줄을 관리할 수 없을 경우 공동 중지율이 높아집니다.
AFFECTED_RESOURCE_NAME: SQLMGNT
AFFECTED_RESOURCE_KIND: VirtualMachine
ALERT_GENERATE_TIME: Sun Feb 18 12:53:47 KST 2018
ALERT_UPDATE_TIME: Sun Feb 18 12:53:47 KST 2018
ALERT_CANCEL_TIME: 
ANOMALIES: <span>ANOMALIES: SYMPTOM SET - self<br/><table border="1"><th>Symptom Name</th><th>Object Name</th><th>Object ID</th><th>Metric</th><th>Message Info</th><tr><td>가상 시스템 CPU 공동 중지가 주의 수준임</td><td>SQLMGNT</td><td>79422165-7475-4939-ac8e-d3f0139d81ed</td><td>cpu|costopPct</td><td>7.44 &gt; 5.0</td></tr></table>SYMPTOM SET - self<br/><table border="1"><th>Symptom Name</th><th>Object Name</th><th>Object ID</th><th>Metric</th><th>Message Info</th><tr><td>가상 시스템에서 제거할 vCPU 수</td><td>SQLMGNT</td><td>79422165-7475-4939-ac8e-d3f0139d81ed</td><td>cpu|numberToRemove</td><td>1.0 &gt; 0.0</td></tr></table></span>
ALERT_TYPE: Virtualization Problem
ALERT_SUBTYPE: Performance Problem
CHILDREN_HEALTH: 
PARENT_HEALTH: 
FILTER_RULE_NAME: Dev SMTP (전체)
FILTER_RULE_DESC: 
ALERT_SUMMARY_LINK: https://70.11.11.217/ui/index.action#/object/79422165-7475-4939-ac8e-d3f0139d81ed/alertsAndSymptoms/alerts/1635de0c-be45-4032-b31a-2b956e6afe5f
ALERT_RECOMMENDATION: <span>ALERT_RECOMMENDATION: <br/>- 나열된 증상을 검토하고 증상에서 권장하는 대로 가상 시스템에서 vCPU의 수를 제거하십시오.</span>
RESOURCE_HEALTH_STATE: 0.0
RESOURCE_RISK_STATE: 0.0
RESOURCE_EFFICIENCY_STATE: 0.0
ALERT_STATUS_TR: 경고 업데이트
ALERT_IMPACT_TR: 위험
ALERT_CRITICALITY_TR: 주의
ALERT_OWNER_TR: 할당되지 않음
AFFECTED_RESOURCE_KIND_TR: 가상 시스템
ALERT_GENERATE_TIME_TR: 02-18 12:53 대한민국 표준시
ALERT_UPDATE_TIME_TR: 02-18 12:53 대한민국 표준시
ALERT_CANCEL_TIME_TR: -
ALERT_TYPE_TR: 가상화·하이퍼바이저
ALERT_SUBTYPE_TR: 성능
RESOURCE_HEALTH_STATE_TR: 없음
RESOURCE_RISK_STATE_TR: 없음
RESOURCE_EFFICIENCY_STATE_TR: 없음
ANOMALIES_TR: [{'Relation': 'self', 'Symptom Index': '1-1', 'Symptom Name': '가상 시스템 CPU 공동 중지가 주의 수준임', 'Object Name': 'SQLMGNT', 'Object ID': '79422165-7475-4939-ac8e-d3f0139d81ed', 'Metric': 'CPU|공동 중지 (%)', 'Message Info': '7.44 > 5.0', 'StatKey': 'cpu|costopPct', 'Criticality': 'Warning'}, {'Relation': 'self', 'Symptom Index': '2-1', 'Symptom Name': '가상 시스템에서 제거할 vCPU 수', 'Object Name': 'SQLMGNT', 'Object ID': '79422165-7475-4939-ac8e-d3f0139d81ed', 'Metric': 'CPU|제거할 권장 vCPU 수', 'Message Info': '1.0 > 0.0', 'StatKey': 'cpu|numberToRemove', 'Criticality': 'Information'}]
ALERT_RECOMMENDATION_TR: ['나열된 증상을 검토하고 증상에서 권장하는 대로 가상 시스템에서 vCPU의 수를 제거하십시오.']


2018-02-18 14:55:21,102 DEBUG smtpserver Email Message (RAW):
From: vRealize Operations <vRealizeOps-admin@example.com>
To: admin@vrops.kccworld.co.kr
Message-ID: <1475170037.4119.1518933320783.JavaMail.admin@vrops.kccworld.co.kr>
Subject: =?UTF-8?Q?[vRealize_Operations_Manager]_(Updated)_ONEPLUS_?=
 =?UTF-8?Q?-_KCC_-_=ED=95=98=EB=82=98_=EC=9D=B4?=
 =?UTF-8?Q?=EC=83=81=EC=9D=98_=EA=B0=80=EC=83=81_?=
 =?UTF-8?Q?=EC=8B=9C=EC=8A=A4=ED=85=9C_=EA=B2=8C=EC=8A=A4?=
 =?UTF-8?Q?=ED=8A=B8_=ED=8C=8C=EC=9D=BC_=EC=8B=9C?=
 =?UTF-8?Q?=EC=8A=A4=ED=85=9C=EC=9D=98_=EB=94=94=EC=8A=A4?=
 =?UTF-8?Q?=ED=81=AC_=EA=B3=B5=EA=B0=84=EC=9D=B4_?=
 =?UTF-8?Q?=EB=B6=80=EC=A1=B1=ED=95=A9=EB=8B=88=EB=8B=A4.?=
MIME-Version: 1.0
Content-Type: text/html; charset=utf-8
Content-Transfer-Encoding: quoted-printable

<html><span>ALERT_STATUS: Updated</span><span>ALERT_IMPACT: health</span><s=
pan>ALERT_CRITICALITY: AlertLevel: Immediate</span><span>ALERT_DEFINITION_N=
AME: KCC - =ED=95=98=EB=82=98 =EC=9D=B4=EC=83=81=EC=9D=98 =EA=B0=80=EC=83=
=81 =EC=8B=9C=EC=8A=A4=ED=85=9C =EA=B2=8C=EC=8A=A4=ED=8A=B8 =ED=8C=8C=EC=9D=
=BC =EC=8B=9C=EC=8A=A4=ED=85=9C=EC=9D=98 =EB=94=94=EC=8A=A4=ED=81=AC =EA=B3=
=B5=EA=B0=84=EC=9D=B4 =EB=B6=80=EC=A1=B1=ED=95=A9=EB=8B=88=EB=8B=A4.</span>=
<span>ALERT_ID: efbf0d7a-b9ad-4be7-a884-43e0fcd6d882</span><span>ALERT_OWNE=
R: Unable to retrieve value</span><span>ALERT_DEFINITION_DESC: =EA=B0=80=EC=
=83=81 =EC=8B=9C=EC=8A=A4=ED=85=9C=EC=97=90=EC=84=9C =ED=95=98=EB=82=98 =EC=
=9D=B4=EC=83=81=EC=9D=98 =EA=B2=8C=EC=8A=A4=ED=8A=B8 =ED=8C=8C=EC=9D=BC =EC=
=8B=9C=EC=8A=A4=ED=85=9C=EC=9D=98 =EB=94=94=EC=8A=A4=ED=81=AC =EA=B3=B5=EA=
=B0=84=EC=9D=B4 =EB=B6=80=EC=A1=B1=ED=95=A9=EB=8B=88=EB=8B=A4. =EC=A6=9D=EC=
=83=81 =EC=84=B8=EB=B6=80 =EC=A0=95=EB=B3=B4=EB=A5=BC =ED=99=95=EC=9D=B8=ED=
=95=98=EC=97=AC =EC=98=81=ED=96=A5=EC=9D=84 =EB=B0=9B=EB=8A=94 =EA=B2=8C=EC=
=8A=A4=ED=8A=B8 =ED=8C=8C=EC=9D=BC =EC=8B=9C=EC=8A=A4=ED=85=9C=EC=9D=84 =EC=
=8B=9D=EB=B3=84=ED=95=98=EC=8B=AD=EC=8B=9C=EC=98=A4.</span><span>AFFECTED_R=
ESOURCE_NAME: ONEPLUS</span><span>AFFECTED_RESOURCE_KIND: VirtualMachine</s=
pan><span>ALERT_GENERATE_TIME: Sun Feb 18 09:13:47 KST 2018</span><span>ALE=
RT_UPDATE_TIME: Sun Feb 18 09:13:47 KST 2018</span><span>ALERT_CANCEL_TIME:=
 </span><span>ANOMALIES: SYMPTOM SET - self<br><table border=3D'1'><th>Symp=
tom Name</th><th>Object Name</th><th>Object ID</th><th>Metric</th><th>Messa=
ge Info</th><tr><td>=EA=B2=8C=EC=8A=A4=ED=8A=B8 =ED=8C=8C=EC=9D=BC =EC=8B=
=9C=EC=8A=A4=ED=85=9C =EA=B3=B5=EA=B0=84 =EC=82=AC=EC=9A=A9=EB=9F=89=EC=9D=
=B4 DT=EB=B3=B4=EB=8B=A4 =EB=86=92=EC=9D=8C</td><td>ONEPLUS</td><td>78e885d=
1-8d26-47a9-9b1d-f47b5e5ea1b1</td><td>=EA=B2=8C=EC=8A=A4=ED=8A=B8 =ED=8C=8C=
=EC=9D=BC =EC=8B=9C=EC=8A=A4=ED=85=9C =ED=86=B5=EA=B3=84|=EC=B4=9D =EA=B2=
=8C=EC=8A=A4=ED=8A=B8 =ED=8C=8C=EC=9D=BC =EC=8B=9C=EC=8A=A4=ED=85=9C =EC=82=
=AC=EC=9A=A9=EB=9F=89</td><td>91.94 above 91.79774475097656</td></tr></tabl=
e>SYMPTOM SET - self<br><table border=3D'1'><th>Symptom Name</th><th>Object=
 Name</th><th>Object ID</th><th>Metric</th><th>Message Info</th><tr><td>=EA=
=B2=8C=EC=8A=A4=ED=8A=B8 =ED=8C=8C=EC=9D=BC =EC=8B=9C=EC=8A=A4=ED=85=9C =EA=
=B3=B5=EA=B0=84 =EC=82=AC=EC=9A=A9=EB=9F=89=EC=9D=B4 =EC=A6=89=EC=8B=9C =EC=
=88=98=EC=A4=80=EC=9E=84</td><td>ONEPLUS</td><td>78e885d1-8d26-47a9-9b1d-f4=
7b5e5ea1b1</td><td>guestfilesystem:C:\|percentage</td><td>92.56 > 90.0</td>=
</tr><tr><td>=EA=B2=8C=EC=8A=A4=ED=8A=B8 =ED=8C=8C=EC=9D=BC =EC=8B=9C=EC=8A=
=A4=ED=85=9C =EA=B3=B5=EA=B0=84 =EC=82=AC=EC=9A=A9=EB=9F=89=EC=9D=B4 =EC=A3=
=BC=EC=9D=98 =EC=88=98=EC=A4=80=EC=9E=84</td><td>ONEPLUS</td><td>78e885d1-8=
d26-47a9-9b1d-f47b5e5ea1b1</td><td>guestfilesystem:D:\|percentage</td><td>8=
6.59 > 85.0</td></tr></table></span><span>ALERT_TYPE: Virtualization Proble=
m</span><span>ALERT_SUBTYPE: Capacity Problem</span><span>CHILDREN_HEALTH: =
</span><span>PARENT_HEALTH: </span><span>FILTER_RULE_NAME: Dev SMTP (=EC=A0=
=84=EC=B2=B4)</span><span>FILTER_RULE_DESC: </span><span>ALERT_SUMMARY_LINK=
: https://70.11.11.217/ui/index.action#/object/78e885d1-8d26-47a9-9b1d-f47b=
5e5ea1b1/alertsAndSymptoms/alerts/efbf0d7a-b9ad-4be7-a884-43e0fcd6d882</spa=
n><span>ALERT_RECOMMENDATION: <br>- =EC=83=88 =EA=B0=80=EC=83=81 =ED=95=98=
=EB=93=9C =EB=94=94=EC=8A=A4=ED=81=AC=EB=A5=BC =EC=B6=94=EA=B0=80=ED=95=98=
=EA=B1=B0=EB=82=98 =EA=B0=80=EC=83=81 =EC=8B=9C=EC=8A=A4=ED=85=9C=EC=9D=98 =
=EA=B8=B0=EC=A1=B4 =EB=94=94=EC=8A=A4=ED=81=AC=EB=A5=BC =ED=99=95=EC=9E=A5=
=ED=95=A9=EB=8B=88=EB=8B=A4. =EA=B8=B0=EC=A1=B4 =EB=94=94=EC=8A=A4=ED=81=AC=
=EB=A5=BC =ED=99=95=EC=9E=A5=ED=95=98=EB=A0=A4=EB=A9=B4 =EB=A8=BC=EC=A0=80 =
=EB=AA=A8=EB=93=A0 =EC=8A=A4=EB=83=85=EC=83=B7=EC=9D=84 =EC=A0=9C=EA=B1=B0=
=ED=95=B4=EC=95=BC =ED=95=A9=EB=8B=88=EB=8B=A4. =EC=9D=B4 =EC=9E=91=EC=97=
=85=EC=9D=84 =EC=88=98=ED=96=89=ED=95=9C =ED=9B=84=EC=97=90=EB=8A=94 =EA=B2=
=8C=EC=8A=A4=ED=8A=B8 OS =EA=B4=80=EB=A0=A8 =EC=A0=88=EC=B0=A8=EB=A5=BC =EC=
=82=AC=EC=9A=A9=ED=95=98=EC=97=AC =EC=83=88 =EB=94=94=EC=8A=A4=ED=81=AC =EB=
=98=90=EB=8A=94 =ED=99=95=EC=9E=A5=EB=90=9C =EB=94=94=EC=8A=A4=ED=81=AC=EC=
=97=90=EC=84=9C =ED=8C=8C=EC=9D=BC =EC=8B=9C=EC=8A=A4=ED=85=9C=EC=9D=84 =ED=
=99=95=EC=9E=A5=ED=95=A9=EB=8B=88=EB=8B=A4.</span><span>RESOURCE_HEALTH_STA=
TE: 0.0</span><span>RESOURCE_RISK_STATE: 0.0</span><span>RESOURCE_EFFICIENC=
Y_STATE: 0.0</span><BR></html>

2018-02-18 14:55:21,106 DEBUG smtpserver Email Content (Decoded):
<html><span>ALERT_STATUS: Updated</span><span>ALERT_IMPACT: health</span><span>ALERT_CRITICALITY: AlertLevel: Immediate</span><span>ALERT_DEFINITION_NAME: KCC - 하나 이상의 가상 시스템 게스트 파일 시스템의 디스크 공간이 부족합니다.</span><span>ALERT_ID: efbf0d7a-b9ad-4be7-a884-43e0fcd6d882</span><span>ALERT_OWNER: Unable to retrieve value</span><span>ALERT_DEFINITION_DESC: 가상 시스템에서 하나 이상의 게스트 파일 시스템의 디스크 공간이 부족합니다. 증상 세부 정보를 확인하여 영향을 받는 게스트 파일 시스템을 식별하십시오.</span><span>AFFECTED_RESOURCE_NAME: ONEPLUS</span><span>AFFECTED_RESOURCE_KIND: VirtualMachine</span><span>ALERT_GENERATE_TIME: Sun Feb 18 09:13:47 KST 2018</span><span>ALERT_UPDATE_TIME: Sun Feb 18 09:13:47 KST 2018</span><span>ALERT_CANCEL_TIME: </span><span>ANOMALIES: SYMPTOM SET - self<br><table border='1'><th>Symptom Name</th><th>Object Name</th><th>Object ID</th><th>Metric</th><th>Message Info</th><tr><td>게스트 파일 시스템 공간 사용량이 DT보다 높음</td><td>ONEPLUS</td><td>78e885d1-8d26-47a9-9b1d-f47b5e5ea1b1</td><td>게스트 파일 시스템 통계|총 게스트 파일 시스템 사용량</td><td>91.94 above 91.79774475097656</td></tr></table>SYMPTOM SET - self<br><table border='1'><th>Symptom Name</th><th>Object Name</th><th>Object ID</th><th>Metric</th><th>Message Info</th><tr><td>게스트 파일 시스템 공간 사용량이 즉시 수준임</td><td>ONEPLUS</td><td>78e885d1-8d26-47a9-9b1d-f47b5e5ea1b1</td><td>guestfilesystem:C:\|percentage</td><td>92.56 > 90.0</td></tr><tr><td>게스트 파일 시스템 공간 사용량이 주의 수준임</td><td>ONEPLUS</td><td>78e885d1-8d26-47a9-9b1d-f47b5e5ea1b1</td><td>guestfilesystem:D:\|percentage</td><td>86.59 > 85.0</td></tr></table></span><span>ALERT_TYPE: Virtualization Problem</span><span>ALERT_SUBTYPE: Capacity Problem</span><span>CHILDREN_HEALTH: </span><span>PARENT_HEALTH: </span><span>FILTER_RULE_NAME: Dev SMTP (전체)</span><span>FILTER_RULE_DESC: </span><span>ALERT_SUMMARY_LINK: https://70.11.11.217/ui/index.action#/object/78e885d1-8d26-47a9-9b1d-f47b5e5ea1b1/alertsAndSymptoms/alerts/efbf0d7a-b9ad-4be7-a884-43e0fcd6d882</span><span>ALERT_RECOMMENDATION: <br>- 새 가상 하드 디스크를 추가하거나 가상 시스템의 기존 디스크를 확장합니다. 기존 디스크를 확장하려면 먼저 모든 스냅샷을 제거해야 합니다. 이 작업을 수행한 후에는 게스트 OS 관련 절차를 사용하여 새 디스크 또는 확장된 디스크에서 파일 시스템을 확장합니다.</span><span>RESOURCE_HEALTH_STATE: 0.0</span><span>RESOURCE_RISK_STATE: 0.0</span><span>RESOURCE_EFFICIENCY_STATE: 0.0</span><BR></html>

2018-02-18 14:55:21,110 DEBUG smtpserver Anomalies:
[{'Relation': 'self', 'Symptom Index': '1-1', 'Symptom Name': '게스트 파일 시스템 공간 사용량이 DT보다 높음', 'Object Name': 'ONEPLUS', 'Object ID': '78e885d1-8d26-47a9-9b1d-f47b5e5ea1b1', 'Metric': '게스트 파일 시스템 통계|총 게스트 파일 시스템 사용량', 'Message Info': '91.94 above 91.79774475097656'}, {'Relation': 'self', 'Symptom Index': '2-1', 'Symptom Name': '게스트 파일 시스템 공간 사용량이 즉시 수준임', 'Object Name': 'ONEPLUS', 'Object ID': '78e885d1-8d26-47a9-9b1d-f47b5e5ea1b1', 'Metric': 'guestfilesystem:C:\\|percentage', 'Message Info': '92.56 > 90.0'}, {'Relation': 'self', 'Symptom Index': '2-2', 'Symptom Name': '게스트 파일 시스템 공간 사용량이 주의 수준임', 'Object Name': 'ONEPLUS', 'Object ID': '78e885d1-8d26-47a9-9b1d-f47b5e5ea1b1', 'Metric': 'guestfilesystem:D:\\|percentage', 'Message Info': '86.59 > 85.0'}]

2018-02-18 14:55:21,111 DEBUG smtpserver get_symptom_definition_summary() Fetching alert detail from: https://vrops.kccworld.co.kr/suite-api/api/alerts/efbf0d7a-b9ad-4be7-a884-43e0fcd6d882
2018-02-18 14:55:21,187 DEBUG smtpserver get_symptom_definition_summary() alert_definition_id: AlertDefinition-20049f89-8652-45c6-a7c1-cc88aa038b2a
2018-02-18 14:55:21,187 DEBUG smtpserver get_symptom_definition_summary() Fetching alert definition from: https://vrops.kccworld.co.kr/suite-api/api/alertdefinitions/AlertDefinition-20049f89-8652-45c6-a7c1-cc88aa038b2a
2018-02-18 14:55:21,296 DEBUG smtpserver get_symptom_definition_summary() alert_definition:
{'id': 'AlertDefinition-20049f89-8652-45c6-a7c1-cc88aa038b2a', 'name': 'KCC - 하나 이상의 가상 시스템 게스트 파일 시스템의 디스크 공간이 부족합니다.', 'description': '가상 시스템에서 하나 이상의 게스트 파일 시스템의 디스크 공간이 부족합니다. 증상 세부 정보를 확인하여 영향을 받는 게스트 파일 시스템을 식별하십시오.', 'adapterKindKey': 'VMWARE', 'resourceKindKey': 'VirtualMachine', 'waitCycles': 1, 'cancelCycles': 1, 'type': 16, 'subType': 20, 'states': [{'severity': 'AUTO', 'base-symptom-set': {'type': 'SYMPTOM_SET_COMPOSITE', 'operator': 'AND', 'symptom-sets': [{'type': 'SYMPTOM_SET', 'relation': 'SELF', 'symptomSetOperator': 'OR', 'symptomDefinitionIds': ['SymptomDefinition-VMWARE-GuestPartitionUsageWarning', 'SymptomDefinition-VMWARE-GuestPartitionUsageImmediate', 'SymptomDefinition-VMWARE-GuestPartitionUsageCritical']}, {'type': 'SYMPTOM_SET', 'relation': 'SELF', 'symptomSetOperator': 'AND', 'symptomDefinitionIds': ['SymptomDefinition-VMWARE-GuestSpaceUsageDTAbove']}]}, 'impact': {'impactType': 'BADGE', 'detail': 'health'}, 'recommendationPriorityMap': {'Recommendation-df-VMWARE-AddMoreDiskToVM': 1}}]}

2018-02-18 14:55:21,298 DEBUG smtpserver get_symptom_definition_summary() symptom_sets:
[{'type': 'SYMPTOM_SET', 'relation': 'SELF', 'symptomSetOperator': 'OR', 'symptomDefinitionIds': ['SymptomDefinition-VMWARE-GuestPartitionUsageWarning', 'SymptomDefinition-VMWARE-GuestPartitionUsageImmediate', 'SymptomDefinition-VMWARE-GuestPartitionUsageCritical']}, {'type': 'SYMPTOM_SET', 'relation': 'SELF', 'symptomSetOperator': 'AND', 'symptomDefinitionIds': ['SymptomDefinition-VMWARE-GuestSpaceUsageDTAbove']}]

2018-02-18 14:55:21,300 DEBUG smtpserver get_symptom_definition_summary() symptom_definition_ids:
['SymptomDefinition-VMWARE-GuestPartitionUsageCritical', 'SymptomDefinition-VMWARE-GuestPartitionUsageImmediate', 'SymptomDefinition-VMWARE-GuestPartitionUsageWarning', 'SymptomDefinition-VMWARE-GuestSpaceUsageDTAbove']

2018-02-18 14:55:21,930 DEBUG smtpserver get_symptom_definition_summary() symptom_definitions:
[{'id': 'SymptomDefinition-VMWARE-GuestPartitionUsageWarning', 'name': '게스트 파일 시스템 공간 사용량이 주의 수준임', 'adapterKindKey': 'VMWARE', 'resourceKindKey': 'VirtualMachine', 'waitCycles': 1, 'cancelCycles': 1, 'state': {'severity': 'WARNING', 'condition': {'type': 'CONDITION_HT', 'key': 'guestfilesystem|percentage', 'operator': 'GT', 'value': '85.0', 'valueType': 'NUMERIC', 'instanced': True, 'thresholdType': 'STATIC'}}}, {'id': 'SymptomDefinition-VMWARE-GuestSpaceUsageDTAbove', 'name': '게스트 파일 시스템 공간 사용량이 DT보다 높음', 'adapterKindKey': 'VMWARE', 'resourceKindKey': 'VirtualMachine', 'waitCycles': 3, 'cancelCycles': 3, 'state': {'severity': 'WARNING', 'condition': {'type': 'CONDITION_DT', 'key': 'guestfilesystem|percentage_total', 'operator': 'DT_ABOVE', 'instanced': False}}}, {'id': 'SymptomDefinition-VMWARE-GuestPartitionUsageCritical', 'name': '게스트 파일 시스템 공간 사용량이 위험 수준임', 'adapterKindKey': 'VMWARE', 'resourceKindKey': 'VirtualMachine', 'waitCycles': 1, 'cancelCycles': 1, 'state': {'severity': 'CRITICAL', 'condition': {'type': 'CONDITION_HT', 'key': 'guestfilesystem|percentage', 'operator': 'GT', 'value': '95.0', 'valueType': 'NUMERIC', 'instanced': True, 'thresholdType': 'STATIC'}}}, {'id': 'SymptomDefinition-VMWARE-GuestPartitionUsageImmediate', 'name': '게스트 파일 시스템 공간 사용량이 즉시 수준임', 'adapterKindKey': 'VMWARE', 'resourceKindKey': 'VirtualMachine', 'waitCycles': 1, 'cancelCycles': 1, 'state': {'severity': 'IMMEDIATE', 'condition': {'type': 'CONDITION_HT', 'key': 'guestfilesystem|percentage', 'operator': 'GT', 'value': '90.0', 'valueType': 'NUMERIC', 'instanced': True, 'thresholdType': 'STATIC'}}}]

2018-02-18 14:55:21,930 DEBUG smtpserver get_symptom_definition_summary() symptom_definition_summary:
[{'name': '게스트 파일 시스템 공간 사용량이 주의 수준임', 'adapterKindKey': 'VMWARE', 'resourceKindKey': 'VirtualMachine', 'severity': 'WARNING', 'type': 'CONDITION_HT', 'key': 'guestfilesystem|percentage', 'instanced': True}, {'name': '게스트 파일 시스템 공간 사용량이 DT보다 높음', 'adapterKindKey': 'VMWARE', 'resourceKindKey': 'VirtualMachine', 'severity': 'WARNING', 'type': 'CONDITION_DT', 'key': 'guestfilesystem|percentage_total', 'instanced': False}, {'name': '게스트 파일 시스템 공간 사용량이 위험 수준임', 'adapterKindKey': 'VMWARE', 'resourceKindKey': 'VirtualMachine', 'severity': 'CRITICAL', 'type': 'CONDITION_HT', 'key': 'guestfilesystem|percentage', 'instanced': True}, {'name': '게스트 파일 시스템 공간 사용량이 즉시 수준임', 'adapterKindKey': 'VMWARE', 'resourceKindKey': 'VirtualMachine', 'severity': 'IMMEDIATE', 'type': 'CONDITION_HT', 'key': 'guestfilesystem|percentage', 'instanced': True}]

2018-02-18 14:55:21,930 DEBUG smtpserver get_localized_str() configparser.NoOptionError in get_localized_str: No option '게스트 파일 시스템 통계|총 게스트 파일 시스템 사용량' in section: 'METRIC'
2018-02-18 14:55:21,930 DEBUG smtpserver get_localized_metric() Localized metric: 게스트 파일 시스템 통계|총 게스트 파일 시스템 사용량 => 게스트 파일 시스템 통계|총 게스트 파일 시스템 사용량
2018-02-18 14:55:21,930 DEBUG smtpserver get_localized_metric() statkey: guestfilesystem|percentage_total
2018-02-18 14:55:21,930 DEBUG smtpserver get_localized_metric() Localized metric: guestfilesystem:C:\|percentage => 게스트 파일 시스템 통계|C:\|게스트 파일 시스템 사용량 (%)
2018-02-18 14:55:21,930 DEBUG smtpserver get_localized_metric() statkey: guestfilesystem:C:\|percentage
2018-02-18 14:55:21,930 DEBUG smtpserver get_localized_metric() Localized metric: guestfilesystem:D:\|percentage => 게스트 파일 시스템 통계|D:\|게스트 파일 시스템 사용량 (%)
2018-02-18 14:55:21,930 DEBUG smtpserver get_localized_metric() statkey: guestfilesystem:D:\|percentage
2018-02-18 14:55:21,930 DEBUG smtpserver Parsed Alert:
ALERT_STATUS: Updated
ALERT_IMPACT: health
ALERT_CRITICALITY: Immediate
ALERT_DEFINITION_NAME: 하나 이상의 가상 시스템 게스트 파일 시스템의 디스크 공간이 부족합니다.
ALERT_ID: efbf0d7a-b9ad-4be7-a884-43e0fcd6d882
ALERT_OWNER: Unable to retrieve value
ALERT_DEFINITION_DESC: 가상 시스템에서 하나 이상의 게스트 파일 시스템의 디스크 공간이 부족합니다. 증상 세부 정보를 확인하여 영향을 받는 게스트 파일 시스템을 식별하십시오.
AFFECTED_RESOURCE_NAME: ONEPLUS
AFFECTED_RESOURCE_KIND: VirtualMachine
ALERT_GENERATE_TIME: Sun Feb 18 09:13:47 KST 2018
ALERT_UPDATE_TIME: Sun Feb 18 09:13:47 KST 2018
ALERT_CANCEL_TIME: 
ANOMALIES: <span>ANOMALIES: SYMPTOM SET - self<br/><table border="1"><th>Symptom Name</th><th>Object Name</th><th>Object ID</th><th>Metric</th><th>Message Info</th><tr><td>게스트 파일 시스템 공간 사용량이 DT보다 높음</td><td>ONEPLUS</td><td>78e885d1-8d26-47a9-9b1d-f47b5e5ea1b1</td><td>게스트 파일 시스템 통계|총 게스트 파일 시스템 사용량</td><td>91.94 above 91.79774475097656</td></tr></table>SYMPTOM SET - self<br/><table border="1"><th>Symptom Name</th><th>Object Name</th><th>Object ID</th><th>Metric</th><th>Message Info</th><tr><td>게스트 파일 시스템 공간 사용량이 즉시 수준임</td><td>ONEPLUS</td><td>78e885d1-8d26-47a9-9b1d-f47b5e5ea1b1</td><td>guestfilesystem:C:\|percentage</td><td>92.56 &gt; 90.0</td></tr><tr><td>게스트 파일 시스템 공간 사용량이 주의 수준임</td><td>ONEPLUS</td><td>78e885d1-8d26-47a9-9b1d-f47b5e5ea1b1</td><td>guestfilesystem:D:\|percentage</td><td>86.59 &gt; 85.0</td></tr></table></span>
ALERT_TYPE: Virtualization Problem
ALERT_SUBTYPE: Capacity Problem
CHILDREN_HEALTH: 
PARENT_HEALTH: 
FILTER_RULE_NAME: Dev SMTP (전체)
FILTER_RULE_DESC: 
ALERT_SUMMARY_LINK: https://70.11.11.217/ui/index.action#/object/78e885d1-8d26-47a9-9b1d-f47b5e5ea1b1/alertsAndSymptoms/alerts/efbf0d7a-b9ad-4be7-a884-43e0fcd6d882
ALERT_RECOMMENDATION: <span>ALERT_RECOMMENDATION: <br/>- 새 가상 하드 디스크를 추가하거나 가상 시스템의 기존 디스크를 확장합니다. 기존 디스크를 확장하려면 먼저 모든 스냅샷을 제거해야 합니다. 이 작업을 수행한 후에는 게스트 OS 관련 절차를 사용하여 새 디스크 또는 확장된 디스크에서 파일 시스템을 확장합니다.</span>
RESOURCE_HEALTH_STATE: 0.0
RESOURCE_RISK_STATE: 0.0
RESOURCE_EFFICIENCY_STATE: 0.0
ALERT_STATUS_TR: 경고 업데이트
ALERT_IMPACT_TR: 상태
ALERT_CRITICALITY_TR: 즉시
ALERT_OWNER_TR: 할당되지 않음
AFFECTED_RESOURCE_KIND_TR: 가상 시스템
ALERT_GENERATE_TIME_TR: 02-18 09:13 대한민국 표준시
ALERT_UPDATE_TIME_TR: 02-18 09:13 대한민국 표준시
ALERT_CANCEL_TIME_TR: -
ALERT_TYPE_TR: 가상화·하이퍼바이저
ALERT_SUBTYPE_TR: 용량
RESOURCE_HEALTH_STATE_TR: 없음
RESOURCE_RISK_STATE_TR: 없음
RESOURCE_EFFICIENCY_STATE_TR: 없음
ANOMALIES_TR: [{'Relation': 'self', 'Symptom Index': '1-1', 'Symptom Name': '게스트 파일 시스템 공간 사용량이 DT보다 높음', 'Object Name': 'ONEPLUS', 'Object ID': '78e885d1-8d26-47a9-9b1d-f47b5e5ea1b1', 'Metric': '게스트 파일 시스템 통계|총 게스트 파일 시스템 사용량', 'Message Info': '91.94 above 91.79774475097656', 'StatKey': 'guestfilesystem|percentage_total', 'Criticality': 'Warning'}, {'Relation': 'self', 'Symptom Index': '2-1', 'Symptom Name': '게스트 파일 시스템 공간 사용량이 즉시 수준임', 'Object Name': 'ONEPLUS', 'Object ID': '78e885d1-8d26-47a9-9b1d-f47b5e5ea1b1', 'Metric': '게스트 파일 시스템 통계|C:\\|게스트 파일 시스템 사용량 (%)', 'Message Info': '92.56 > 90.0', 'StatKey': 'guestfilesystem:C:\\|percentage', 'Criticality': 'Immediate'}, {'Relation': 'self', 'Symptom Index': '2-2', 'Symptom Name': '게스트 파일 시스템 공간 사용량이 주의 수준임', 'Object Name': 'ONEPLUS', 'Object ID': '78e885d1-8d26-47a9-9b1d-f47b5e5ea1b1', 'Metric': '게스트 파일 시스템 통계|D:\\|게스트 파일 시스템 사용량 (%)', 'Message Info': '86.59 > 85.0', 'StatKey': 'guestfilesystem:D:\\|percentage', 'Criticality': 'Warning'}]
ALERT_RECOMMENDATION_TR: ['새 가상 하드 디스크를 추가하거나 가상 시스템의 기존 디스크를 확장합니다. 기존 디스크를 확장하려면 먼저 모든 스냅샷을 제거해야 합니다. 이 작업을 수행한 후에는 게스트 OS 관련 절차를 사용하여 새 디스크 또는 확장된 디스크에서 파일 시스템을 확장합니다.']


2018-02-18 14:55:25,475 INFO smtpserver Message Dropped: OUTBOUND_ALERT_RULE does not match
2018-02-18 15:04:25,528 DEBUG smtpserver Email Message (RAW):
From: vRealize Operations <vRealizeOps-admin@example.com>
To: admin@vrops.kccworld.co.kr
Message-ID: <107901288.4121.1518933865209.JavaMail.admin@vrops.kccworld.co.kr>
Subject: =?UTF-8?Q?[vRealize_Operations_Manager]?=
 =?UTF-8?Q?_(Canceled)_SQL?= =?UTF-8?Q?MGNT_-_?=
 =?UTF-8?Q?=EA=B0=80=EC=83=81_=EC=8B=9C?=
 =?UTF-8?Q?=EC=8A=A4=ED=85=9C=EC=97=90=EC=84=9C?=
 =?UTF-8?Q?_=EC=A7=80=EB=82=98=EC=B9=98=EA=B2=8C_=EB=A7=8E?=
 =?UTF-8?Q?=EC=9D=80_vCPU=EB=A1=9C?=
 =?UTF-8?Q?_=EC=9D=B8=ED=95=B4_=EB=B0=9C=EC=83=9D=ED=95=9C?=
 =?UTF-8?Q?_=EB=8B=A4=EC=A4=91_vCPU?=
 =?UTF-8?Q?_=EC=8A=A4=EC=BC=80=EC=A4=84_=EB=AC=B8=EC=A0=9C?=
 =?UTF-8?Q?(=EA=B3=B5=EB=8F=99_=EC=A4=91=EC=A7=80)=EB=A1=9C?=
 =?UTF-8?Q?_=EC=9D=B8=ED=95=B4_CPU?=
 =?UTF-8?Q?_=EA=B2=BD=ED=95=A9=EC=9D=B4_=EB=B0=9C=EC=83=9D=ED=95=A8?=
MIME-Version: 1.0
Content-Type: text/html; charset=utf-8
Content-Transfer-Encoding: quoted-printable

<html><span>ALERT_STATUS: Canceled</span><span>ALERT_IMPACT: risk</span><sp=
an>ALERT_CRITICALITY: AlertLevel: Warning</span><span>ALERT_DEFINITION_NAME=
: =EA=B0=80=EC=83=81 =EC=8B=9C=EC=8A=A4=ED=85=9C=EC=97=90=EC=84=9C =EC=A7=
=80=EB=82=98=EC=B9=98=EA=B2=8C =EB=A7=8E=EC=9D=80 vCPU=EB=A1=9C =EC=9D=B8=
=ED=95=B4 =EB=B0=9C=EC=83=9D=ED=95=9C =EB=8B=A4=EC=A4=91 vCPU =EC=8A=A4=EC=
=BC=80=EC=A4=84 =EB=AC=B8=EC=A0=9C(=EA=B3=B5=EB=8F=99 =EC=A4=91=EC=A7=80)=
=EB=A1=9C =EC=9D=B8=ED=95=B4 CPU =EA=B2=BD=ED=95=A9=EC=9D=B4 =EB=B0=9C=EC=
=83=9D=ED=95=A8</span><span>ALERT_ID: 1635de0c-be45-4032-b31a-2b956e6afe5f<=
/span><span>ALERT_OWNER: Unable to retrieve value</span><span>ALERT_DEFINIT=
ION_DESC: =EA=B0=80=EC=83=81 =EC=8B=9C=EC=8A=A4=ED=85=9C=EC=9D=98 =EA=B3=B5=
=EB=8F=99 =EC=A4=91=EC=A7=80=EC=9C=A8=EC=9D=B4 =EB=86=92=EC=8A=B5=EB=8B=88=
=EB=8B=A4. =EA=B3=B5=EB=8F=99 =EC=A4=91=EC=A7=80=EB=8A=94 =EA=B0=80=EC=83=
=81 =EC=8B=9C=EC=8A=A4=ED=85=9C=EC=9D=B4 =EC=8B=A4=ED=96=89=EB=90=A0 =EC=A4=
=80=EB=B9=84=EA=B0=80 =EB=90=98=EC=97=88=EC=A7=80=EB=A7=8C =EA=B3=B5=EB=8F=
=99 vCPU =EC=8A=A4=EC=BC=80=EC=A4=84 =EA=B2=BD=ED=95=A9 =EB=95=8C=EB=AC=B8=
=EC=97=90 =EC=A7=80=EC=97=B0=EC=9D=B4 =EB=B0=9C=EC=83=9D=ED=95=98=EB=8A=94 =
=EC=8B=9C=EA=B0=84=EC=9D=84 =EB=82=98=ED=83=80=EB=83=85=EB=8B=88=EB=8B=A4. =
=EA=B0=80=EC=83=81 =EC=8B=9C=EC=8A=A4=ED=85=9C=EC=97=90 =EB=84=88=EB=AC=B4 =
=EB=A7=8E=EC=9D=80 vCPU=EA=B0=80 =EA=B5=AC=EC=84=B1=EB=90=98=EC=96=B4 =EC=
=9E=88=EA=B3=A0 =EB=AC=BC=EB=A6=AC=EC=A0=81 CPU=EA=B0=80 =EB=B6=80=EC=A1=B1=
=ED=95=98=EC=97=AC =EA=B3=B5=EB=8F=99 vCPU =EC=8A=A4=EC=BC=80=EC=A4=84=EC=
=9D=84 =EA=B4=80=EB=A6=AC=ED=95=A0 =EC=88=98 =EC=97=86=EC=9D=84 =EA=B2=BD=
=EC=9A=B0 =EA=B3=B5=EB=8F=99 =EC=A4=91=EC=A7=80=EC=9C=A8=EC=9D=B4 =EB=86=92=
=EC=95=84=EC=A7=91=EB=8B=88=EB=8B=A4.</span><span>AFFECTED_RESOURCE_NAME: S=
QLMGNT</span><span>AFFECTED_RESOURCE_KIND: VirtualMachine</span><span>ALERT=
_GENERATE_TIME: Sun Feb 18 12:53:47 KST 2018</span><span>ALERT_UPDATE_TIME:=
 Sun Feb 18 12:53:47 KST 2018</span><span>ALERT_CANCEL_TIME: Sun Feb 18 15:=
03:47 KST 2018</span><span>ANOMALIES: SYMPTOM SET - self<br><table border=
=3D'1'><th>Symptom Name</th><th>Object Name</th><th>Object ID</th><th>Metri=
c</th><th>Message Info</th><tr><td>=EA=B0=80=EC=83=81 =EC=8B=9C=EC=8A=A4=ED=
=85=9C CPU =EA=B3=B5=EB=8F=99 =EC=A4=91=EC=A7=80=EA=B0=80 =EC=A3=BC=EC=9D=
=98 =EC=88=98=EC=A4=80=EC=9E=84</td><td>SQLMGNT</td><td>79422165-7475-4939-=
ac8e-d3f0139d81ed</td><td>cpu|costopPct</td><td>7.44 > 5.0</td></tr></table=
>SYMPTOM SET - self<br><table border=3D'1'><th>Symptom Name</th><th>Object =
Name</th><th>Object ID</th><th>Metric</th><th>Message Info</th><tr><td>=EA=
=B0=80=EC=83=81 =EC=8B=9C=EC=8A=A4=ED=85=9C=EC=97=90=EC=84=9C =EC=A0=9C=EA=
=B1=B0=ED=95=A0 vCPU =EC=88=98</td><td>SQLMGNT</td><td>79422165-7475-4939-a=
c8e-d3f0139d81ed</td><td>cpu|numberToRemove</td><td>1.0 > 0.0</td></tr></ta=
ble></span><span>ALERT_TYPE: Virtualization Problem</span><span>ALERT_SUBTY=
PE: Performance Problem</span><span>CHILDREN_HEALTH: </span><span>PARENT_HE=
ALTH: </span><span>FILTER_RULE_NAME: Dev SMTP (=EC=A0=84=EC=B2=B4)</span><s=
pan>FILTER_RULE_DESC: </span><span>ALERT_SUMMARY_LINK: https://70.11.11.217=
/ui/index.action#/object/79422165-7475-4939-ac8e-d3f0139d81ed/alertsAndSymp=
toms/alerts/1635de0c-be45-4032-b31a-2b956e6afe5f</span><span>ALERT_RECOMMEN=
DATION: <br>- =EB=82=98=EC=97=B4=EB=90=9C =EC=A6=9D=EC=83=81=EC=9D=84 =EA=
=B2=80=ED=86=A0=ED=95=98=EA=B3=A0 =EC=A6=9D=EC=83=81=EC=97=90=EC=84=9C =EA=
=B6=8C=EC=9E=A5=ED=95=98=EB=8A=94 =EB=8C=80=EB=A1=9C =EA=B0=80=EC=83=81 =EC=
=8B=9C=EC=8A=A4=ED=85=9C=EC=97=90=EC=84=9C vCPU=EC=9D=98 =EC=88=98=EB=A5=BC=
 =EC=A0=9C=EA=B1=B0=ED=95=98=EC=8B=AD=EC=8B=9C=EC=98=A4.</span><span>RESOUR=
CE_HEALTH_STATE: 1.0</span><span>RESOURCE_RISK_STATE: 2.0</span><span>RESOU=
RCE_EFFICIENCY_STATE: 1.0</span><BR></html>

2018-02-18 15:04:25,533 DEBUG smtpserver Email Content (Decoded):
<html><span>ALERT_STATUS: Canceled</span><span>ALERT_IMPACT: risk</span><span>ALERT_CRITICALITY: AlertLevel: Warning</span><span>ALERT_DEFINITION_NAME: 가상 시스템에서 지나치게 많은 vCPU로 인해 발생한 다중 vCPU 스케줄 문제(공동 중지)로 인해 CPU 경합이 발생함</span><span>ALERT_ID: 1635de0c-be45-4032-b31a-2b956e6afe5f</span><span>ALERT_OWNER: Unable to retrieve value</span><span>ALERT_DEFINITION_DESC: 가상 시스템의 공동 중지율이 높습니다. 공동 중지는 가상 시스템이 실행될 준비가 되었지만 공동 vCPU 스케줄 경합 때문에 지연이 발생하는 시간을 나타냅니다. 가상 시스템에 너무 많은 vCPU가 구성되어 있고 물리적 CPU가 부족하여 공동 vCPU 스케줄을 관리할 수 없을 경우 공동 중지율이 높아집니다.</span><span>AFFECTED_RESOURCE_NAME: SQLMGNT</span><span>AFFECTED_RESOURCE_KIND: VirtualMachine</span><span>ALERT_GENERATE_TIME: Sun Feb 18 12:53:47 KST 2018</span><span>ALERT_UPDATE_TIME: Sun Feb 18 12:53:47 KST 2018</span><span>ALERT_CANCEL_TIME: Sun Feb 18 15:03:47 KST 2018</span><span>ANOMALIES: SYMPTOM SET - self<br><table border='1'><th>Symptom Name</th><th>Object Name</th><th>Object ID</th><th>Metric</th><th>Message Info</th><tr><td>가상 시스템 CPU 공동 중지가 주의 수준임</td><td>SQLMGNT</td><td>79422165-7475-4939-ac8e-d3f0139d81ed</td><td>cpu|costopPct</td><td>7.44 > 5.0</td></tr></table>SYMPTOM SET - self<br><table border='1'><th>Symptom Name</th><th>Object Name</th><th>Object ID</th><th>Metric</th><th>Message Info</th><tr><td>가상 시스템에서 제거할 vCPU 수</td><td>SQLMGNT</td><td>79422165-7475-4939-ac8e-d3f0139d81ed</td><td>cpu|numberToRemove</td><td>1.0 > 0.0</td></tr></table></span><span>ALERT_TYPE: Virtualization Problem</span><span>ALERT_SUBTYPE: Performance Problem</span><span>CHILDREN_HEALTH: </span><span>PARENT_HEALTH: </span><span>FILTER_RULE_NAME: Dev SMTP (전체)</span><span>FILTER_RULE_DESC: </span><span>ALERT_SUMMARY_LINK: https://70.11.11.217/ui/index.action#/object/79422165-7475-4939-ac8e-d3f0139d81ed/alertsAndSymptoms/alerts/1635de0c-be45-4032-b31a-2b956e6afe5f</span><span>ALERT_RECOMMENDATION: <br>- 나열된 증상을 검토하고 증상에서 권장하는 대로 가상 시스템에서 vCPU의 수를 제거하십시오.</span><span>RESOURCE_HEALTH_STATE: 1.0</span><span>RESOURCE_RISK_STATE: 2.0</span><span>RESOURCE_EFFICIENCY_STATE: 1.0</span><BR></html>

2018-02-18 15:04:25,536 DEBUG smtpserver Anomalies:
[{'Relation': 'self', 'Symptom Index': '1-1', 'Symptom Name': '가상 시스템 CPU 공동 중지가 주의 수준임', 'Object Name': 'SQLMGNT', 'Object ID': '79422165-7475-4939-ac8e-d3f0139d81ed', 'Metric': 'cpu|costopPct', 'Message Info': '7.44 > 5.0'}, {'Relation': 'self', 'Symptom Index': '2-1', 'Symptom Name': '가상 시스템에서 제거할 vCPU 수', 'Object Name': 'SQLMGNT', 'Object ID': '79422165-7475-4939-ac8e-d3f0139d81ed', 'Metric': 'cpu|numberToRemove', 'Message Info': '1.0 > 0.0'}]

2018-02-18 15:04:25,537 DEBUG smtpserver get_symptom_definition_summary() Fetching alert detail from: https://vrops.kccworld.co.kr/suite-api/api/alerts/1635de0c-be45-4032-b31a-2b956e6afe5f
2018-02-18 15:04:25,614 DEBUG smtpserver get_symptom_definition_summary() alert_definition_id: AlertDefinition-VMWARE-CPUContentionDueToCostop
2018-02-18 15:04:25,614 DEBUG smtpserver get_symptom_definition_summary() Fetching alert definition from: https://vrops.kccworld.co.kr/suite-api/api/alertdefinitions/AlertDefinition-VMWARE-CPUContentionDueToCostop
2018-02-18 15:04:25,701 DEBUG smtpserver get_symptom_definition_summary() alert_definition:
{'id': 'AlertDefinition-VMWARE-CPUContentionDueToCostop', 'name': '가상 시스템에서 지나치게 많은 vCPU로 인해 발생한 다중 vCPU 스케줄 문제(공동 중지)로 인해 CPU 경합이 발생함', 'description': '가상 시스템의 공동 중지율이 높습니다. 공동 중지는 가상 시스템이 실행될 준비가 되었지만 공동 vCPU 스케줄 경합 때문에 지연이 발생하는 시간을 나타냅니다. 가상 시스템에 너무 많은 vCPU가 구성되어 있고 물리적 CPU가 부족하여 공동 vCPU 스케줄을 관리할 수 없을 경우 공동 중지율이 높아집니다.', 'adapterKindKey': 'VMWARE', 'resourceKindKey': 'VirtualMachine', 'waitCycles': 1, 'cancelCycles': 1, 'type': 16, 'subType': 19, 'states': [{'severity': 'AUTO', 'base-symptom-set': {'type': 'SYMPTOM_SET_COMPOSITE', 'operator': 'AND', 'symptom-sets': [{'type': 'SYMPTOM_SET', 'relation': 'SELF', 'symptomSetOperator': 'AND', 'symptomDefinitionIds': ['SymptomDefinition-VMWARE-VMNumCPUsToRemove', '!SymptomDefinition-VMWARE-VMPoweredOff']}, {'type': 'SYMPTOM_SET', 'relation': 'SELF', 'symptomSetOperator': 'OR', 'symptomDefinitionIds': ['SymptomDefinition-VMWARE-VMCpuCostopCritical', 'SymptomDefinition-VMWARE-VMCpuCostopWarning', 'SymptomDefinition-VMWARE-VMCpuCostopImmediate']}]}, 'impact': {'impactType': 'BADGE', 'detail': 'risk'}, 'recommendationPriorityMap': {'Recommendation-df-VMWARE-RemoveRecommendedCPUs': 1}}]}

2018-02-18 15:04:25,703 DEBUG smtpserver get_symptom_definition_summary() symptom_sets:
[{'type': 'SYMPTOM_SET', 'relation': 'SELF', 'symptomSetOperator': 'AND', 'symptomDefinitionIds': ['SymptomDefinition-VMWARE-VMNumCPUsToRemove', '!SymptomDefinition-VMWARE-VMPoweredOff']}, {'type': 'SYMPTOM_SET', 'relation': 'SELF', 'symptomSetOperator': 'OR', 'symptomDefinitionIds': ['SymptomDefinition-VMWARE-VMCpuCostopCritical', 'SymptomDefinition-VMWARE-VMCpuCostopWarning', 'SymptomDefinition-VMWARE-VMCpuCostopImmediate']}]

2018-02-18 15:04:25,703 DEBUG smtpserver get_symptom_definition_summary() symptom_definition_ids:
['SymptomDefinition-VMWARE-VMCpuCostopCritical', 'SymptomDefinition-VMWARE-VMCpuCostopImmediate', 'SymptomDefinition-VMWARE-VMCpuCostopWarning', 'SymptomDefinition-VMWARE-VMNumCPUsToRemove', 'SymptomDefinition-VMWARE-VMPoweredOff']

2018-02-18 15:04:26,299 DEBUG smtpserver get_symptom_definition_summary() symptom_definitions:
[{'id': 'SymptomDefinition-VMWARE-VMCpuCostopWarning', 'name': '가상 시스템 CPU 공동 중지가 주의 수준임', 'adapterKindKey': 'VMWARE', 'resourceKindKey': 'VirtualMachine', 'waitCycles': 3, 'cancelCycles': 3, 'state': {'severity': 'WARNING', 'condition': {'type': 'CONDITION_HT', 'key': 'cpu|costopPct', 'operator': 'GT', 'value': '5.0', 'valueType': 'NUMERIC', 'instanced': False, 'thresholdType': 'STATIC'}}}, {'id': 'SymptomDefinition-VMWARE-VMCpuCostopImmediate', 'name': '가상 시스템 CPU 공동 중지가 즉시 수준임', 'adapterKindKey': 'VMWARE', 'resourceKindKey': 'VirtualMachine', 'waitCycles': 3, 'cancelCycles': 3, 'state': {'severity': 'IMMEDIATE', 'condition': {'type': 'CONDITION_HT', 'key': 'cpu|costopPct', 'operator': 'GT', 'value': '10.0', 'valueType': 'NUMERIC', 'instanced': False, 'thresholdType': 'STATIC'}}}, {'id': 'SymptomDefinition-VMWARE-VMCpuCostopCritical', 'name': '가상 시스템 CPU 공동 중지가 위험 수준임', 'adapterKindKey': 'VMWARE', 'resourceKindKey': 'VirtualMachine', 'waitCycles': 3, 'cancelCycles': 3, 'state': {'severity': 'CRITICAL', 'condition': {'type': 'CONDITION_HT', 'key': 'cpu|costopPct', 'operator': 'GT', 'value': '15.0', 'valueType': 'NUMERIC', 'instanced': False, 'thresholdType': 'STATIC'}}}, {'id': 'SymptomDefinition-VMWARE-VMNumCPUsToRemove', 'name': '가상 시스템에서 제거할 vCPU 수', 'adapterKindKey': 'VMWARE', 'resourceKindKey': 'VirtualMachine', 'waitCycles': 1, 'cancelCycles': 1, 'state': {'severity': 'INFORMATION', 'condition': {'type': 'CONDITION_HT', 'key': 'cpu|numberToRemove', 'operator': 'GT', 'value': '0.0', 'valueType': 'NUMERIC', 'instanced': False, 'thresholdType': 'STATIC'}}}, {'id': 'SymptomDefinition-VMWARE-VMPoweredOff', 'name': '가상 시스템 전원 꺼짐', 'adapterKindKey': 'VMWARE', 'resourceKindKey': 'VirtualMachine', 'waitCycles': 1, 'cancelCycles': 1, 'state': {'severity': 'INFORMATION', 'condition': {'type': 'CONDITION_HT', 'key': 'sys|poweredOn', 'operator': 'EQ', 'value': '0.0', 'valueType': 'NUMERIC', 'instanced': False, 'thresholdType': 'STATIC'}}}]

2018-02-18 15:04:26,315 DEBUG smtpserver get_symptom_definition_summary() symptom_definition_summary:
[{'name': '가상 시스템 CPU 공동 중지가 주의 수준임', 'adapterKindKey': 'VMWARE', 'resourceKindKey': 'VirtualMachine', 'severity': 'WARNING', 'type': 'CONDITION_HT', 'key': 'cpu|costopPct', 'instanced': False}, {'name': '가상 시스템 CPU 공동 중지가 즉시 수준임', 'adapterKindKey': 'VMWARE', 'resourceKindKey': 'VirtualMachine', 'severity': 'IMMEDIATE', 'type': 'CONDITION_HT', 'key': 'cpu|costopPct', 'instanced': False}, {'name': '가상 시스템 CPU 공동 중지가 위험 수준임', 'adapterKindKey': 'VMWARE', 'resourceKindKey': 'VirtualMachine', 'severity': 'CRITICAL', 'type': 'CONDITION_HT', 'key': 'cpu|costopPct', 'instanced': False}, {'name': '가상 시스템에서 제거할 vCPU 수', 'adapterKindKey': 'VMWARE', 'resourceKindKey': 'VirtualMachine', 'severity': 'INFORMATION', 'type': 'CONDITION_HT', 'key': 'cpu|numberToRemove', 'instanced': False}, {'name': '가상 시스템 전원 꺼짐', 'adapterKindKey': 'VMWARE', 'resourceKindKey': 'VirtualMachine', 'severity': 'INFORMATION', 'type': 'CONDITION_HT', 'key': 'sys|poweredOn', 'instanced': False}]

2018-02-18 15:04:26,315 DEBUG smtpserver get_localized_metric() Localized metric: cpu|costopPct => CPU|공동 중지 (%)
2018-02-18 15:04:26,315 DEBUG smtpserver get_localized_metric() statkey: cpu|costopPct
2018-02-18 15:04:26,315 DEBUG smtpserver get_localized_metric() Localized metric: cpu|numberToRemove => CPU|제거할 권장 vCPU 수
2018-02-18 15:04:26,315 DEBUG smtpserver get_localized_metric() statkey: cpu|numberToRemove
2018-02-18 15:04:26,315 DEBUG smtpserver Parsed Alert:
ALERT_STATUS: Canceled
ALERT_IMPACT: risk
ALERT_CRITICALITY: Warning
ALERT_DEFINITION_NAME: 가상 시스템에서 지나치게 많은 vCPU로 인해 발생한 다중 vCPU 스케줄 문제(공동 중지)로 인해 CPU 경합이 발생함
ALERT_ID: 1635de0c-be45-4032-b31a-2b956e6afe5f
ALERT_OWNER: Unable to retrieve value
ALERT_DEFINITION_DESC: 가상 시스템의 공동 중지율이 높습니다. 공동 중지는 가상 시스템이 실행될 준비가 되었지만 공동 vCPU 스케줄 경합 때문에 지연이 발생하는 시간을 나타냅니다. 가상 시스템에 너무 많은 vCPU가 구성되어 있고 물리적 CPU가 부족하여 공동 vCPU 스케줄을 관리할 수 없을 경우 공동 중지율이 높아집니다.
AFFECTED_RESOURCE_NAME: SQLMGNT
AFFECTED_RESOURCE_KIND: VirtualMachine
ALERT_GENERATE_TIME: Sun Feb 18 12:53:47 KST 2018
ALERT_UPDATE_TIME: Sun Feb 18 12:53:47 KST 2018
ALERT_CANCEL_TIME: Sun Feb 18 15:03:47 KST 2018
ANOMALIES: <span>ANOMALIES: SYMPTOM SET - self<br/><table border="1"><th>Symptom Name</th><th>Object Name</th><th>Object ID</th><th>Metric</th><th>Message Info</th><tr><td>가상 시스템 CPU 공동 중지가 주의 수준임</td><td>SQLMGNT</td><td>79422165-7475-4939-ac8e-d3f0139d81ed</td><td>cpu|costopPct</td><td>7.44 &gt; 5.0</td></tr></table>SYMPTOM SET - self<br/><table border="1"><th>Symptom Name</th><th>Object Name</th><th>Object ID</th><th>Metric</th><th>Message Info</th><tr><td>가상 시스템에서 제거할 vCPU 수</td><td>SQLMGNT</td><td>79422165-7475-4939-ac8e-d3f0139d81ed</td><td>cpu|numberToRemove</td><td>1.0 &gt; 0.0</td></tr></table></span>
ALERT_TYPE: Virtualization Problem
ALERT_SUBTYPE: Performance Problem
CHILDREN_HEALTH: 
PARENT_HEALTH: 
FILTER_RULE_NAME: Dev SMTP (전체)
FILTER_RULE_DESC: 
ALERT_SUMMARY_LINK: https://70.11.11.217/ui/index.action#/object/79422165-7475-4939-ac8e-d3f0139d81ed/alertsAndSymptoms/alerts/1635de0c-be45-4032-b31a-2b956e6afe5f
ALERT_RECOMMENDATION: <span>ALERT_RECOMMENDATION: <br/>- 나열된 증상을 검토하고 증상에서 권장하는 대로 가상 시스템에서 vCPU의 수를 제거하십시오.</span>
RESOURCE_HEALTH_STATE: 1.0
RESOURCE_RISK_STATE: 2.0
RESOURCE_EFFICIENCY_STATE: 1.0
ALERT_STATUS_TR: 경고 취소
ALERT_IMPACT_TR: 위험
ALERT_CRITICALITY_TR: 주의
ALERT_OWNER_TR: 할당되지 않음
AFFECTED_RESOURCE_KIND_TR: 가상 시스템
ALERT_GENERATE_TIME_TR: 02-18 12:53 대한민국 표준시
ALERT_UPDATE_TIME_TR: -
ALERT_CANCEL_TIME_TR: 02-18 15:03 대한민국 표준시
ALERT_TYPE_TR: 가상화·하이퍼바이저
ALERT_SUBTYPE_TR: 성능
RESOURCE_HEALTH_STATE_TR: 정보
RESOURCE_RISK_STATE_TR: 주의
RESOURCE_EFFICIENCY_STATE_TR: 정보
ANOMALIES_TR: [{'Relation': 'self', 'Symptom Index': '1-1', 'Symptom Name': '가상 시스템 CPU 공동 중지가 주의 수준임', 'Object Name': 'SQLMGNT', 'Object ID': '79422165-7475-4939-ac8e-d3f0139d81ed', 'Metric': 'CPU|공동 중지 (%)', 'Message Info': '7.44 > 5.0', 'StatKey': 'cpu|costopPct', 'Criticality': 'Warning'}, {'Relation': 'self', 'Symptom Index': '2-1', 'Symptom Name': '가상 시스템에서 제거할 vCPU 수', 'Object Name': 'SQLMGNT', 'Object ID': '79422165-7475-4939-ac8e-d3f0139d81ed', 'Metric': 'CPU|제거할 권장 vCPU 수', 'Message Info': '1.0 > 0.0', 'StatKey': 'cpu|numberToRemove', 'Criticality': 'Information'}]
ALERT_RECOMMENDATION_TR: ['나열된 증상을 검토하고 증상에서 권장하는 대로 가상 시스템에서 vCPU의 수를 제거하십시오.']


2018-02-18 19:20:40,131 DEBUG smtpserver Email Message (RAW):
From: vRealize Operations <vRealizeOps-admin@example.com>
To: admin@vrops.kccworld.co.kr
Message-ID: <173427915.4122.1518949239851.JavaMail.admin@vrops.kccworld.co.kr>
Subject: =?UTF-8?Q?[vRealize_Operations_Manager]?=
 =?UTF-8?Q?_(Canceled)_SQL?= =?UTF-8?Q?MGNT_-_?=
 =?UTF-8?Q?=EA=B0=80=EC=83=81_=EC=8B=9C?=
 =?UTF-8?Q?=EC=8A=A4=ED=85=9C=EC=97=90=EC=84=9C?=
 =?UTF-8?Q?_=EC=A7=80=EB=82=98=EC=B9=98=EA=B2=8C_=EB=A7=8E?=
 =?UTF-8?Q?=EC=9D=80_vCPU=EB=A1=9C?=
 =?UTF-8?Q?_=EC=9D=B8=ED=95=B4_=EB=B0=9C=EC=83=9D=ED=95=9C?=
 =?UTF-8?Q?_=EB=8B=A4=EC=A4=91_vCPU?=
 =?UTF-8?Q?_=EC=8A=A4=EC=BC=80=EC=A4=84_=EB=AC=B8=EC=A0=9C?=
 =?UTF-8?Q?(=EA=B3=B5=EB=8F=99_=EC=A4=91=EC=A7=80)=EB=A1=9C?=
 =?UTF-8?Q?_=EC=9D=B8=ED=95=B4_CPU?=
 =?UTF-8?Q?_=EA=B2=BD=ED=95=A9=EC=9D=B4_=EB=B0=9C=EC=83=9D=ED=95=A8?=
MIME-Version: 1.0
Content-Type: text/html; charset=utf-8
Content-Transfer-Encoding: quoted-printable

<html><span>ALERT_STATUS: Canceled</span><span>ALERT_IMPACT: risk</span><sp=
an>ALERT_CRITICALITY: AlertLevel: Warning</span><span>ALERT_DEFINITION_NAME=
: =EA=B0=80=EC=83=81 =EC=8B=9C=EC=8A=A4=ED=85=9C=EC=97=90=EC=84=9C =EC=A7=
=80=EB=82=98=EC=B9=98=EA=B2=8C =EB=A7=8E=EC=9D=80 vCPU=EB=A1=9C =EC=9D=B8=
=ED=95=B4 =EB=B0=9C=EC=83=9D=ED=95=9C =EB=8B=A4=EC=A4=91 vCPU =EC=8A=A4=EC=
=BC=80=EC=A4=84 =EB=AC=B8=EC=A0=9C(=EA=B3=B5=EB=8F=99 =EC=A4=91=EC=A7=80)=
=EB=A1=9C =EC=9D=B8=ED=95=B4 CPU =EA=B2=BD=ED=95=A9=EC=9D=B4 =EB=B0=9C=EC=
=83=9D=ED=95=A8</span><span>ALERT_ID: 78015478-2c1a-4596-b291-d6c92a97eb7b<=
/span><span>ALERT_OWNER: Unable to retrieve value</span><span>ALERT_DEFINIT=
ION_DESC: =EA=B0=80=EC=83=81 =EC=8B=9C=EC=8A=A4=ED=85=9C=EC=9D=98 =EA=B3=B5=
=EB=8F=99 =EC=A4=91=EC=A7=80=EC=9C=A8=EC=9D=B4 =EB=86=92=EC=8A=B5=EB=8B=88=
=EB=8B=A4. =EA=B3=B5=EB=8F=99 =EC=A4=91=EC=A7=80=EB=8A=94 =EA=B0=80=EC=83=
=81 =EC=8B=9C=EC=8A=A4=ED=85=9C=EC=9D=B4 =EC=8B=A4=ED=96=89=EB=90=A0 =EC=A4=
=80=EB=B9=84=EA=B0=80 =EB=90=98=EC=97=88=EC=A7=80=EB=A7=8C =EA=B3=B5=EB=8F=
=99 vCPU =EC=8A=A4=EC=BC=80=EC=A4=84 =EA=B2=BD=ED=95=A9 =EB=95=8C=EB=AC=B8=
=EC=97=90 =EC=A7=80=EC=97=B0=EC=9D=B4 =EB=B0=9C=EC=83=9D=ED=95=98=EB=8A=94 =
=EC=8B=9C=EA=B0=84=EC=9D=84 =EB=82=98=ED=83=80=EB=83=85=EB=8B=88=EB=8B=A4. =
=EA=B0=80=EC=83=81 =EC=8B=9C=EC=8A=A4=ED=85=9C=EC=97=90 =EB=84=88=EB=AC=B4 =
=EB=A7=8E=EC=9D=80 vCPU=EA=B0=80 =EA=B5=AC=EC=84=B1=EB=90=98=EC=96=B4 =EC=
=9E=88=EA=B3=A0 =EB=AC=BC=EB=A6=AC=EC=A0=81 CPU=EA=B0=80 =EB=B6=80=EC=A1=B1=
=ED=95=98=EC=97=AC =EA=B3=B5=EB=8F=99 vCPU =EC=8A=A4=EC=BC=80=EC=A4=84=EC=
=9D=84 =EA=B4=80=EB=A6=AC=ED=95=A0 =EC=88=98 =EC=97=86=EC=9D=84 =EA=B2=BD=
=EC=9A=B0 =EA=B3=B5=EB=8F=99 =EC=A4=91=EC=A7=80=EC=9C=A8=EC=9D=B4 =EB=86=92=
=EC=95=84=EC=A7=91=EB=8B=88=EB=8B=A4.</span><span>AFFECTED_RESOURCE_NAME: S=
QLMGNT</span><span>AFFECTED_RESOURCE_KIND: VirtualMachine</span><span>ALERT=
_GENERATE_TIME: Sun Feb 18 17:48:47 KST 2018</span><span>ALERT_UPDATE_TIME:=
 Sun Feb 18 17:48:47 KST 2018</span><span>ALERT_CANCEL_TIME: Sun Feb 18 19:=
03:47 KST 2018</span><span>ANOMALIES: SYMPTOM SET - self<br><table border=
=3D'1'><th>Symptom Name</th><th>Object Name</th><th>Object ID</th><th>Metri=
c</th><th>Message Info</th><tr><td>=EA=B0=80=EC=83=81 =EC=8B=9C=EC=8A=A4=ED=
=85=9C CPU =EA=B3=B5=EB=8F=99 =EC=A4=91=EC=A7=80=EA=B0=80 =EC=A3=BC=EC=9D=
=98 =EC=88=98=EC=A4=80=EC=9E=84</td><td>SQLMGNT</td><td>79422165-7475-4939-=
ac8e-d3f0139d81ed</td><td>cpu|costopPct</td><td>7.34 > 5.0</td></tr></table=
>SYMPTOM SET - self<br><table border=3D'1'><th>Symptom Name</th><th>Object =
Name</th><th>Object ID</th><th>Metric</th><th>Message Info</th><tr><td>=EA=
=B0=80=EC=83=81 =EC=8B=9C=EC=8A=A4=ED=85=9C=EC=97=90=EC=84=9C =EC=A0=9C=EA=
=B1=B0=ED=95=A0 vCPU =EC=88=98</td><td>SQLMGNT</td><td>79422165-7475-4939-a=
c8e-d3f0139d81ed</td><td>cpu|numberToRemove</td><td>1.0 > 0.0</td></tr></ta=
ble></span><span>ALERT_TYPE: Virtualization Problem</span><span>ALERT_SUBTY=
PE: Performance Problem</span><span>CHILDREN_HEALTH: </span><span>PARENT_HE=
ALTH: </span><span>FILTER_RULE_NAME: Dev SMTP (=EC=A0=84=EC=B2=B4)</span><s=
pan>FILTER_RULE_DESC: </span><span>ALERT_SUMMARY_LINK: https://70.11.11.217=
/ui/index.action#/object/79422165-7475-4939-ac8e-d3f0139d81ed/alertsAndSymp=
toms/alerts/78015478-2c1a-4596-b291-d6c92a97eb7b</span><span>ALERT_RECOMMEN=
DATION: <br>- =EB=82=98=EC=97=B4=EB=90=9C =EC=A6=9D=EC=83=81=EC=9D=84 =EA=
=B2=80=ED=86=A0=ED=95=98=EA=B3=A0 =EC=A6=9D=EC=83=81=EC=97=90=EC=84=9C =EA=
=B6=8C=EC=9E=A5=ED=95=98=EB=8A=94 =EB=8C=80=EB=A1=9C =EA=B0=80=EC=83=81 =EC=
=8B=9C=EC=8A=A4=ED=85=9C=EC=97=90=EC=84=9C vCPU=EC=9D=98 =EC=88=98=EB=A5=BC=
 =EC=A0=9C=EA=B1=B0=ED=95=98=EC=8B=AD=EC=8B=9C=EC=98=A4.</span><span>RESOUR=
CE_HEALTH_STATE: 1.0</span><span>RESOURCE_RISK_STATE: 2.0</span><span>RESOU=
RCE_EFFICIENCY_STATE: 1.0</span><BR></html>

2018-02-18 19:20:40,143 DEBUG smtpserver Email Content (Decoded):
<html><span>ALERT_STATUS: Canceled</span><span>ALERT_IMPACT: risk</span><span>ALERT_CRITICALITY: AlertLevel: Warning</span><span>ALERT_DEFINITION_NAME: 가상 시스템에서 지나치게 많은 vCPU로 인해 발생한 다중 vCPU 스케줄 문제(공동 중지)로 인해 CPU 경합이 발생함</span><span>ALERT_ID: 78015478-2c1a-4596-b291-d6c92a97eb7b</span><span>ALERT_OWNER: Unable to retrieve value</span><span>ALERT_DEFINITION_DESC: 가상 시스템의 공동 중지율이 높습니다. 공동 중지는 가상 시스템이 실행될 준비가 되었지만 공동 vCPU 스케줄 경합 때문에 지연이 발생하는 시간을 나타냅니다. 가상 시스템에 너무 많은 vCPU가 구성되어 있고 물리적 CPU가 부족하여 공동 vCPU 스케줄을 관리할 수 없을 경우 공동 중지율이 높아집니다.</span><span>AFFECTED_RESOURCE_NAME: SQLMGNT</span><span>AFFECTED_RESOURCE_KIND: VirtualMachine</span><span>ALERT_GENERATE_TIME: Sun Feb 18 17:48:47 KST 2018</span><span>ALERT_UPDATE_TIME: Sun Feb 18 17:48:47 KST 2018</span><span>ALERT_CANCEL_TIME: Sun Feb 18 19:03:47 KST 2018</span><span>ANOMALIES: SYMPTOM SET - self<br><table border='1'><th>Symptom Name</th><th>Object Name</th><th>Object ID</th><th>Metric</th><th>Message Info</th><tr><td>가상 시스템 CPU 공동 중지가 주의 수준임</td><td>SQLMGNT</td><td>79422165-7475-4939-ac8e-d3f0139d81ed</td><td>cpu|costopPct</td><td>7.34 > 5.0</td></tr></table>SYMPTOM SET - self<br><table border='1'><th>Symptom Name</th><th>Object Name</th><th>Object ID</th><th>Metric</th><th>Message Info</th><tr><td>가상 시스템에서 제거할 vCPU 수</td><td>SQLMGNT</td><td>79422165-7475-4939-ac8e-d3f0139d81ed</td><td>cpu|numberToRemove</td><td>1.0 > 0.0</td></tr></table></span><span>ALERT_TYPE: Virtualization Problem</span><span>ALERT_SUBTYPE: Performance Problem</span><span>CHILDREN_HEALTH: </span><span>PARENT_HEALTH: </span><span>FILTER_RULE_NAME: Dev SMTP (전체)</span><span>FILTER_RULE_DESC: </span><span>ALERT_SUMMARY_LINK: https://70.11.11.217/ui/index.action#/object/79422165-7475-4939-ac8e-d3f0139d81ed/alertsAndSymptoms/alerts/78015478-2c1a-4596-b291-d6c92a97eb7b</span><span>ALERT_RECOMMENDATION: <br>- 나열된 증상을 검토하고 증상에서 권장하는 대로 가상 시스템에서 vCPU의 수를 제거하십시오.</span><span>RESOURCE_HEALTH_STATE: 1.0</span><span>RESOURCE_RISK_STATE: 2.0</span><span>RESOURCE_EFFICIENCY_STATE: 1.0</span><BR></html>

2018-02-18 19:20:40,149 DEBUG smtpserver Anomalies:
[{'Relation': 'self', 'Symptom Index': '1-1', 'Symptom Name': '가상 시스템 CPU 공동 중지가 주의 수준임', 'Object Name': 'SQLMGNT', 'Object ID': '79422165-7475-4939-ac8e-d3f0139d81ed', 'Metric': 'cpu|costopPct', 'Message Info': '7.34 > 5.0'}, {'Relation': 'self', 'Symptom Index': '2-1', 'Symptom Name': '가상 시스템에서 제거할 vCPU 수', 'Object Name': 'SQLMGNT', 'Object ID': '79422165-7475-4939-ac8e-d3f0139d81ed', 'Metric': 'cpu|numberToRemove', 'Message Info': '1.0 > 0.0'}]

2018-02-18 19:20:40,150 DEBUG smtpserver get_symptom_definition_summary() Fetching alert detail from: https://vrops.kccworld.co.kr/suite-api/api/alerts/78015478-2c1a-4596-b291-d6c92a97eb7b
2018-02-18 19:20:40,253 DEBUG smtpserver get_symptom_definition_summary() alert_definition_id: AlertDefinition-VMWARE-CPUContentionDueToCostop
2018-02-18 19:20:40,254 DEBUG smtpserver get_symptom_definition_summary() Fetching alert definition from: https://vrops.kccworld.co.kr/suite-api/api/alertdefinitions/AlertDefinition-VMWARE-CPUContentionDueToCostop
2018-02-18 19:20:40,397 DEBUG smtpserver get_symptom_definition_summary() alert_definition:
{'id': 'AlertDefinition-VMWARE-CPUContentionDueToCostop', 'name': '가상 시스템에서 지나치게 많은 vCPU로 인해 발생한 다중 vCPU 스케줄 문제(공동 중지)로 인해 CPU 경합이 발생함', 'description': '가상 시스템의 공동 중지율이 높습니다. 공동 중지는 가상 시스템이 실행될 준비가 되었지만 공동 vCPU 스케줄 경합 때문에 지연이 발생하는 시간을 나타냅니다. 가상 시스템에 너무 많은 vCPU가 구성되어 있고 물리적 CPU가 부족하여 공동 vCPU 스케줄을 관리할 수 없을 경우 공동 중지율이 높아집니다.', 'adapterKindKey': 'VMWARE', 'resourceKindKey': 'VirtualMachine', 'waitCycles': 1, 'cancelCycles': 1, 'type': 16, 'subType': 19, 'states': [{'severity': 'AUTO', 'base-symptom-set': {'type': 'SYMPTOM_SET_COMPOSITE', 'operator': 'AND', 'symptom-sets': [{'type': 'SYMPTOM_SET', 'relation': 'SELF', 'symptomSetOperator': 'AND', 'symptomDefinitionIds': ['SymptomDefinition-VMWARE-VMNumCPUsToRemove', '!SymptomDefinition-VMWARE-VMPoweredOff']}, {'type': 'SYMPTOM_SET', 'relation': 'SELF', 'symptomSetOperator': 'OR', 'symptomDefinitionIds': ['SymptomDefinition-VMWARE-VMCpuCostopCritical', 'SymptomDefinition-VMWARE-VMCpuCostopWarning', 'SymptomDefinition-VMWARE-VMCpuCostopImmediate']}]}, 'impact': {'impactType': 'BADGE', 'detail': 'risk'}, 'recommendationPriorityMap': {'Recommendation-df-VMWARE-RemoveRecommendedCPUs': 1}}]}

2018-02-18 19:20:40,405 DEBUG smtpserver get_symptom_definition_summary() symptom_sets:
[{'type': 'SYMPTOM_SET', 'relation': 'SELF', 'symptomSetOperator': 'AND', 'symptomDefinitionIds': ['SymptomDefinition-VMWARE-VMNumCPUsToRemove', '!SymptomDefinition-VMWARE-VMPoweredOff']}, {'type': 'SYMPTOM_SET', 'relation': 'SELF', 'symptomSetOperator': 'OR', 'symptomDefinitionIds': ['SymptomDefinition-VMWARE-VMCpuCostopCritical', 'SymptomDefinition-VMWARE-VMCpuCostopWarning', 'SymptomDefinition-VMWARE-VMCpuCostopImmediate']}]

2018-02-18 19:20:40,407 DEBUG smtpserver get_symptom_definition_summary() symptom_definition_ids:
['SymptomDefinition-VMWARE-VMCpuCostopCritical', 'SymptomDefinition-VMWARE-VMCpuCostopImmediate', 'SymptomDefinition-VMWARE-VMCpuCostopWarning', 'SymptomDefinition-VMWARE-VMNumCPUsToRemove', 'SymptomDefinition-VMWARE-VMPoweredOff']

2018-02-18 19:20:41,080 DEBUG smtpserver get_symptom_definition_summary() symptom_definitions:
[{'id': 'SymptomDefinition-VMWARE-VMCpuCostopWarning', 'name': '가상 시스템 CPU 공동 중지가 주의 수준임', 'adapterKindKey': 'VMWARE', 'resourceKindKey': 'VirtualMachine', 'waitCycles': 3, 'cancelCycles': 3, 'state': {'severity': 'WARNING', 'condition': {'type': 'CONDITION_HT', 'key': 'cpu|costopPct', 'operator': 'GT', 'value': '5.0', 'valueType': 'NUMERIC', 'instanced': False, 'thresholdType': 'STATIC'}}}, {'id': 'SymptomDefinition-VMWARE-VMCpuCostopImmediate', 'name': '가상 시스템 CPU 공동 중지가 즉시 수준임', 'adapterKindKey': 'VMWARE', 'resourceKindKey': 'VirtualMachine', 'waitCycles': 3, 'cancelCycles': 3, 'state': {'severity': 'IMMEDIATE', 'condition': {'type': 'CONDITION_HT', 'key': 'cpu|costopPct', 'operator': 'GT', 'value': '10.0', 'valueType': 'NUMERIC', 'instanced': False, 'thresholdType': 'STATIC'}}}, {'id': 'SymptomDefinition-VMWARE-VMCpuCostopCritical', 'name': '가상 시스템 CPU 공동 중지가 위험 수준임', 'adapterKindKey': 'VMWARE', 'resourceKindKey': 'VirtualMachine', 'waitCycles': 3, 'cancelCycles': 3, 'state': {'severity': 'CRITICAL', 'condition': {'type': 'CONDITION_HT', 'key': 'cpu|costopPct', 'operator': 'GT', 'value': '15.0', 'valueType': 'NUMERIC', 'instanced': False, 'thresholdType': 'STATIC'}}}, {'id': 'SymptomDefinition-VMWARE-VMNumCPUsToRemove', 'name': '가상 시스템에서 제거할 vCPU 수', 'adapterKindKey': 'VMWARE', 'resourceKindKey': 'VirtualMachine', 'waitCycles': 1, 'cancelCycles': 1, 'state': {'severity': 'INFORMATION', 'condition': {'type': 'CONDITION_HT', 'key': 'cpu|numberToRemove', 'operator': 'GT', 'value': '0.0', 'valueType': 'NUMERIC', 'instanced': False, 'thresholdType': 'STATIC'}}}, {'id': 'SymptomDefinition-VMWARE-VMPoweredOff', 'name': '가상 시스템 전원 꺼짐', 'adapterKindKey': 'VMWARE', 'resourceKindKey': 'VirtualMachine', 'waitCycles': 1, 'cancelCycles': 1, 'state': {'severity': 'INFORMATION', 'condition': {'type': 'CONDITION_HT', 'key': 'sys|poweredOn', 'operator': 'EQ', 'value': '0.0', 'valueType': 'NUMERIC', 'instanced': False, 'thresholdType': 'STATIC'}}}]

2018-02-18 19:20:41,089 DEBUG smtpserver get_symptom_definition_summary() symptom_definition_summary:
[{'name': '가상 시스템 CPU 공동 중지가 주의 수준임', 'adapterKindKey': 'VMWARE', 'resourceKindKey': 'VirtualMachine', 'severity': 'WARNING', 'type': 'CONDITION_HT', 'key': 'cpu|costopPct', 'instanced': False}, {'name': '가상 시스템 CPU 공동 중지가 즉시 수준임', 'adapterKindKey': 'VMWARE', 'resourceKindKey': 'VirtualMachine', 'severity': 'IMMEDIATE', 'type': 'CONDITION_HT', 'key': 'cpu|costopPct', 'instanced': False}, {'name': '가상 시스템 CPU 공동 중지가 위험 수준임', 'adapterKindKey': 'VMWARE', 'resourceKindKey': 'VirtualMachine', 'severity': 'CRITICAL', 'type': 'CONDITION_HT', 'key': 'cpu|costopPct', 'instanced': False}, {'name': '가상 시스템에서 제거할 vCPU 수', 'adapterKindKey': 'VMWARE', 'resourceKindKey': 'VirtualMachine', 'severity': 'INFORMATION', 'type': 'CONDITION_HT', 'key': 'cpu|numberToRemove', 'instanced': False}, {'name': '가상 시스템 전원 꺼짐', 'adapterKindKey': 'VMWARE', 'resourceKindKey': 'VirtualMachine', 'severity': 'INFORMATION', 'type': 'CONDITION_HT', 'key': 'sys|poweredOn', 'instanced': False}]

2018-02-18 19:20:41,091 DEBUG smtpserver get_localized_metric() Localized metric: cpu|costopPct => CPU|공동 중지 (%)
2018-02-18 19:20:41,093 DEBUG smtpserver get_localized_metric() statkey: cpu|costopPct
2018-02-18 19:20:41,096 DEBUG smtpserver get_localized_metric() Localized metric: cpu|numberToRemove => CPU|제거할 권장 vCPU 수
2018-02-18 19:20:41,103 DEBUG smtpserver get_localized_metric() statkey: cpu|numberToRemove
2018-02-18 19:20:41,107 DEBUG smtpserver Parsed Alert:
ALERT_STATUS: Canceled
ALERT_IMPACT: risk
ALERT_CRITICALITY: Warning
ALERT_DEFINITION_NAME: 가상 시스템에서 지나치게 많은 vCPU로 인해 발생한 다중 vCPU 스케줄 문제(공동 중지)로 인해 CPU 경합이 발생함
ALERT_ID: 78015478-2c1a-4596-b291-d6c92a97eb7b
ALERT_OWNER: Unable to retrieve value
ALERT_DEFINITION_DESC: 가상 시스템의 공동 중지율이 높습니다. 공동 중지는 가상 시스템이 실행될 준비가 되었지만 공동 vCPU 스케줄 경합 때문에 지연이 발생하는 시간을 나타냅니다. 가상 시스템에 너무 많은 vCPU가 구성되어 있고 물리적 CPU가 부족하여 공동 vCPU 스케줄을 관리할 수 없을 경우 공동 중지율이 높아집니다.
AFFECTED_RESOURCE_NAME: SQLMGNT
AFFECTED_RESOURCE_KIND: VirtualMachine
ALERT_GENERATE_TIME: Sun Feb 18 17:48:47 KST 2018
ALERT_UPDATE_TIME: Sun Feb 18 17:48:47 KST 2018
ALERT_CANCEL_TIME: Sun Feb 18 19:03:47 KST 2018
ANOMALIES: <span>ANOMALIES: SYMPTOM SET - self<br/><table border="1"><th>Symptom Name</th><th>Object Name</th><th>Object ID</th><th>Metric</th><th>Message Info</th><tr><td>가상 시스템 CPU 공동 중지가 주의 수준임</td><td>SQLMGNT</td><td>79422165-7475-4939-ac8e-d3f0139d81ed</td><td>cpu|costopPct</td><td>7.34 &gt; 5.0</td></tr></table>SYMPTOM SET - self<br/><table border="1"><th>Symptom Name</th><th>Object Name</th><th>Object ID</th><th>Metric</th><th>Message Info</th><tr><td>가상 시스템에서 제거할 vCPU 수</td><td>SQLMGNT</td><td>79422165-7475-4939-ac8e-d3f0139d81ed</td><td>cpu|numberToRemove</td><td>1.0 &gt; 0.0</td></tr></table></span>
ALERT_TYPE: Virtualization Problem
ALERT_SUBTYPE: Performance Problem
CHILDREN_HEALTH: 
PARENT_HEALTH: 
FILTER_RULE_NAME: Dev SMTP (전체)
FILTER_RULE_DESC: 
ALERT_SUMMARY_LINK: https://70.11.11.217/ui/index.action#/object/79422165-7475-4939-ac8e-d3f0139d81ed/alertsAndSymptoms/alerts/78015478-2c1a-4596-b291-d6c92a97eb7b
ALERT_RECOMMENDATION: <span>ALERT_RECOMMENDATION: <br/>- 나열된 증상을 검토하고 증상에서 권장하는 대로 가상 시스템에서 vCPU의 수를 제거하십시오.</span>
RESOURCE_HEALTH_STATE: 1.0
RESOURCE_RISK_STATE: 2.0
RESOURCE_EFFICIENCY_STATE: 1.0
ALERT_STATUS_TR: 경고 취소
ALERT_IMPACT_TR: 위험
ALERT_CRITICALITY_TR: 주의
ALERT_OWNER_TR: 할당되지 않음
AFFECTED_RESOURCE_KIND_TR: 가상 시스템
ALERT_GENERATE_TIME_TR: 02-18 17:48 대한민국 표준시
ALERT_UPDATE_TIME_TR: -
ALERT_CANCEL_TIME_TR: 02-18 19:03 대한민국 표준시
ALERT_TYPE_TR: 가상화·하이퍼바이저
ALERT_SUBTYPE_TR: 성능
RESOURCE_HEALTH_STATE_TR: 정보
RESOURCE_RISK_STATE_TR: 주의
RESOURCE_EFFICIENCY_STATE_TR: 정보
ANOMALIES_TR: [{'Relation': 'self', 'Symptom Index': '1-1', 'Symptom Name': '가상 시스템 CPU 공동 중지가 주의 수준임', 'Object Name': 'SQLMGNT', 'Object ID': '79422165-7475-4939-ac8e-d3f0139d81ed', 'Metric': 'CPU|공동 중지 (%)', 'Message Info': '7.34 > 5.0', 'StatKey': 'cpu|costopPct', 'Criticality': 'Warning'}, {'Relation': 'self', 'Symptom Index': '2-1', 'Symptom Name': '가상 시스템에서 제거할 vCPU 수', 'Object Name': 'SQLMGNT', 'Object ID': '79422165-7475-4939-ac8e-d3f0139d81ed', 'Metric': 'CPU|제거할 권장 vCPU 수', 'Message Info': '1.0 > 0.0', 'StatKey': 'cpu|numberToRemove', 'Criticality': 'Information'}]
ALERT_RECOMMENDATION_TR: ['나열된 증상을 검토하고 증상에서 권장하는 대로 가상 시스템에서 vCPU의 수를 제거하십시오.']


2018-02-18 19:20:44,232 DEBUG smtpserver Email Message (RAW):
From: vRealize Operations <vRealizeOps-admin@example.com>
To: admin@vrops.kccworld.co.kr
Message-ID: <241813849.4123.1518949243962.JavaMail.admin@vrops.kccworld.co.kr>
Subject: =?UTF-8?Q?[vRealize_Operations_Manager]?=
 =?UTF-8?Q?_(Generated)_SQ?=
 =?UTF-8?Q?LMGNT_-_=EA=B0=80=EC=83=81_=EC=8B=9C=EC=8A=A4=ED=85=9C=EC=97=90?=
 =?UTF-8?Q?=EC=84=9C_=EC=A7=80=EB=82=98=EC=B9=98=EA=B2=8C_?=
 =?UTF-8?Q?=EB=A7=8E=EC=9D=80_vCPU=EB=A1=9C?=
 =?UTF-8?Q?_=EC=9D=B8=ED=95=B4_=EB=B0=9C=EC=83=9D=ED=95=9C?=
 =?UTF-8?Q?_=EB=8B=A4=EC=A4=91_vCPU?=
 =?UTF-8?Q?_=EC=8A=A4=EC=BC=80=EC=A4=84_=EB=AC=B8=EC=A0=9C?=
 =?UTF-8?Q?(=EA=B3=B5=EB=8F=99_=EC=A4=91=EC=A7=80)=EB=A1=9C?=
 =?UTF-8?Q?_=EC=9D=B8=ED=95=B4_CPU?=
 =?UTF-8?Q?_=EA=B2=BD=ED=95=A9=EC=9D=B4_=EB=B0=9C=EC=83=9D=ED=95=A8?=
MIME-Version: 1.0
Content-Type: text/html; charset=utf-8
Content-Transfer-Encoding: quoted-printable

<html><span>ALERT_STATUS: Generated</span><span>ALERT_IMPACT: risk</span><s=
pan>ALERT_CRITICALITY: AlertLevel: Warning</span><span>ALERT_DEFINITION_NAM=
E: =EA=B0=80=EC=83=81 =EC=8B=9C=EC=8A=A4=ED=85=9C=EC=97=90=EC=84=9C =EC=A7=
=80=EB=82=98=EC=B9=98=EA=B2=8C =EB=A7=8E=EC=9D=80 vCPU=EB=A1=9C =EC=9D=B8=
=ED=95=B4 =EB=B0=9C=EC=83=9D=ED=95=9C =EB=8B=A4=EC=A4=91 vCPU =EC=8A=A4=EC=
=BC=80=EC=A4=84 =EB=AC=B8=EC=A0=9C(=EA=B3=B5=EB=8F=99 =EC=A4=91=EC=A7=80)=
=EB=A1=9C =EC=9D=B8=ED=95=B4 CPU =EA=B2=BD=ED=95=A9=EC=9D=B4 =EB=B0=9C=EC=
=83=9D=ED=95=A8</span><span>ALERT_ID: 78015478-2c1a-4596-b291-d6c92a97eb7b<=
/span><span>ALERT_OWNER: Unable to retrieve value</span><span>ALERT_DEFINIT=
ION_DESC: =EA=B0=80=EC=83=81 =EC=8B=9C=EC=8A=A4=ED=85=9C=EC=9D=98 =EA=B3=B5=
=EB=8F=99 =EC=A4=91=EC=A7=80=EC=9C=A8=EC=9D=B4 =EB=86=92=EC=8A=B5=EB=8B=88=
=EB=8B=A4. =EA=B3=B5=EB=8F=99 =EC=A4=91=EC=A7=80=EB=8A=94 =EA=B0=80=EC=83=
=81 =EC=8B=9C=EC=8A=A4=ED=85=9C=EC=9D=B4 =EC=8B=A4=ED=96=89=EB=90=A0 =EC=A4=
=80=EB=B9=84=EA=B0=80 =EB=90=98=EC=97=88=EC=A7=80=EB=A7=8C =EA=B3=B5=EB=8F=
=99 vCPU =EC=8A=A4=EC=BC=80=EC=A4=84 =EA=B2=BD=ED=95=A9 =EB=95=8C=EB=AC=B8=
=EC=97=90 =EC=A7=80=EC=97=B0=EC=9D=B4 =EB=B0=9C=EC=83=9D=ED=95=98=EB=8A=94 =
=EC=8B=9C=EA=B0=84=EC=9D=84 =EB=82=98=ED=83=80=EB=83=85=EB=8B=88=EB=8B=A4. =
=EA=B0=80=EC=83=81 =EC=8B=9C=EC=8A=A4=ED=85=9C=EC=97=90 =EB=84=88=EB=AC=B4 =
=EB=A7=8E=EC=9D=80 vCPU=EA=B0=80 =EA=B5=AC=EC=84=B1=EB=90=98=EC=96=B4 =EC=
=9E=88=EA=B3=A0 =EB=AC=BC=EB=A6=AC=EC=A0=81 CPU=EA=B0=80 =EB=B6=80=EC=A1=B1=
=ED=95=98=EC=97=AC =EA=B3=B5=EB=8F=99 vCPU =EC=8A=A4=EC=BC=80=EC=A4=84=EC=
=9D=84 =EA=B4=80=EB=A6=AC=ED=95=A0 =EC=88=98 =EC=97=86=EC=9D=84 =EA=B2=BD=
=EC=9A=B0 =EA=B3=B5=EB=8F=99 =EC=A4=91=EC=A7=80=EC=9C=A8=EC=9D=B4 =EB=86=92=
=EC=95=84=EC=A7=91=EB=8B=88=EB=8B=A4.</span><span>AFFECTED_RESOURCE_NAME: S=
QLMGNT</span><span>AFFECTED_RESOURCE_KIND: VirtualMachine</span><span>ALERT=
_GENERATE_TIME: Sun Feb 18 17:48:47 KST 2018</span><span>ALERT_UPDATE_TIME:=
 Sun Feb 18 17:48:47 KST 2018</span><span>ALERT_CANCEL_TIME: </span><span>A=
NOMALIES: SYMPTOM SET - self<br><table border=3D'1'><th>Symptom Name</th><t=
h>Object Name</th><th>Object ID</th><th>Metric</th><th>Message Info</th><tr=
><td>=EA=B0=80=EC=83=81 =EC=8B=9C=EC=8A=A4=ED=85=9C CPU =EA=B3=B5=EB=8F=99 =
=EC=A4=91=EC=A7=80=EA=B0=80 =EC=A3=BC=EC=9D=98 =EC=88=98=EC=A4=80=EC=9E=84<=
/td><td>SQLMGNT</td><td>79422165-7475-4939-ac8e-d3f0139d81ed</td><td>cpu|co=
stopPct</td><td>7.34 > 5.0</td></tr></table>SYMPTOM SET - self<br><table bo=
rder=3D'1'><th>Symptom Name</th><th>Object Name</th><th>Object ID</th><th>M=
etric</th><th>Message Info</th><tr><td>=EA=B0=80=EC=83=81 =EC=8B=9C=EC=8A=
=A4=ED=85=9C=EC=97=90=EC=84=9C =EC=A0=9C=EA=B1=B0=ED=95=A0 vCPU =EC=88=98</=
td><td>SQLMGNT</td><td>79422165-7475-4939-ac8e-d3f0139d81ed</td><td>cpu|num=
berToRemove</td><td>1.0 > 0.0</td></tr></table></span><span>ALERT_TYPE: Vir=
tualization Problem</span><span>ALERT_SUBTYPE: Performance Problem</span><s=
pan>CHILDREN_HEALTH: </span><span>PARENT_HEALTH: </span><span>FILTER_RULE_N=
AME: Dev SMTP (=EC=A0=84=EC=B2=B4)</span><span>FILTER_RULE_DESC: </span><sp=
an>ALERT_SUMMARY_LINK: https://70.11.11.217/ui/index.action#/object/7942216=
5-7475-4939-ac8e-d3f0139d81ed/alertsAndSymptoms/alerts/78015478-2c1a-4596-b=
291-d6c92a97eb7b</span><span>ALERT_RECOMMENDATION: <br>- =EB=82=98=EC=97=B4=
=EB=90=9C =EC=A6=9D=EC=83=81=EC=9D=84 =EA=B2=80=ED=86=A0=ED=95=98=EA=B3=A0 =
=EC=A6=9D=EC=83=81=EC=97=90=EC=84=9C =EA=B6=8C=EC=9E=A5=ED=95=98=EB=8A=94 =
=EB=8C=80=EB=A1=9C =EA=B0=80=EC=83=81 =EC=8B=9C=EC=8A=A4=ED=85=9C=EC=97=90=
=EC=84=9C vCPU=EC=9D=98 =EC=88=98=EB=A5=BC =EC=A0=9C=EA=B1=B0=ED=95=98=EC=
=8B=AD=EC=8B=9C=EC=98=A4.</span><span>RESOURCE_HEALTH_STATE: 1.0</span><spa=
n>RESOURCE_RISK_STATE: 2.0</span><span>RESOURCE_EFFICIENCY_STATE: 1.0</span=
><BR></html>

2018-02-18 19:20:44,237 DEBUG smtpserver Email Content (Decoded):
<html><span>ALERT_STATUS: Generated</span><span>ALERT_IMPACT: risk</span><span>ALERT_CRITICALITY: AlertLevel: Warning</span><span>ALERT_DEFINITION_NAME: 가상 시스템에서 지나치게 많은 vCPU로 인해 발생한 다중 vCPU 스케줄 문제(공동 중지)로 인해 CPU 경합이 발생함</span><span>ALERT_ID: 78015478-2c1a-4596-b291-d6c92a97eb7b</span><span>ALERT_OWNER: Unable to retrieve value</span><span>ALERT_DEFINITION_DESC: 가상 시스템의 공동 중지율이 높습니다. 공동 중지는 가상 시스템이 실행될 준비가 되었지만 공동 vCPU 스케줄 경합 때문에 지연이 발생하는 시간을 나타냅니다. 가상 시스템에 너무 많은 vCPU가 구성되어 있고 물리적 CPU가 부족하여 공동 vCPU 스케줄을 관리할 수 없을 경우 공동 중지율이 높아집니다.</span><span>AFFECTED_RESOURCE_NAME: SQLMGNT</span><span>AFFECTED_RESOURCE_KIND: VirtualMachine</span><span>ALERT_GENERATE_TIME: Sun Feb 18 17:48:47 KST 2018</span><span>ALERT_UPDATE_TIME: Sun Feb 18 17:48:47 KST 2018</span><span>ALERT_CANCEL_TIME: </span><span>ANOMALIES: SYMPTOM SET - self<br><table border='1'><th>Symptom Name</th><th>Object Name</th><th>Object ID</th><th>Metric</th><th>Message Info</th><tr><td>가상 시스템 CPU 공동 중지가 주의 수준임</td><td>SQLMGNT</td><td>79422165-7475-4939-ac8e-d3f0139d81ed</td><td>cpu|costopPct</td><td>7.34 > 5.0</td></tr></table>SYMPTOM SET - self<br><table border='1'><th>Symptom Name</th><th>Object Name</th><th>Object ID</th><th>Metric</th><th>Message Info</th><tr><td>가상 시스템에서 제거할 vCPU 수</td><td>SQLMGNT</td><td>79422165-7475-4939-ac8e-d3f0139d81ed</td><td>cpu|numberToRemove</td><td>1.0 > 0.0</td></tr></table></span><span>ALERT_TYPE: Virtualization Problem</span><span>ALERT_SUBTYPE: Performance Problem</span><span>CHILDREN_HEALTH: </span><span>PARENT_HEALTH: </span><span>FILTER_RULE_NAME: Dev SMTP (전체)</span><span>FILTER_RULE_DESC: </span><span>ALERT_SUMMARY_LINK: https://70.11.11.217/ui/index.action#/object/79422165-7475-4939-ac8e-d3f0139d81ed/alertsAndSymptoms/alerts/78015478-2c1a-4596-b291-d6c92a97eb7b</span><span>ALERT_RECOMMENDATION: <br>- 나열된 증상을 검토하고 증상에서 권장하는 대로 가상 시스템에서 vCPU의 수를 제거하십시오.</span><span>RESOURCE_HEALTH_STATE: 1.0</span><span>RESOURCE_RISK_STATE: 2.0</span><span>RESOURCE_EFFICIENCY_STATE: 1.0</span><BR></html>

2018-02-18 19:20:44,241 DEBUG smtpserver Anomalies:
[{'Relation': 'self', 'Symptom Index': '1-1', 'Symptom Name': '가상 시스템 CPU 공동 중지가 주의 수준임', 'Object Name': 'SQLMGNT', 'Object ID': '79422165-7475-4939-ac8e-d3f0139d81ed', 'Metric': 'cpu|costopPct', 'Message Info': '7.34 > 5.0'}, {'Relation': 'self', 'Symptom Index': '2-1', 'Symptom Name': '가상 시스템에서 제거할 vCPU 수', 'Object Name': 'SQLMGNT', 'Object ID': '79422165-7475-4939-ac8e-d3f0139d81ed', 'Metric': 'cpu|numberToRemove', 'Message Info': '1.0 > 0.0'}]

2018-02-18 19:20:44,241 DEBUG smtpserver get_symptom_definition_summary() Fetching alert detail from: https://vrops.kccworld.co.kr/suite-api/api/alerts/78015478-2c1a-4596-b291-d6c92a97eb7b
2018-02-18 19:20:44,327 DEBUG smtpserver get_symptom_definition_summary() alert_definition_id: AlertDefinition-VMWARE-CPUContentionDueToCostop
2018-02-18 19:20:44,332 DEBUG smtpserver get_symptom_definition_summary() Fetching alert definition from: https://vrops.kccworld.co.kr/suite-api/api/alertdefinitions/AlertDefinition-VMWARE-CPUContentionDueToCostop
2018-02-18 19:20:44,425 DEBUG smtpserver get_symptom_definition_summary() alert_definition:
{'id': 'AlertDefinition-VMWARE-CPUContentionDueToCostop', 'name': '가상 시스템에서 지나치게 많은 vCPU로 인해 발생한 다중 vCPU 스케줄 문제(공동 중지)로 인해 CPU 경합이 발생함', 'description': '가상 시스템의 공동 중지율이 높습니다. 공동 중지는 가상 시스템이 실행될 준비가 되었지만 공동 vCPU 스케줄 경합 때문에 지연이 발생하는 시간을 나타냅니다. 가상 시스템에 너무 많은 vCPU가 구성되어 있고 물리적 CPU가 부족하여 공동 vCPU 스케줄을 관리할 수 없을 경우 공동 중지율이 높아집니다.', 'adapterKindKey': 'VMWARE', 'resourceKindKey': 'VirtualMachine', 'waitCycles': 1, 'cancelCycles': 1, 'type': 16, 'subType': 19, 'states': [{'severity': 'AUTO', 'base-symptom-set': {'type': 'SYMPTOM_SET_COMPOSITE', 'operator': 'AND', 'symptom-sets': [{'type': 'SYMPTOM_SET', 'relation': 'SELF', 'symptomSetOperator': 'AND', 'symptomDefinitionIds': ['SymptomDefinition-VMWARE-VMNumCPUsToRemove', '!SymptomDefinition-VMWARE-VMPoweredOff']}, {'type': 'SYMPTOM_SET', 'relation': 'SELF', 'symptomSetOperator': 'OR', 'symptomDefinitionIds': ['SymptomDefinition-VMWARE-VMCpuCostopCritical', 'SymptomDefinition-VMWARE-VMCpuCostopWarning', 'SymptomDefinition-VMWARE-VMCpuCostopImmediate']}]}, 'impact': {'impactType': 'BADGE', 'detail': 'risk'}, 'recommendationPriorityMap': {'Recommendation-df-VMWARE-RemoveRecommendedCPUs': 1}}]}

2018-02-18 19:20:44,428 DEBUG smtpserver get_symptom_definition_summary() symptom_sets:
[{'type': 'SYMPTOM_SET', 'relation': 'SELF', 'symptomSetOperator': 'AND', 'symptomDefinitionIds': ['SymptomDefinition-VMWARE-VMNumCPUsToRemove', '!SymptomDefinition-VMWARE-VMPoweredOff']}, {'type': 'SYMPTOM_SET', 'relation': 'SELF', 'symptomSetOperator': 'OR', 'symptomDefinitionIds': ['SymptomDefinition-VMWARE-VMCpuCostopCritical', 'SymptomDefinition-VMWARE-VMCpuCostopWarning', 'SymptomDefinition-VMWARE-VMCpuCostopImmediate']}]

2018-02-18 19:20:44,429 DEBUG smtpserver get_symptom_definition_summary() symptom_definition_ids:
['SymptomDefinition-VMWARE-VMCpuCostopCritical', 'SymptomDefinition-VMWARE-VMCpuCostopImmediate', 'SymptomDefinition-VMWARE-VMCpuCostopWarning', 'SymptomDefinition-VMWARE-VMNumCPUsToRemove', 'SymptomDefinition-VMWARE-VMPoweredOff']

2018-02-18 19:20:45,036 DEBUG smtpserver get_symptom_definition_summary() symptom_definitions:
[{'id': 'SymptomDefinition-VMWARE-VMCpuCostopWarning', 'name': '가상 시스템 CPU 공동 중지가 주의 수준임', 'adapterKindKey': 'VMWARE', 'resourceKindKey': 'VirtualMachine', 'waitCycles': 3, 'cancelCycles': 3, 'state': {'severity': 'WARNING', 'condition': {'type': 'CONDITION_HT', 'key': 'cpu|costopPct', 'operator': 'GT', 'value': '5.0', 'valueType': 'NUMERIC', 'instanced': False, 'thresholdType': 'STATIC'}}}, {'id': 'SymptomDefinition-VMWARE-VMCpuCostopImmediate', 'name': '가상 시스템 CPU 공동 중지가 즉시 수준임', 'adapterKindKey': 'VMWARE', 'resourceKindKey': 'VirtualMachine', 'waitCycles': 3, 'cancelCycles': 3, 'state': {'severity': 'IMMEDIATE', 'condition': {'type': 'CONDITION_HT', 'key': 'cpu|costopPct', 'operator': 'GT', 'value': '10.0', 'valueType': 'NUMERIC', 'instanced': False, 'thresholdType': 'STATIC'}}}, {'id': 'SymptomDefinition-VMWARE-VMCpuCostopCritical', 'name': '가상 시스템 CPU 공동 중지가 위험 수준임', 'adapterKindKey': 'VMWARE', 'resourceKindKey': 'VirtualMachine', 'waitCycles': 3, 'cancelCycles': 3, 'state': {'severity': 'CRITICAL', 'condition': {'type': 'CONDITION_HT', 'key': 'cpu|costopPct', 'operator': 'GT', 'value': '15.0', 'valueType': 'NUMERIC', 'instanced': False, 'thresholdType': 'STATIC'}}}, {'id': 'SymptomDefinition-VMWARE-VMNumCPUsToRemove', 'name': '가상 시스템에서 제거할 vCPU 수', 'adapterKindKey': 'VMWARE', 'resourceKindKey': 'VirtualMachine', 'waitCycles': 1, 'cancelCycles': 1, 'state': {'severity': 'INFORMATION', 'condition': {'type': 'CONDITION_HT', 'key': 'cpu|numberToRemove', 'operator': 'GT', 'value': '0.0', 'valueType': 'NUMERIC', 'instanced': False, 'thresholdType': 'STATIC'}}}, {'id': 'SymptomDefinition-VMWARE-VMPoweredOff', 'name': '가상 시스템 전원 꺼짐', 'adapterKindKey': 'VMWARE', 'resourceKindKey': 'VirtualMachine', 'waitCycles': 1, 'cancelCycles': 1, 'state': {'severity': 'INFORMATION', 'condition': {'type': 'CONDITION_HT', 'key': 'sys|poweredOn', 'operator': 'EQ', 'value': '0.0', 'valueType': 'NUMERIC', 'instanced': False, 'thresholdType': 'STATIC'}}}]

2018-02-18 19:20:45,043 DEBUG smtpserver get_symptom_definition_summary() symptom_definition_summary:
[{'name': '가상 시스템 CPU 공동 중지가 주의 수준임', 'adapterKindKey': 'VMWARE', 'resourceKindKey': 'VirtualMachine', 'severity': 'WARNING', 'type': 'CONDITION_HT', 'key': 'cpu|costopPct', 'instanced': False}, {'name': '가상 시스템 CPU 공동 중지가 즉시 수준임', 'adapterKindKey': 'VMWARE', 'resourceKindKey': 'VirtualMachine', 'severity': 'IMMEDIATE', 'type': 'CONDITION_HT', 'key': 'cpu|costopPct', 'instanced': False}, {'name': '가상 시스템 CPU 공동 중지가 위험 수준임', 'adapterKindKey': 'VMWARE', 'resourceKindKey': 'VirtualMachine', 'severity': 'CRITICAL', 'type': 'CONDITION_HT', 'key': 'cpu|costopPct', 'instanced': False}, {'name': '가상 시스템에서 제거할 vCPU 수', 'adapterKindKey': 'VMWARE', 'resourceKindKey': 'VirtualMachine', 'severity': 'INFORMATION', 'type': 'CONDITION_HT', 'key': 'cpu|numberToRemove', 'instanced': False}, {'name': '가상 시스템 전원 꺼짐', 'adapterKindKey': 'VMWARE', 'resourceKindKey': 'VirtualMachine', 'severity': 'INFORMATION', 'type': 'CONDITION_HT', 'key': 'sys|poweredOn', 'instanced': False}]

2018-02-18 19:20:45,045 DEBUG smtpserver get_localized_metric() Localized metric: cpu|costopPct => CPU|공동 중지 (%)
2018-02-18 19:20:45,047 DEBUG smtpserver get_localized_metric() statkey: cpu|costopPct
2018-02-18 19:20:45,048 DEBUG smtpserver get_localized_metric() Localized metric: cpu|numberToRemove => CPU|제거할 권장 vCPU 수
2018-02-18 19:20:45,049 DEBUG smtpserver get_localized_metric() statkey: cpu|numberToRemove
2018-02-18 19:20:45,052 DEBUG smtpserver Parsed Alert:
ALERT_STATUS: Generated
ALERT_IMPACT: risk
ALERT_CRITICALITY: Warning
ALERT_DEFINITION_NAME: 가상 시스템에서 지나치게 많은 vCPU로 인해 발생한 다중 vCPU 스케줄 문제(공동 중지)로 인해 CPU 경합이 발생함
ALERT_ID: 78015478-2c1a-4596-b291-d6c92a97eb7b
ALERT_OWNER: Unable to retrieve value
ALERT_DEFINITION_DESC: 가상 시스템의 공동 중지율이 높습니다. 공동 중지는 가상 시스템이 실행될 준비가 되었지만 공동 vCPU 스케줄 경합 때문에 지연이 발생하는 시간을 나타냅니다. 가상 시스템에 너무 많은 vCPU가 구성되어 있고 물리적 CPU가 부족하여 공동 vCPU 스케줄을 관리할 수 없을 경우 공동 중지율이 높아집니다.
AFFECTED_RESOURCE_NAME: SQLMGNT
AFFECTED_RESOURCE_KIND: VirtualMachine
ALERT_GENERATE_TIME: Sun Feb 18 17:48:47 KST 2018
ALERT_UPDATE_TIME: Sun Feb 18 17:48:47 KST 2018
ALERT_CANCEL_TIME: 
ANOMALIES: <span>ANOMALIES: SYMPTOM SET - self<br/><table border="1"><th>Symptom Name</th><th>Object Name</th><th>Object ID</th><th>Metric</th><th>Message Info</th><tr><td>가상 시스템 CPU 공동 중지가 주의 수준임</td><td>SQLMGNT</td><td>79422165-7475-4939-ac8e-d3f0139d81ed</td><td>cpu|costopPct</td><td>7.34 &gt; 5.0</td></tr></table>SYMPTOM SET - self<br/><table border="1"><th>Symptom Name</th><th>Object Name</th><th>Object ID</th><th>Metric</th><th>Message Info</th><tr><td>가상 시스템에서 제거할 vCPU 수</td><td>SQLMGNT</td><td>79422165-7475-4939-ac8e-d3f0139d81ed</td><td>cpu|numberToRemove</td><td>1.0 &gt; 0.0</td></tr></table></span>
ALERT_TYPE: Virtualization Problem
ALERT_SUBTYPE: Performance Problem
CHILDREN_HEALTH: 
PARENT_HEALTH: 
FILTER_RULE_NAME: Dev SMTP (전체)
FILTER_RULE_DESC: 
ALERT_SUMMARY_LINK: https://70.11.11.217/ui/index.action#/object/79422165-7475-4939-ac8e-d3f0139d81ed/alertsAndSymptoms/alerts/78015478-2c1a-4596-b291-d6c92a97eb7b
ALERT_RECOMMENDATION: <span>ALERT_RECOMMENDATION: <br/>- 나열된 증상을 검토하고 증상에서 권장하는 대로 가상 시스템에서 vCPU의 수를 제거하십시오.</span>
RESOURCE_HEALTH_STATE: 1.0
RESOURCE_RISK_STATE: 2.0
RESOURCE_EFFICIENCY_STATE: 1.0
ALERT_STATUS_TR: 새 경고
ALERT_IMPACT_TR: 위험
ALERT_CRITICALITY_TR: 주의
ALERT_OWNER_TR: 할당되지 않음
AFFECTED_RESOURCE_KIND_TR: 가상 시스템
ALERT_GENERATE_TIME_TR: 02-18 17:48 대한민국 표준시
ALERT_UPDATE_TIME_TR: -
ALERT_CANCEL_TIME_TR: -
ALERT_TYPE_TR: 가상화·하이퍼바이저
ALERT_SUBTYPE_TR: 성능
RESOURCE_HEALTH_STATE_TR: 정보
RESOURCE_RISK_STATE_TR: 주의
RESOURCE_EFFICIENCY_STATE_TR: 정보
ANOMALIES_TR: [{'Relation': 'self', 'Symptom Index': '1-1', 'Symptom Name': '가상 시스템 CPU 공동 중지가 주의 수준임', 'Object Name': 'SQLMGNT', 'Object ID': '79422165-7475-4939-ac8e-d3f0139d81ed', 'Metric': 'CPU|공동 중지 (%)', 'Message Info': '7.34 > 5.0', 'StatKey': 'cpu|costopPct', 'Criticality': 'Warning'}, {'Relation': 'self', 'Symptom Index': '2-1', 'Symptom Name': '가상 시스템에서 제거할 vCPU 수', 'Object Name': 'SQLMGNT', 'Object ID': '79422165-7475-4939-ac8e-d3f0139d81ed', 'Metric': 'CPU|제거할 권장 vCPU 수', 'Message Info': '1.0 > 0.0', 'StatKey': 'cpu|numberToRemove', 'Criticality': 'Information'}]
ALERT_RECOMMENDATION_TR: ['나열된 증상을 검토하고 증상에서 권장하는 대로 가상 시스템에서 vCPU의 수를 제거하십시오.']


2018-02-18 19:20:48,662 DEBUG smtpserver Email Message (RAW):
From: vRealize Operations <vRealizeOps-admin@example.com>
To: admin@vrops.kccworld.co.kr
Message-ID: <1265321712.4124.1518949248391.JavaMail.admin@vrops.kccworld.co.kr>
Subject: =?UTF-8?Q?[vRealize_Operations_Manager]_(Generated)_?=
 =?UTF-8?Q?vRealize_Operations_Manager_Analytics-vRea?=
 =?UTF-8?Q?lize_Cluster_Node_-_=EC=95=84?=
 =?UTF-8?Q?=EC=9B=83=EB=B0=94=EC=9A=B4=EB=93=9C_?=
 =?UTF-8?Q?=EA=B2=BD=EA=B3=A0_=EC=95=8C=EB=A6=BC?=
 =?UTF-8?Q?=EC=9D=84_=EB=B3=B4=EB=82=B4=EC=A7=80?=
 =?UTF-8?Q?_=EB=AA=BB=ED=96=88=EC=8A=B5=EB=8B=88=EB=8B=A4?=
 =?UTF-8?Q?._=EC=95=84=EC=9B=83=EB=B0=94?=
 =?UTF-8?Q?=EC=9A=B4=EB=93=9C_=EC=95=8C=EB=A6=BC?=
 =?UTF-8?Q?=EC=9D=B4_=EC=9E=98=EB=AA=BB_?=
 =?UTF-8?Q?=EA=B5=AC=EC=84=B1=EB=90=98=EC=97=88=EA=B1=B0=EB=82=98?=
 =?UTF-8?Q?_=EB=84=88=EB=AC=B4_=EB=A7=8E?=
 =?UTF-8?Q?=EC=9D=80_=EC=95=8C=EB=A6=BC=EC=9D=B4?=
 =?UTF-8?Q?_=EC=9E=88=EC=9D=84_=EC=88=98?=
 =?UTF-8?Q?_=EC=9E=88=EC=8A=B5=EB=8B=88=EB=8B=A4.?=
MIME-Version: 1.0
Content-Type: text/html; charset=utf-8
Content-Transfer-Encoding: quoted-printable

<html><span>ALERT_STATUS: Generated</span><span>ALERT_IMPACT: health</span>=
<span>ALERT_CRITICALITY: AlertLevel: Warning</span><span>ALERT_DEFINITION_N=
AME: =EC=95=84=EC=9B=83=EB=B0=94=EC=9A=B4=EB=93=9C =EA=B2=BD=EA=B3=A0 =EC=
=95=8C=EB=A6=BC=EC=9D=84 =EB=B3=B4=EB=82=B4=EC=A7=80 =EB=AA=BB=ED=96=88=EC=
=8A=B5=EB=8B=88=EB=8B=A4. =EC=95=84=EC=9B=83=EB=B0=94=EC=9A=B4=EB=93=9C =EC=
=95=8C=EB=A6=BC=EC=9D=B4 =EC=9E=98=EB=AA=BB =EA=B5=AC=EC=84=B1=EB=90=98=EC=
=97=88=EA=B1=B0=EB=82=98 =EB=84=88=EB=AC=B4 =EB=A7=8E=EC=9D=80 =EC=95=8C=EB=
=A6=BC=EC=9D=B4 =EC=9E=88=EC=9D=84 =EC=88=98 =EC=9E=88=EC=8A=B5=EB=8B=88=EB=
=8B=A4.</span><span>ALERT_ID: 5232a44a-6431-4daf-9c3e-875e02b70b99</span><s=
pan>ALERT_OWNER: Unable to retrieve value</span><span>ALERT_DEFINITION_DESC=
: =EC=95=84=EC=9B=83=EB=B0=94=EC=9A=B4=EB=93=9C =EA=B2=BD=EA=B3=A0 =EC=95=
=8C=EB=A6=BC=EC=9D=84 =EB=B3=B4=EB=82=B4=EC=A7=80 =EB=AA=BB=ED=96=88=EC=8A=
=B5=EB=8B=88=EB=8B=A4. =EC=95=84=EC=9B=83=EB=B0=94=EC=9A=B4=EB=93=9C =EC=95=
=8C=EB=A6=BC=EC=9D=B4 =EC=9E=98=EB=AA=BB =EA=B5=AC=EC=84=B1=EB=90=98=EC=97=
=88=EA=B1=B0=EB=82=98 =EB=84=88=EB=AC=B4 =EB=A7=8E=EC=9D=80 =EC=95=8C=EB=A6=
=BC=EC=9D=B4 =EC=9E=88=EC=9D=84 =EC=88=98 =EC=9E=88=EC=8A=B5=EB=8B=88=EB=8B=
=A4.</span><span>AFFECTED_RESOURCE_NAME: vRealize Operations Manager Analyt=
ics-vRealize Cluster Node</span><span>AFFECTED_RESOURCE_KIND: vC-Ops-Analyt=
ics</span><span>ALERT_GENERATE_TIME: Sun Feb 18 17:58:49 KST 2018</span><sp=
an>ALERT_UPDATE_TIME: Sun Feb 18 17:58:49 KST 2018</span><span>ALERT_CANCEL=
_TIME: </span><span>ANOMALIES: SYMPTOM SET - self<br><table border=3D'1'><t=
h>Symptom Name</th><th>Object Name</th><th>Object ID</th><th>Metric</th><th=
>Message Info</th><tr><td>=EB=B6=84=EC=84=9D=EC=97=90=EC=84=9C =EA=B2=BD=EA=
=B3=A0 =EC=95=8C=EB=A6=BC=EC=9D=84 =EB=B3=B4=EB=82=B4=EC=A7=80 =EB=AA=BB=ED=
=96=88=EC=8A=B5=EB=8B=88=EB=8B=A4.</td><td>vRealize Operations Manager Anal=
ytics-vRealize Cluster Node</td><td>983ecbb8-ab11-4a32-bc91-66dbd86a5cb3</t=
d><td></td><td>Outbound Alert Send Failed for  instanceId =3D 44d5e9cd-ddf7=
-4ef5-8cd1-b5cb43dd3dac, plugin key =3D Dev SMTP 1123</td></tr></table></sp=
an><span>ALERT_TYPE: Application Problem</span><span>ALERT_SUBTYPE: Perform=
ance Problem</span><span>CHILDREN_HEALTH: </span><span>PARENT_HEALTH: </spa=
n><span>FILTER_RULE_NAME: Dev SMTP (=EC=A0=84=EC=B2=B4)</span><span>FILTER_=
RULE_DESC: </span><span>ALERT_SUMMARY_LINK: https://70.11.11.217/ui/index.a=
ction#/object/983ecbb8-ab11-4a32-bc91-66dbd86a5cb3/alertsAndSymptoms/alerts=
/5232a44a-6431-4daf-9c3e-875e02b70b99</span><span>ALERT_RECOMMENDATION: <br=
>- =EC=95=8C=EB=A6=BC =EC=84=A4=EC=A0=95=EC=9D=84 =EA=B2=80=ED=86=A0=ED=95=
=98=EA=B3=A0 =EC=95=8C=EB=A6=BC =EC=88=98=EB=A5=BC =EC=A4=84=EC=9D=BC =EC=
=88=98 =EC=9E=88=EB=8F=84=EB=A1=9D =EC=84=A4=EC=A0=95=EC=9D=84 =EC=88=98=EC=
=A0=95=ED=95=A0 =EC=88=98 =EC=9E=88=EB=8A=94=EC=A7=80 =EC=97=AC=EB=B6=80=EB=
=A5=BC =ED=99=95=EC=9D=B8=ED=95=A9=EB=8B=88=EB=8B=A4.</span><span>RESOURCE_=
HEALTH_STATE: 2.0</span><span>RESOURCE_RISK_STATE: 1.0</span><span>RESOURCE=
_EFFICIENCY_STATE: 1.0</span><BR></html>

2018-02-18 19:20:48,667 DEBUG smtpserver Email Content (Decoded):
<html><span>ALERT_STATUS: Generated</span><span>ALERT_IMPACT: health</span><span>ALERT_CRITICALITY: AlertLevel: Warning</span><span>ALERT_DEFINITION_NAME: 아웃바운드 경고 알림을 보내지 못했습니다. 아웃바운드 알림이 잘못 구성되었거나 너무 많은 알림이 있을 수 있습니다.</span><span>ALERT_ID: 5232a44a-6431-4daf-9c3e-875e02b70b99</span><span>ALERT_OWNER: Unable to retrieve value</span><span>ALERT_DEFINITION_DESC: 아웃바운드 경고 알림을 보내지 못했습니다. 아웃바운드 알림이 잘못 구성되었거나 너무 많은 알림이 있을 수 있습니다.</span><span>AFFECTED_RESOURCE_NAME: vRealize Operations Manager Analytics-vRealize Cluster Node</span><span>AFFECTED_RESOURCE_KIND: vC-Ops-Analytics</span><span>ALERT_GENERATE_TIME: Sun Feb 18 17:58:49 KST 2018</span><span>ALERT_UPDATE_TIME: Sun Feb 18 17:58:49 KST 2018</span><span>ALERT_CANCEL_TIME: </span><span>ANOMALIES: SYMPTOM SET - self<br><table border='1'><th>Symptom Name</th><th>Object Name</th><th>Object ID</th><th>Metric</th><th>Message Info</th><tr><td>분석에서 경고 알림을 보내지 못했습니다.</td><td>vRealize Operations Manager Analytics-vRealize Cluster Node</td><td>983ecbb8-ab11-4a32-bc91-66dbd86a5cb3</td><td></td><td>Outbound Alert Send Failed for  instanceId = 44d5e9cd-ddf7-4ef5-8cd1-b5cb43dd3dac, plugin key = Dev SMTP 1123</td></tr></table></span><span>ALERT_TYPE: Application Problem</span><span>ALERT_SUBTYPE: Performance Problem</span><span>CHILDREN_HEALTH: </span><span>PARENT_HEALTH: </span><span>FILTER_RULE_NAME: Dev SMTP (전체)</span><span>FILTER_RULE_DESC: </span><span>ALERT_SUMMARY_LINK: https://70.11.11.217/ui/index.action#/object/983ecbb8-ab11-4a32-bc91-66dbd86a5cb3/alertsAndSymptoms/alerts/5232a44a-6431-4daf-9c3e-875e02b70b99</span><span>ALERT_RECOMMENDATION: <br>- 알림 설정을 검토하고 알림 수를 줄일 수 있도록 설정을 수정할 수 있는지 여부를 확인합니다.</span><span>RESOURCE_HEALTH_STATE: 2.0</span><span>RESOURCE_RISK_STATE: 1.0</span><span>RESOURCE_EFFICIENCY_STATE: 1.0</span><BR></html>

2018-02-18 19:20:48,669 DEBUG smtpserver Anomalies:
[{'Relation': 'self', 'Symptom Index': '1-1', 'Symptom Name': '분석에서 경고 알림을 보내지 못했습니다.', 'Object Name': 'vRealize Operations Manager Analytics-vRealize Cluster Node', 'Object ID': '983ecbb8-ab11-4a32-bc91-66dbd86a5cb3', 'Metric': None, 'Message Info': 'Outbound Alert Send Failed for  instanceId = 44d5e9cd-ddf7-4ef5-8cd1-b5cb43dd3dac, plugin key = Dev SMTP 1123'}]

2018-02-18 19:20:48,670 DEBUG smtpserver get_symptom_definition_summary() Fetching alert detail from: https://vrops.kccworld.co.kr/suite-api/api/alerts/5232a44a-6431-4daf-9c3e-875e02b70b99
2018-02-18 19:20:48,754 DEBUG smtpserver get_symptom_definition_summary() alert_definition_id: AlertDefinition-vCenter Operations Adapter-OutboundAlertFailedAlert
2018-02-18 19:20:48,755 DEBUG smtpserver get_symptom_definition_summary() Fetching alert definition from: https://vrops.kccworld.co.kr/suite-api/api/alertdefinitions/AlertDefinition-vCenter Operations Adapter-OutboundAlertFailedAlert
2018-02-18 19:20:48,863 DEBUG smtpserver get_symptom_definition_summary() alert_definition:
{'id': 'AlertDefinition-vCenter Operations Adapter-OutboundAlertFailedAlert', 'name': '아웃바운드 경고 알림을 보내지 못했습니다. 아웃바운드 알림이 잘못 구성되었거나 너무 많은 알림이 있을 수 있습니다.', 'description': '아웃바운드 경고 알림을 보내지 못했습니다. 아웃바운드 알림이 잘못 구성되었거나 너무 많은 알림이 있을 수 있습니다.', 'adapterKindKey': 'vCenter Operations Adapter', 'resourceKindKey': 'vC-Ops-Analytics', 'waitCycles': 1, 'cancelCycles': 1, 'type': 15, 'subType': 19, 'states': [{'severity': 'AUTO', 'base-symptom-set': {'type': 'SYMPTOM_SET', 'relation': 'SELF', 'aggregation': 'ANY', 'symptomSetOperator': 'OR', 'symptomDefinitionIds': ['SymptomDefinition-vCenter Operations Adapter-OutboundAlertFailedSymptom']}, 'impact': {'impactType': 'BADGE', 'detail': 'health'}, 'recommendationPriorityMap': {'Recommendation-df-vCenter Operations Adapter-ReviewOutboundAlertConfig': 1}}]}

2018-02-18 19:20:48,867 DEBUG smtpserver get_symptom_definition_summary() symptom_sets:
[{'type': 'SYMPTOM_SET', 'relation': 'SELF', 'aggregation': 'ANY', 'symptomSetOperator': 'OR', 'symptomDefinitionIds': ['SymptomDefinition-vCenter Operations Adapter-OutboundAlertFailedSymptom']}]

2018-02-18 19:20:48,868 DEBUG smtpserver get_symptom_definition_summary() symptom_definition_ids:
['SymptomDefinition-vCenter Operations Adapter-OutboundAlertFailedSymptom']

2018-02-18 19:20:49,489 DEBUG smtpserver get_symptom_definition_summary() symptom_definitions:
[{'id': 'SymptomDefinition-vCenter Operations Adapter-OutboundAlertFailedSymptom', 'name': '분석에서 경고 알림을 보내지 못했습니다.', 'adapterKindKey': 'vCenter Operations Adapter', 'resourceKindKey': 'vC-Ops-Analytics', 'waitCycles': 1, 'cancelCycles': 1, 'state': {'severity': 'WARNING', 'condition': {'type': 'CONDITION_MESSAGE_EVENT', 'eventType': 'SYSTEM_DEGRADATION', 'message': 'Outbound Alert Send Failed', 'operator': 'CONTAINS'}}}]

2018-02-18 19:20:49,492 DEBUG smtpserver get_symptom_definition_summary() symptom_definition_summary:
[{'name': '분석에서 경고 알림을 보내지 못했습니다.', 'adapterKindKey': 'vCenter Operations Adapter', 'resourceKindKey': 'vC-Ops-Analytics', 'severity': 'WARNING', 'type': 'CONDITION_MESSAGE_EVENT', 'key': None, 'instanced': None}]

2018-02-18 19:20:49,494 DEBUG smtpserver get_localized_metric() Localized metric: None => 메트릭 증상이 아님
2018-02-18 19:20:49,495 DEBUG smtpserver get_localized_metric() statkey: None
2018-02-18 19:20:49,498 DEBUG smtpserver Parsed Alert:
ALERT_STATUS: Generated
ALERT_IMPACT: health
ALERT_CRITICALITY: Warning
ALERT_DEFINITION_NAME: 아웃바운드 경고 알림을 보내지 못했습니다. 아웃바운드 알림이 잘못 구성되었거나 너무 많은 알림이 있을 수 있습니다.
ALERT_ID: 5232a44a-6431-4daf-9c3e-875e02b70b99
ALERT_OWNER: Unable to retrieve value
ALERT_DEFINITION_DESC: 아웃바운드 경고 알림을 보내지 못했습니다. 아웃바운드 알림이 잘못 구성되었거나 너무 많은 알림이 있을 수 있습니다.
AFFECTED_RESOURCE_NAME: vRealize Operations Manager Analytics-vRealize Cluster Node
AFFECTED_RESOURCE_KIND: vC-Ops-Analytics
ALERT_GENERATE_TIME: Sun Feb 18 17:58:49 KST 2018
ALERT_UPDATE_TIME: Sun Feb 18 17:58:49 KST 2018
ALERT_CANCEL_TIME: 
ANOMALIES: <span>ANOMALIES: SYMPTOM SET - self<br/><table border="1"><th>Symptom Name</th><th>Object Name</th><th>Object ID</th><th>Metric</th><th>Message Info</th><tr><td>분석에서 경고 알림을 보내지 못했습니다.</td><td>vRealize Operations Manager Analytics-vRealize Cluster Node</td><td>983ecbb8-ab11-4a32-bc91-66dbd86a5cb3</td><td></td><td>Outbound Alert Send Failed for  instanceId = 44d5e9cd-ddf7-4ef5-8cd1-b5cb43dd3dac, plugin key = Dev SMTP 1123</td></tr></table></span>
ALERT_TYPE: Application Problem
ALERT_SUBTYPE: Performance Problem
CHILDREN_HEALTH: 
PARENT_HEALTH: 
FILTER_RULE_NAME: Dev SMTP (전체)
FILTER_RULE_DESC: 
ALERT_SUMMARY_LINK: https://70.11.11.217/ui/index.action#/object/983ecbb8-ab11-4a32-bc91-66dbd86a5cb3/alertsAndSymptoms/alerts/5232a44a-6431-4daf-9c3e-875e02b70b99
ALERT_RECOMMENDATION: <span>ALERT_RECOMMENDATION: <br/>- 알림 설정을 검토하고 알림 수를 줄일 수 있도록 설정을 수정할 수 있는지 여부를 확인합니다.</span>
RESOURCE_HEALTH_STATE: 2.0
RESOURCE_RISK_STATE: 1.0
RESOURCE_EFFICIENCY_STATE: 1.0
ALERT_STATUS_TR: 새 경고
ALERT_IMPACT_TR: 상태
ALERT_CRITICALITY_TR: 주의
ALERT_OWNER_TR: 할당되지 않음
AFFECTED_RESOURCE_KIND_TR: vRealize Operations 분석
ALERT_GENERATE_TIME_TR: 02-18 17:58 대한민국 표준시
ALERT_UPDATE_TIME_TR: -
ALERT_CANCEL_TIME_TR: -
ALERT_TYPE_TR: 애플리케이션
ALERT_SUBTYPE_TR: 성능
RESOURCE_HEALTH_STATE_TR: 주의
RESOURCE_RISK_STATE_TR: 정보
RESOURCE_EFFICIENCY_STATE_TR: 정보
ANOMALIES_TR: [{'Relation': 'self', 'Symptom Index': '1-1', 'Symptom Name': '분석에서 경고 알림을 보내지 못했습니다.', 'Object Name': 'vRealize Operations Manager Analytics-vRealize Cluster Node', 'Object ID': '983ecbb8-ab11-4a32-bc91-66dbd86a5cb3', 'Metric': '메트릭 증상이 아님', 'Message Info': 'Outbound Alert Send Failed for  instanceId = 44d5e9cd-ddf7-4ef5-8cd1-b5cb43dd3dac, plugin key = Dev SMTP 1123', 'StatKey': None, 'Criticality': 'Warning'}]
ALERT_RECOMMENDATION_TR: ['알림 설정을 검토하고 알림 수를 줄일 수 있도록 설정을 수정할 수 있는지 여부를 확인합니다.']


2018-02-18 19:21:29,442 DEBUG smtpserver Email Message (RAW):
From: vRealize Operations <vRealizeOps-admin@example.com>
To: admin@vrops.kccworld.co.kr
Message-ID: <29085530.4125.1518949289170.JavaMail.admin@vrops.kccworld.co.kr>
Subject: =?UTF-8?Q?[vRealize_Operations_Manager]_(Canceled)_?=
 =?UTF-8?Q?vRealize_Operations_Manager_Analytics-vRea?=
 =?UTF-8?Q?lize_Cluster_Node_-_=EC=95=84?=
 =?UTF-8?Q?=EC=9B=83=EB=B0=94=EC=9A=B4=EB=93=9C_?=
 =?UTF-8?Q?=EA=B2=BD=EA=B3=A0_=EC=95=8C=EB=A6=BC?=
 =?UTF-8?Q?=EC=9D=84_=EB=B3=B4=EB=82=B4=EC=A7=80?=
 =?UTF-8?Q?_=EB=AA=BB=ED=96=88=EC=8A=B5=EB=8B=88=EB=8B=A4?=
 =?UTF-8?Q?._=EC=95=84=EC=9B=83=EB=B0=94?=
 =?UTF-8?Q?=EC=9A=B4=EB=93=9C_=EC=95=8C=EB=A6=BC?=
 =?UTF-8?Q?=EC=9D=B4_=EC=9E=98=EB=AA=BB_?=
 =?UTF-8?Q?=EA=B5=AC=EC=84=B1=EB=90=98=EC=97=88=EA=B1=B0=EB=82=98?=
 =?UTF-8?Q?_=EB=84=88=EB=AC=B4_=EB=A7=8E?=
 =?UTF-8?Q?=EC=9D=80_=EC=95=8C=EB=A6=BC=EC=9D=B4?=
 =?UTF-8?Q?_=EC=9E=88=EC=9D=84_=EC=88=98?=
 =?UTF-8?Q?_=EC=9E=88=EC=8A=B5=EB=8B=88=EB=8B=A4.?=
MIME-Version: 1.0
Content-Type: text/html; charset=utf-8
Content-Transfer-Encoding: quoted-printable

<html><span>ALERT_STATUS: Canceled</span><span>ALERT_IMPACT: health</span><=
span>ALERT_CRITICALITY: AlertLevel: Warning</span><span>ALERT_DEFINITION_NA=
ME: =EC=95=84=EC=9B=83=EB=B0=94=EC=9A=B4=EB=93=9C =EA=B2=BD=EA=B3=A0 =EC=95=
=8C=EB=A6=BC=EC=9D=84 =EB=B3=B4=EB=82=B4=EC=A7=80 =EB=AA=BB=ED=96=88=EC=8A=
=B5=EB=8B=88=EB=8B=A4. =EC=95=84=EC=9B=83=EB=B0=94=EC=9A=B4=EB=93=9C =EC=95=
=8C=EB=A6=BC=EC=9D=B4 =EC=9E=98=EB=AA=BB =EA=B5=AC=EC=84=B1=EB=90=98=EC=97=
=88=EA=B1=B0=EB=82=98 =EB=84=88=EB=AC=B4 =EB=A7=8E=EC=9D=80 =EC=95=8C=EB=A6=
=BC=EC=9D=B4 =EC=9E=88=EC=9D=84 =EC=88=98 =EC=9E=88=EC=8A=B5=EB=8B=88=EB=8B=
=A4.</span><span>ALERT_ID: 5232a44a-6431-4daf-9c3e-875e02b70b99</span><span=
>ALERT_OWNER: Unable to retrieve value</span><span>ALERT_DEFINITION_DESC: =
=EC=95=84=EC=9B=83=EB=B0=94=EC=9A=B4=EB=93=9C =EA=B2=BD=EA=B3=A0 =EC=95=8C=
=EB=A6=BC=EC=9D=84 =EB=B3=B4=EB=82=B4=EC=A7=80 =EB=AA=BB=ED=96=88=EC=8A=B5=
=EB=8B=88=EB=8B=A4. =EC=95=84=EC=9B=83=EB=B0=94=EC=9A=B4=EB=93=9C =EC=95=8C=
=EB=A6=BC=EC=9D=B4 =EC=9E=98=EB=AA=BB =EA=B5=AC=EC=84=B1=EB=90=98=EC=97=88=
=EA=B1=B0=EB=82=98 =EB=84=88=EB=AC=B4 =EB=A7=8E=EC=9D=80 =EC=95=8C=EB=A6=BC=
=EC=9D=B4 =EC=9E=88=EC=9D=84 =EC=88=98 =EC=9E=88=EC=8A=B5=EB=8B=88=EB=8B=A4=
.</span><span>AFFECTED_RESOURCE_NAME: vRealize Operations Manager Analytics=
-vRealize Cluster Node</span><span>AFFECTED_RESOURCE_KIND: vC-Ops-Analytics=
</span><span>ALERT_GENERATE_TIME: Sun Feb 18 17:58:49 KST 2018</span><span>=
ALERT_UPDATE_TIME: Sun Feb 18 17:58:49 KST 2018</span><span>ALERT_CANCEL_TI=
ME: Sun Feb 18 19:18:48 KST 2018</span><span>ANOMALIES: SYMPTOM SET - self<=
br><table border=3D'1'><th>Symptom Name</th><th>Object Name</th><th>Object =
ID</th><th>Metric</th><th>Message Info</th><tr><td>=EB=B6=84=EC=84=9D=EC=97=
=90=EC=84=9C =EA=B2=BD=EA=B3=A0 =EC=95=8C=EB=A6=BC=EC=9D=84 =EB=B3=B4=EB=82=
=B4=EC=A7=80 =EB=AA=BB=ED=96=88=EC=8A=B5=EB=8B=88=EB=8B=A4.</td><td>vRealiz=
e Operations Manager Analytics-vRealize Cluster Node</td><td>983ecbb8-ab11-=
4a32-bc91-66dbd86a5cb3</td><td></td><td>Outbound Alert Send Failed for  ins=
tanceId =3D 44d5e9cd-ddf7-4ef5-8cd1-b5cb43dd3dac, plugin key =3D Dev SMTP 1=
123</td></tr></table></span><span>ALERT_TYPE: Application Problem</span><sp=
an>ALERT_SUBTYPE: Performance Problem</span><span>CHILDREN_HEALTH: </span><=
span>PARENT_HEALTH: </span><span>FILTER_RULE_NAME: Dev SMTP (=EC=A0=84=EC=
=B2=B4)</span><span>FILTER_RULE_DESC: </span><span>ALERT_SUMMARY_LINK: http=
s://70.11.11.217/ui/index.action#/object/983ecbb8-ab11-4a32-bc91-66dbd86a5c=
b3/alertsAndSymptoms/alerts/5232a44a-6431-4daf-9c3e-875e02b70b99</span><spa=
n>ALERT_RECOMMENDATION: <br>- =EC=95=8C=EB=A6=BC =EC=84=A4=EC=A0=95=EC=9D=
=84 =EA=B2=80=ED=86=A0=ED=95=98=EA=B3=A0 =EC=95=8C=EB=A6=BC =EC=88=98=EB=A5=
=BC =EC=A4=84=EC=9D=BC =EC=88=98 =EC=9E=88=EB=8F=84=EB=A1=9D =EC=84=A4=EC=
=A0=95=EC=9D=84 =EC=88=98=EC=A0=95=ED=95=A0 =EC=88=98 =EC=9E=88=EB=8A=94=EC=
=A7=80 =EC=97=AC=EB=B6=80=EB=A5=BC =ED=99=95=EC=9D=B8=ED=95=A9=EB=8B=88=EB=
=8B=A4.</span><span>RESOURCE_HEALTH_STATE: 2.0</span><span>RESOURCE_RISK_ST=
ATE: 1.0</span><span>RESOURCE_EFFICIENCY_STATE: 1.0</span><BR></html>

2018-02-18 19:21:57,527 DEBUG smtpserver Email Content (Decoded):
<html><span>ALERT_STATUS: Canceled</span><span>ALERT_IMPACT: health</span><span>ALERT_CRITICALITY: AlertLevel: Warning</span><span>ALERT_DEFINITION_NAME: 아웃바운드 경고 알림을 보내지 못했습니다. 아웃바운드 알림이 잘못 구성되었거나 너무 많은 알림이 있을 수 있습니다.</span><span>ALERT_ID: 5232a44a-6431-4daf-9c3e-875e02b70b99</span><span>ALERT_OWNER: Unable to retrieve value</span><span>ALERT_DEFINITION_DESC: 아웃바운드 경고 알림을 보내지 못했습니다. 아웃바운드 알림이 잘못 구성되었거나 너무 많은 알림이 있을 수 있습니다.</span><span>AFFECTED_RESOURCE_NAME: vRealize Operations Manager Analytics-vRealize Cluster Node</span><span>AFFECTED_RESOURCE_KIND: vC-Ops-Analytics</span><span>ALERT_GENERATE_TIME: Sun Feb 18 17:58:49 KST 2018</span><span>ALERT_UPDATE_TIME: Sun Feb 18 17:58:49 KST 2018</span><span>ALERT_CANCEL_TIME: Sun Feb 18 19:18:48 KST 2018</span><span>ANOMALIES: SYMPTOM SET - self<br><table border='1'><th>Symptom Name</th><th>Object Name</th><th>Object ID</th><th>Metric</th><th>Message Info</th><tr><td>분석에서 경고 알림을 보내지 못했습니다.</td><td>vRealize Operations Manager Analytics-vRealize Cluster Node</td><td>983ecbb8-ab11-4a32-bc91-66dbd86a5cb3</td><td></td><td>Outbound Alert Send Failed for  instanceId = 44d5e9cd-ddf7-4ef5-8cd1-b5cb43dd3dac, plugin key = Dev SMTP 1123</td></tr></table></span><span>ALERT_TYPE: Application Problem</span><span>ALERT_SUBTYPE: Performance Problem</span><span>CHILDREN_HEALTH: </span><span>PARENT_HEALTH: </span><span>FILTER_RULE_NAME: Dev SMTP (전체)</span><span>FILTER_RULE_DESC: </span><span>ALERT_SUMMARY_LINK: https://70.11.11.217/ui/index.action#/object/983ecbb8-ab11-4a32-bc91-66dbd86a5cb3/alertsAndSymptoms/alerts/5232a44a-6431-4daf-9c3e-875e02b70b99</span><span>ALERT_RECOMMENDATION: <br>- 알림 설정을 검토하고 알림 수를 줄일 수 있도록 설정을 수정할 수 있는지 여부를 확인합니다.</span><span>RESOURCE_HEALTH_STATE: 2.0</span><span>RESOURCE_RISK_STATE: 1.0</span><span>RESOURCE_EFFICIENCY_STATE: 1.0</span><BR></html>

2018-02-18 19:21:57,530 DEBUG smtpserver Anomalies:
[{'Relation': 'self', 'Symptom Index': '1-1', 'Symptom Name': '분석에서 경고 알림을 보내지 못했습니다.', 'Object Name': 'vRealize Operations Manager Analytics-vRealize Cluster Node', 'Object ID': '983ecbb8-ab11-4a32-bc91-66dbd86a5cb3', 'Metric': None, 'Message Info': 'Outbound Alert Send Failed for  instanceId = 44d5e9cd-ddf7-4ef5-8cd1-b5cb43dd3dac, plugin key = Dev SMTP 1123'}]

2018-02-18 19:21:57,530 DEBUG smtpserver get_symptom_definition_summary() Fetching alert detail from: https://vrops.kccworld.co.kr/suite-api/api/alerts/5232a44a-6431-4daf-9c3e-875e02b70b99
2018-02-18 19:21:57,610 DEBUG smtpserver get_symptom_definition_summary() alert_definition_id: AlertDefinition-vCenter Operations Adapter-OutboundAlertFailedAlert
2018-02-18 19:21:57,610 DEBUG smtpserver get_symptom_definition_summary() Fetching alert definition from: https://vrops.kccworld.co.kr/suite-api/api/alertdefinitions/AlertDefinition-vCenter Operations Adapter-OutboundAlertFailedAlert
2018-02-18 19:21:57,696 DEBUG smtpserver get_symptom_definition_summary() alert_definition:
{'id': 'AlertDefinition-vCenter Operations Adapter-OutboundAlertFailedAlert', 'name': '아웃바운드 경고 알림을 보내지 못했습니다. 아웃바운드 알림이 잘못 구성되었거나 너무 많은 알림이 있을 수 있습니다.', 'description': '아웃바운드 경고 알림을 보내지 못했습니다. 아웃바운드 알림이 잘못 구성되었거나 너무 많은 알림이 있을 수 있습니다.', 'adapterKindKey': 'vCenter Operations Adapter', 'resourceKindKey': 'vC-Ops-Analytics', 'waitCycles': 1, 'cancelCycles': 1, 'type': 15, 'subType': 19, 'states': [{'severity': 'AUTO', 'base-symptom-set': {'type': 'SYMPTOM_SET', 'relation': 'SELF', 'aggregation': 'ANY', 'symptomSetOperator': 'OR', 'symptomDefinitionIds': ['SymptomDefinition-vCenter Operations Adapter-OutboundAlertFailedSymptom']}, 'impact': {'impactType': 'BADGE', 'detail': 'health'}, 'recommendationPriorityMap': {'Recommendation-df-vCenter Operations Adapter-ReviewOutboundAlertConfig': 1}}]}

2018-02-18 19:21:57,697 DEBUG smtpserver get_symptom_definition_summary() symptom_sets:
[{'type': 'SYMPTOM_SET', 'relation': 'SELF', 'aggregation': 'ANY', 'symptomSetOperator': 'OR', 'symptomDefinitionIds': ['SymptomDefinition-vCenter Operations Adapter-OutboundAlertFailedSymptom']}]

2018-02-18 19:21:57,698 DEBUG smtpserver get_symptom_definition_summary() symptom_definition_ids:
['SymptomDefinition-vCenter Operations Adapter-OutboundAlertFailedSymptom']

2018-02-18 19:21:58,306 DEBUG smtpserver get_symptom_definition_summary() symptom_definitions:
[{'id': 'SymptomDefinition-vCenter Operations Adapter-OutboundAlertFailedSymptom', 'name': '분석에서 경고 알림을 보내지 못했습니다.', 'adapterKindKey': 'vCenter Operations Adapter', 'resourceKindKey': 'vC-Ops-Analytics', 'waitCycles': 1, 'cancelCycles': 1, 'state': {'severity': 'WARNING', 'condition': {'type': 'CONDITION_MESSAGE_EVENT', 'eventType': 'SYSTEM_DEGRADATION', 'message': 'Outbound Alert Send Failed', 'operator': 'CONTAINS'}}}]

2018-02-18 19:21:58,310 DEBUG smtpserver get_symptom_definition_summary() symptom_definition_summary:
[{'name': '분석에서 경고 알림을 보내지 못했습니다.', 'adapterKindKey': 'vCenter Operations Adapter', 'resourceKindKey': 'vC-Ops-Analytics', 'severity': 'WARNING', 'type': 'CONDITION_MESSAGE_EVENT', 'key': None, 'instanced': None}]

2018-02-18 19:21:58,311 DEBUG smtpserver get_localized_metric() Localized metric: None => 메트릭 증상이 아님
2018-02-18 19:21:58,312 DEBUG smtpserver get_localized_metric() statkey: None
2018-02-18 19:21:58,313 DEBUG smtpserver Parsed Alert:
ALERT_STATUS: Canceled
ALERT_IMPACT: health
ALERT_CRITICALITY: Warning
ALERT_DEFINITION_NAME: 아웃바운드 경고 알림을 보내지 못했습니다. 아웃바운드 알림이 잘못 구성되었거나 너무 많은 알림이 있을 수 있습니다.
ALERT_ID: 5232a44a-6431-4daf-9c3e-875e02b70b99
ALERT_OWNER: Unable to retrieve value
ALERT_DEFINITION_DESC: 아웃바운드 경고 알림을 보내지 못했습니다. 아웃바운드 알림이 잘못 구성되었거나 너무 많은 알림이 있을 수 있습니다.
AFFECTED_RESOURCE_NAME: vRealize Operations Manager Analytics-vRealize Cluster Node
AFFECTED_RESOURCE_KIND: vC-Ops-Analytics
ALERT_GENERATE_TIME: Sun Feb 18 17:58:49 KST 2018
ALERT_UPDATE_TIME: Sun Feb 18 17:58:49 KST 2018
ALERT_CANCEL_TIME: Sun Feb 18 19:18:48 KST 2018
ANOMALIES: <span>ANOMALIES: SYMPTOM SET - self<br/><table border="1"><th>Symptom Name</th><th>Object Name</th><th>Object ID</th><th>Metric</th><th>Message Info</th><tr><td>분석에서 경고 알림을 보내지 못했습니다.</td><td>vRealize Operations Manager Analytics-vRealize Cluster Node</td><td>983ecbb8-ab11-4a32-bc91-66dbd86a5cb3</td><td></td><td>Outbound Alert Send Failed for  instanceId = 44d5e9cd-ddf7-4ef5-8cd1-b5cb43dd3dac, plugin key = Dev SMTP 1123</td></tr></table></span>
ALERT_TYPE: Application Problem
ALERT_SUBTYPE: Performance Problem
CHILDREN_HEALTH: 
PARENT_HEALTH: 
FILTER_RULE_NAME: Dev SMTP (전체)
FILTER_RULE_DESC: 
ALERT_SUMMARY_LINK: https://70.11.11.217/ui/index.action#/object/983ecbb8-ab11-4a32-bc91-66dbd86a5cb3/alertsAndSymptoms/alerts/5232a44a-6431-4daf-9c3e-875e02b70b99
ALERT_RECOMMENDATION: <span>ALERT_RECOMMENDATION: <br/>- 알림 설정을 검토하고 알림 수를 줄일 수 있도록 설정을 수정할 수 있는지 여부를 확인합니다.</span>
RESOURCE_HEALTH_STATE: 2.0
RESOURCE_RISK_STATE: 1.0
RESOURCE_EFFICIENCY_STATE: 1.0
ALERT_STATUS_TR: 경고 취소
ALERT_IMPACT_TR: 상태
ALERT_CRITICALITY_TR: 주의
ALERT_OWNER_TR: 할당되지 않음
AFFECTED_RESOURCE_KIND_TR: vRealize Operations 분석
ALERT_GENERATE_TIME_TR: 02-18 17:58 대한민국 표준시
ALERT_UPDATE_TIME_TR: -
ALERT_CANCEL_TIME_TR: 02-18 19:18 대한민국 표준시
ALERT_TYPE_TR: 애플리케이션
ALERT_SUBTYPE_TR: 성능
RESOURCE_HEALTH_STATE_TR: 주의
RESOURCE_RISK_STATE_TR: 정보
RESOURCE_EFFICIENCY_STATE_TR: 정보
ANOMALIES_TR: [{'Relation': 'self', 'Symptom Index': '1-1', 'Symptom Name': '분석에서 경고 알림을 보내지 못했습니다.', 'Object Name': 'vRealize Operations Manager Analytics-vRealize Cluster Node', 'Object ID': '983ecbb8-ab11-4a32-bc91-66dbd86a5cb3', 'Metric': '메트릭 증상이 아님', 'Message Info': 'Outbound Alert Send Failed for  instanceId = 44d5e9cd-ddf7-4ef5-8cd1-b5cb43dd3dac, plugin key = Dev SMTP 1123', 'StatKey': None, 'Criticality': 'Warning'}]
ALERT_RECOMMENDATION_TR: ['알림 설정을 검토하고 알림 수를 줄일 수 있도록 설정을 수정할 수 있는지 여부를 확인합니다.']


2018-07-22 20:28:04,882 INFO smtpserver SMTPServer configuration file loaded: smtpserver.cfg
2018-07-22 20:28:04,921 INFO smtpserver Localization resource file loaded: resources_ko.cfg
2019-10-04 16:49:15,729 INFO smtpserver SMTPServer configuration file loaded: smtpserver.cfg
2019-10-04 16:49:15,729 INFO smtpserver Localization resource file loaded: resources_ko.cfg
2019-10-04 16:49:15,729 DEBUG smtpserver get_vrops_auth_token() Getting vROps authorization token from: https://vrops.kccworld.co.kr/suite-api/api/auth/token/acquire
